var TimelessWeapp=(()=>{var u=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var E=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var b=(r,e)=>{for(var t in e)u(r,t,{get:e[t],enumerable:!0})},C=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of m(e))!y.call(r,n)&&n!==t&&u(r,n,{get:()=>e[n],enumerable:!(o=R(e,n))||o.enumerable});return r};var k=r=>C(u({},"__esModule",{value:!0}),r);var c=(r,e,t)=>E(r,typeof e!="symbol"?e+"":e,t);var z={};b(z,{provide_app:()=>f,provide_http_client:()=>p});function f(r){r.setTitle=e=>{wx.setNavigationBarTitle({title:e})},wx.onWindowResize(e=>{let{size:{windowWidth:t,windowHeight:o}}=e,n={width:t,height:o};n.width===r.screen.height&&n.height===r.screen.width&&(r.screen.width=n.height,r.screen.height=n.width,r.handleScreenOrientationChange(n.width>n.height?1:0)),r.handleResize(n)})}var s=class extends Error{constructor(t,o,n=null){super(t.join(`
`));c(this,"messages");c(this,"code");c(this,"data",null);this.messages=t,this.code=o,this.data=n}};var h={Ok:r=>({data:r,error:null}),Err:(r,e,t=null)=>({data:t,code:e,error:Array.isArray(r)?new s(r,e,t):typeof r=="string"?new s([r],e,t):r instanceof s?r:typeof r=="object"?new s([r.message],e,t):r?r.error:new s(["\u672A\u77E5\u9519\u8BEF"],e,t)})};function p(r){let e=[];r.fetch=t=>{let{url:o,method:n,id:i,data:w,headers:g}=t;return new Promise((x,a)=>{let T=wx.request({url:o,method:n,data:w,header:g,success(l){return e=e.filter(d=>d.id!==i),l.statusCode!==200?a(new Error(l.data)):x(l)},fail(l){return e=e.filter(d=>d.id!==i),a(new Error(l.errMsg))}});i&&e.push({id:i,source:T})})},r.cancel=t=>{let o=e.find(n=>n.id===t);return o?(e=e.filter(n=>n.id!==t),o.source.abort(),h.Ok(null)):h.Err("\u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u8BF7\u6C42")}}return k(z);})();
window.TimelessWeapp=TimelessWeapp;
