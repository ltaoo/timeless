{"version":3,"sources":["../node_modules/es-errors/type.js","../node_modules/object-inspect/index.js","../node_modules/side-channel-list/index.js","../node_modules/es-object-atoms/index.js","../node_modules/es-errors/index.js","../node_modules/es-errors/eval.js","../node_modules/es-errors/range.js","../node_modules/es-errors/ref.js","../node_modules/es-errors/syntax.js","../node_modules/es-errors/uri.js","../node_modules/math-intrinsics/abs.js","../node_modules/math-intrinsics/floor.js","../node_modules/math-intrinsics/max.js","../node_modules/math-intrinsics/min.js","../node_modules/math-intrinsics/pow.js","../node_modules/math-intrinsics/round.js","../node_modules/math-intrinsics/isNaN.js","../node_modules/math-intrinsics/sign.js","../node_modules/gopd/gOPD.js","../node_modules/gopd/index.js","../node_modules/es-define-property/index.js","../node_modules/has-symbols/shams.js","../node_modules/has-symbols/index.js","../node_modules/get-proto/Reflect.getPrototypeOf.js","../node_modules/get-proto/Object.getPrototypeOf.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/call-bind-apply-helpers/functionCall.js","../node_modules/call-bind-apply-helpers/functionApply.js","../node_modules/call-bind-apply-helpers/reflectApply.js","../node_modules/call-bind-apply-helpers/actualApply.js","../node_modules/call-bind-apply-helpers/index.js","../node_modules/dunder-proto/get.js","../node_modules/get-proto/index.js","../node_modules/hasown/index.js","../node_modules/get-intrinsic/index.js","../node_modules/call-bound/index.js","../node_modules/side-channel-map/index.js","../node_modules/side-channel-weakmap/index.js","../node_modules/side-channel/index.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../node_modules/qs/lib/index.js","../node_modules/requires-port/index.js","../node_modules/querystringify/index.js","../node_modules/url-parse/index.js","../node_modules/dayjs/dayjs.min.js","../node_modules/dayjs/locale/zh-cn.js","../node_modules/dayjs/plugin/relativeTime.js","../domains/index.ts","../node_modules/mitt/src/index.ts","../domains/base.ts","../domains/ui/cur/index.ts","../domains/ui/button/index.ts","../domains/ui/presence/index.ts","../domains/ui/checkbox/index.ts","../domains/ui/popper/index.ts","../domains/ui/dismissable-layer/index.ts","../domains/ui/menu/index.ts","../domains/ui/context-menu/index.ts","../domains/ui/dialog/index.ts","../domains/ui/dropdown-menu/index.ts","../domains/ui/focus-scope/index.ts","../domains/error/index.ts","../domains/result/index.ts","../domains/ui/form/index.ts","../domains/ui/image/index.ts","../domains/ui/form/input/index.ts","../domains/ui/node/index.ts","../domains/ui/popover/index.ts","../domains/ui/progress/index.ts","../domains/ui/collection/index.ts","../domains/ui/roving-focus/index.ts","../domains/ui/scroll-view/utils.ts","../domains/ui/scroll-view/index.ts","../domains/ui/select/index.ts","../domains/ui/tabs/index.ts","../domains/ui/toast/index.ts","../domains/ui/tree/index.ts","../domains/ui/menu/item.ts","../domains/ui/checkbox/group.ts","../domains/app/index.ts","../domains/navigator/index.ts","../utils/index.ts","../domains/route_view/utils.ts","../domains/route_view/index.ts","../domains/history/index.ts","../domains/http_client/index.ts","../domains/request/index.ts","../utils/lodash/debounce.ts","../domains/list/constants.ts","../domains/list/utils.ts","../domains/list/index.ts","../domains/multiple/index.ts","../domains/qrcode/core.ts","../domains/qrcode/index.ts","../domains/storage/index.ts","../domains/system/index.ts","../domains/timer/index.ts","../domains/video_player/index.ts"],"sourcesContent":["'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar formats = require('./formats');\nvar getSideChannel = require('side-channel');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\n// Track objects created from arrayLimit overflow using side-channel\n// Stores the current max numeric index for O(1) lookup\nvar overflowChannel = getSideChannel();\n\nvar markOverflow = function markOverflow(obj, maxIndex) {\n    overflowChannel.set(obj, maxIndex);\n    return obj;\n};\n\nvar isOverflow = function isOverflow(obj) {\n    return overflowChannel.has(obj);\n};\n\nvar getMaxIndex = function getMaxIndex(obj) {\n    return overflowChannel.get(obj);\n};\n\nvar setMaxIndex = function setMaxIndex(obj, maxIndex) {\n    overflowChannel.set(obj, maxIndex);\n};\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (isOverflow(target)) {\n                // Add at next numeric index for overflow objects\n                var newIndex = getMaxIndex(target) + 1;\n                target[newIndex] = source;\n                setMaxIndex(target, newIndex);\n            } else if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        if (isOverflow(source)) {\n            // Create new object with target at 0, source values shifted by 1\n            var sourceKeys = Object.keys(source);\n            var result = options && options.plainObjects\n                ? { __proto__: null, 0: target }\n                : { 0: target };\n            for (var m = 0; m < sourceKeys.length; m++) {\n                var oldKey = parseInt(sourceKeys[m], 10);\n                result[oldKey + 1] = source[sourceKeys[m]];\n            }\n            return markOverflow(result, getMaxIndex(source) + 1);\n        }\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b, arrayLimit, plainObjects) {\n    // If 'a' is already an overflow object, add to it\n    if (isOverflow(a)) {\n        var newIndex = getMaxIndex(a) + 1;\n        a[newIndex] = b;\n        setMaxIndex(a, newIndex);\n        return a;\n    }\n\n    var result = [].concat(a, b);\n    if (result.length > arrayLimit) {\n        return markOverflow(arrayToObject(result, { plainObjects: plainObjects }), result.length - 1);\n    }\n    return result;\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isOverflow: isOverflow,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            if (key !== null) {\n                val = utils.maybeMap(\n                    parseArrayValue(\n                        part.slice(pos + 1),\n                        options,\n                        isArray(obj[key]) ? obj[key].length : 0\n                    ),\n                    function (encodedVal) {\n                        return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                    }\n                );\n            }\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (key !== null) {\n            var existing = has.call(obj, key);\n            if (existing && options.duplicates === 'combine') {\n                obj[key] = utils.combine(\n                    obj[key],\n                    val,\n                    options.arrayLimit,\n                    options.plainObjects\n                );\n            } else if (!existing || options.duplicates === 'last') {\n                obj[key] = val;\n            }\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            if (utils.isOverflow(leaf)) {\n                // leaf is already an overflow object, preserve it\n                obj = leaf;\n            } else {\n                obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                    ? []\n                    : utils.combine(\n                        [],\n                        leaf,\n                        options.arrayLimit,\n                        options.plainObjects\n                    );\n            }\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar splitKeyIntoSegments = function splitKeyIntoSegments(givenKey, options) {\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    if (options.depth <= 0) {\n        if (!options.plainObjects && has.call(Object.prototype, key)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        return [key];\n    }\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    var keys = [];\n\n    if (parent) {\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n\n        var segmentContent = segment[1].slice(1, -1);\n        if (!options.plainObjects && has.call(Object.prototype, segmentContent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return keys;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    var keys = splitKeyIntoSegments(givenKey, options);\n\n    if (!keys) {\n        return;\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","!function(e,_){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=_(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],_):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_zh_cn=_(e.dayjs)}(this,(function(e){\"use strict\";function _(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var t=_(e),d={name:\"zh-cn\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"1_2_3_4_5_6_7_8_9_10_11_12\".split(\"_\"),ordinal:function(e,_){return\"W\"===_?e+\"\":e+\"\"},weekStart:1,yearStart:4,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY/MM/DD\",LL:\"YYYYMD\",LLL:\"YYYYMDAhmm\",LLLL:\"YYYYMDddddAhmm\",l:\"YYYY/M/D\",ll:\"YYYYMD\",lll:\"YYYYMD HH:mm\",llll:\"YYYYMDdddd HH:mm\"},relativeTime:{future:\"%s\",past:\"%s\",s:\"\",m:\"1 \",mm:\"%d \",h:\"1 \",hh:\"%d \",d:\"1 \",dd:\"%d \",M:\"1 \",MM:\"%d \",y:\"1 \",yy:\"%d \"},meridiem:function(e,_){var t=100*e+_;return t<600?\"\":t<900?\"\":t<1100?\"\":t<1300?\"\":t<1800?\"\":\"\"}};return t.default.locale(d,null,!0),d}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","export * from \"./base\";\nexport * from \"./ui\";\nexport * from \"./app\";\nexport * from \"./error\";\nexport * from \"./history\";\nexport * from \"./http_client\";\nexport * from \"./list\";\nexport * from \"./multiple\";\nexport * from \"./navigator\";\nexport * from \"./qrcode\";\nexport * from \"./request\";\nexport * from \"./result\";\nexport * from \"./route_view\";\nexport * from \"./storage\";\nexport * from \"./system\";\nexport * from \"./timer\";\nexport * from \"./video_player\";\n","export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<\n\tWildcardHandler<T>\n>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(\n\t\ttype: Key,\n\t\thandler?: Handler<Events[Key]>\n\t): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(\n\t\ttype: undefined extends Events[Key] ? Key : never\n\t): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t} else {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from (`'*'` to remove a wildcard handler)\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * \n */\nimport mitt, { EventType, Handler } from \"mitt\";\n\n// import { uidFactory } from \"@/utils/index\";\n\nfunction uid_factory() {\n  let _uid = 0;\n  return function uid() {\n    _uid += 1;\n    return _uid;\n  };\n}\n\nconst uid = uid_factory();\n\n//  Tip  0 Events  Key \nenum BaseEvents {\n  Loading = \"__loading\",\n  Destroy = \"__destroy\",\n}\ntype TheTypesOfBaseEvents = {\n  [BaseEvents.Destroy]: void;\n};\ntype BaseDomainEvents<E> = TheTypesOfBaseEvents & E;\n\n// const uid = uid_factory();\nexport function base<Events extends Record<EventType, unknown>>() {\n  const emitter = mitt<BaseDomainEvents<Events>>();\n  let listeners: (() => void)[] = [];\n\n  return {\n    off<Key extends keyof BaseDomainEvents<Events>>(event: Key, handler: Handler<BaseDomainEvents<Events>[Key]>) {\n      emitter.off(event, handler);\n    },\n    on<Key extends keyof BaseDomainEvents<Events>>(event: Key, handler: Handler<BaseDomainEvents<Events>[Key]>) {\n      const unlisten = () => {\n        listeners = listeners.filter((l) => l !== unlisten);\n        this.off(event, handler);\n      };\n      listeners.push(unlisten);\n      emitter.on(event, handler);\n      return unlisten;\n    },\n    uid,\n    emit<Key extends keyof BaseDomainEvents<Events>>(event: Key, value?: BaseDomainEvents<Events>[Key]) {\n      emitter.emit(event, value as any);\n    },\n    destroy() {\n      for (let i = 0; i < listeners.length; i += 1) {\n        const off = listeners[i];\n        off();\n      }\n      this.emit(BaseEvents.Destroy, null as any);\n    },\n  };\n}\n\nexport class BaseDomain<Events extends Record<EventType, unknown>> {\n  /**  Domain  */\n  unique_id = \"BaseDomain\";\n  debug = false;\n\n  _emitter = mitt<BaseDomainEvents<Events>>();\n  // event callback \n  // @ts-ignore\n  listeners: Record<keyof BaseDomainEvents<Events>, (() => void)[]> = {};\n\n  constructor(props: {} = {}) {\n    // @ts-ignore\n    const { unique_id, debug } = props;\n    if (unique_id) {\n      this.unique_id = unique_id;\n    }\n  }\n  uid() {\n    return uid();\n  }\n  log(...args: unknown[]) {\n    if (!this.debug) {\n      return [];\n    }\n    // const error = new Error();\n    // const lineNumber = error.stack.split(\"\\n\")[2].trim().split(\" \")[1];\n    // console.log(error.stack.split(\"\\n\"));\n    return [\n      `%c CORE %c ${this.unique_id} %c`,\n      \"color:white;background:#dfa639;border-top-left-radius:2px;border-bottom-left-radius:2px;\",\n      \"color:white;background:#19be6b;border-top-right-radius:2px;border-bottom-right-radius:2px;\",\n      \"color:#19be6b;\",\n      ...args,\n    ];\n  }\n  errorTip(...args: unknown[]) {\n    if (!this.debug) {\n      return;\n    }\n    console.log(\n      `%c CORE %c ${this.unique_id} %c`,\n      \"color:white;background:red;border-top-left-radius:2px;border-bottom-left-radius:2px;\",\n      \"color:white;background:#19be6b;border-top-right-radius:2px;border-bottom-right-radius:2px;\",\n      \"color:#19be6b;\",\n      ...args\n    );\n  }\n  off<Key extends keyof BaseDomainEvents<Events>>(event: Key, handler: Handler<BaseDomainEvents<Events>[Key]>) {\n    this._emitter.off(event, handler);\n  }\n  offEvent<Key extends keyof BaseDomainEvents<Events>>(k: Key) {\n    const listeners = this.listeners[k] || [];\n    // console.log(\"[BASE]offEvent - \", this.unique_id, k, this.listeners[k], listeners);\n    for (let i = 0; i < listeners.length; i += 1) {\n      const off = listeners[i];\n      off();\n    }\n  }\n  on<Key extends keyof BaseDomainEvents<Events>>(event: Key, handler: Handler<BaseDomainEvents<Events>[Key]>) {\n    const unlisten = () => {\n      const listeners = this.listeners[event] || [];\n      this.listeners[event] = listeners.filter((l) => l !== unlisten);\n      this.off(event, handler);\n    };\n    const listeners = this.listeners[event] || [];\n    listeners.push(unlisten);\n    this.listeners[event] = listeners;\n    // console.log(\"[BASE]on - \", this.unique_id, event, this.listeners[event], listeners);\n    this._emitter.on(event, handler);\n    return unlisten;\n  }\n  emit<Key extends keyof BaseDomainEvents<Events>>(event: Key, value?: BaseDomainEvents<Events>[Key]) {\n    // @ts-ignore\n    this._emitter.emit(event, value);\n  }\n  /**  */\n  destroy() {\n    // this.log(this.name, \"destroy\");\n    Object.keys(this.listeners).map((k) => {\n      const listeners = this.listeners[k as string] || [];\n      for (let i = 0; i < listeners.length; i += 1) {\n        const off = listeners[i];\n        off();\n      }\n    });\n    this.emit(BaseEvents.Destroy);\n  }\n  onDestroy(handler: Handler<TheTypesOfBaseEvents[BaseEvents.Destroy]>) {\n    return this.on(BaseEvents.Destroy, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"Domain\";\n  }\n}\n\n// This can live anywhere in your codebase:\nexport function applyMixins(derivedCtor: any, constructors: any[]) {\n  constructors.forEach((baseCtor) => {\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\n      Object.defineProperty(\n        derivedCtor.prototype,\n        name,\n        Object.getOwnPropertyDescriptor(baseCtor.prototype, name) || Object.create(null)\n      );\n    });\n  });\n}\n\nexport type { Handler };\n\n// function AAAView() {\n//   const state = createState({\n//     loading: true,\n//   });\n//   const request = createRequest({});\n//   const ui = createUI({});\n//   const methods = {};\n//   const lifecycle = {\n//     mounted() {\n//       state.loading = false;\n//     },\n//   };\n//   const vm = defineViewModel({\n//     state,\n//     methods,\n//     lifecycle,\n//   });\n//   return vm;\n// }\n\n/**\n * \n\nimport { ViewComponentProps } from \"@/store/types\";\nimport { useViewModel } from \"@/hooks\";\nimport { base, Handler } from \"@/domains/base\";\n\nfunction HomeActionCreatePageViewModel(props: ViewComponentProps) {\n  const methods = {\n    refresh() {\n      bus.emit(Events.StateChange, { ..._state });\n    },\n  };\n  const ui = {};\n  let _state = {};\n  enum Events {\n    StateChange,\n    Error,\n  }\n  type TheTypesOfEvents = {\n    [Events.StateChange]: typeof _state;\n    [Events.Error]: BizError;\n  };\n  const bus = base<TheTypesOfEvents>();\n\n  return {\n    methods,\n    ui,\n    state: _state,\n    ready() {},\n    destroy() {\n      bus.destroy();\n    },\n    onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n      return bus.on(Events.StateChange, handler);\n    },\n    onError(handler: Handler<TheTypesOfEvents[Events.Error]>) {\n      return bus.on(Events.Error, handler);\n    },\n  };\n}\n\nexport function HomeActionCreatePage(props: ViewComponentProps) {\n  const vm = useViewModel(HomeActionCreatePageViewModel, [props]);\n\n  return <div>Hello</div>;\n}\n\n */\n","/**\n * @file /\n *  useRef\n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.StateChange]: T;\n};\ntype RefProps<T> = {\n  defaultValue?: T;\n  onChange?: (v: T) => void;\n};\ntype RefState = {};\nexport class RefCore<T> extends BaseDomain<TheTypesOfEvents<T>> {\n  value: T | null = null;\n\n  get state(): T | null {\n    return this.value;\n  }\n\n  constructor(options: Partial<{ _name: string }> & RefProps<T> = {}) {\n    super(options);\n\n    const { defaultValue, onChange } = options;\n    if (defaultValue) {\n      this.value = defaultValue;\n    }\n    if (onChange) {\n      this.onStateChange(onChange);\n    }\n  }\n\n  /**  */\n  select(value: T) {\n    this.value = value;\n    this.emit(Events.StateChange, this.value);\n  }\n  patch(value: Partial<T>) {\n    this.value = {\n      ...this.value,\n      ...value,\n    } as T;\n    this.emit(Events.StateChange, this.value);\n  }\n  /**  */\n  isEmpty() {\n    return this.value === null;\n  }\n  /**  select  value  value  null */\n  clear() {\n    // const v = this.value;\n    this.value = null;\n    this.emit(Events.StateChange);\n    // return v;\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { RefCore } from \"@/domains/ui/cur\";\n\nenum Events {\n  Click,\n  StateChange,\n}\ntype TheTypesOfEvents<T = unknown> = {\n  [Events.Click]: T | null;\n  [Events.StateChange]: ButtonState;\n};\ntype ButtonState = {\n  text: string;\n  loading: boolean;\n  disabled: boolean;\n};\ntype ButtonProps<T = unknown> = {\n  disabled?: boolean;\n  onClick: (record: T | null) => void;\n};\nexport class ButtonCore<T = unknown> extends BaseDomain<TheTypesOfEvents<T>> {\n  id = this.uid();\n  cur: RefCore<T>;\n\n  state: ButtonState = {\n    text: \"Click it\",\n    loading: false,\n    disabled: false,\n  };\n\n  constructor(props: Partial<{ _name: string } & ButtonProps<T>> = {}) {\n    super(props);\n\n    if (props.disabled !== undefined) {\n      this.state.disabled = props.disabled;\n    }\n    this.cur = new RefCore();\n    if (props.onClick) {\n      this.onClick(() => {\n        props.onClick?.(this.cur.value);\n      });\n    }\n  }\n  /**  */\n  click() {\n    // console.log(\"click\", this.state.loading, this.state.disabled);\n    if (this.state.loading) {\n      return;\n    }\n    if (this.state.disabled) {\n      return;\n    }\n    this.emit(Events.Click);\n  }\n  /**  */\n  disable() {\n    this.state.disabled = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  enable() {\n    this.state.disabled = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  bind(v: T) {\n    this.cur.select(v);\n    return this;\n  }\n  setLoading(loading: boolean) {\n    if (this.state.loading === loading) {\n      return;\n    }\n    this.state.loading = loading;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onClick(handler: Handler<TheTypesOfEvents<T>[Events.Click]>) {\n    this.on(Events.Click, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n\ntype ButtonInListProps<T = unknown> = {\n  onClick: (record: T) => void;\n};\n\ntype TheTypesInListOfEvents<T> = {\n  [Events.Click]: T;\n  [Events.StateChange]: ButtonState;\n};\n\nexport class ButtonInListCore<T> extends BaseDomain<TheTypesInListOfEvents<T>> {\n  /**  */\n  btns: ButtonCore<T>[] = [];\n  /**  */\n  cur: ButtonCore<T> | null = null;\n\n  constructor(options: Partial<{ _name: string } & ButtonInListProps<T>> = {}) {\n    super(options);\n\n    const { onClick } = options;\n    if (onClick) {\n      this.onClick(onClick);\n    }\n  }\n\n  /**  */\n  bind(v: T) {\n    const existing = this.btns.find((btn) => {\n      return btn.cur.value === v;\n    });\n    if (existing) {\n      return existing;\n    }\n    const btn = new ButtonCore<T>({\n      onClick: (record) => {\n        this.cur = btn;\n        this.emit(Events.Click, record!);\n      },\n    });\n    btn.bind(v);\n    this.btns.push(btn);\n    return btn;\n  }\n  /**  */\n  clear() {\n    this.cur = null;\n  }\n  setLoading(loading: boolean) {\n    // console.log(\"set loading\", loading, this.cur);\n    if (this.cur === null) {\n      for (let i = 0; i < this.btns.length; i += 1) {\n        const btn = this.btns[i];\n        btn.setLoading(loading);\n      }\n      return;\n    }\n    this.cur.setLoading(loading);\n  }\n  click() {\n    if (this.cur === null) {\n      return;\n    }\n    this.cur.click();\n  }\n\n  onClick(handler: Handler<TheTypesInListOfEvents<T>[Events.Click]>) {\n    this.on(Events.Click, handler);\n  }\n  onStateChange(handler: Handler<TheTypesInListOfEvents<T>[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","/**\n * @file  Popup\n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n  PresentChange,\n  Show,\n  TmpShow,\n  Hidden,\n  TmpHidden,\n  Unmounted,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: PresenceState;\n  [Events.PresentChange]: boolean;\n  [Events.Show]: void;\n  [Events.TmpShow]: void;\n  [Events.Hidden]: void;\n  [Events.TmpHidden]: void;\n  [Events.Unmounted]: void;\n};\nconst PresenceEventMap = {\n  mounted: {\n    UNMOUNT: \"unmounted\",\n    ANIMATION_OUT: \"unmountSuspended\",\n  },\n  unmountSuspended: {\n    MOUNT: \"mounted\",\n    ANIMATION_END: \"unmounted\",\n  },\n  unmounted: {\n    MOUNT: \"mounted\",\n  },\n};\ntype PresenceState = {\n  mounted: boolean;\n  enter: boolean;\n  visible: boolean;\n  exit: boolean;\n  text: string;\n};\ntype PresenceProps = {\n  mounted?: boolean;\n  visible?: boolean;\n};\n\nexport class PresenceCore extends BaseDomain<TheTypesOfEvents> {\n  name = \"PresenceCore\";\n  debug = false;\n\n  animationName = \"none\";\n\n  mounted = false;\n  enter = false;\n  visible = false;\n  exit = false;\n\n  get state(): PresenceState {\n    return {\n      mounted: this.mounted,\n      enter: this.enter,\n      visible: this.visible,\n      exit: this.exit,\n      text: (() => {\n        if (this.exit) {\n          return \"exit\";\n        }\n        if (this.enter) {\n          return \"enter\";\n        }\n        if (this.visible) {\n          return \"visible\";\n        }\n        return \"unknown\";\n      })(),\n    };\n  }\n\n  constructor(props: Partial<{ _name: string }> & PresenceProps = {}) {\n    super(props);\n\n    const { mounted = false, visible = false } = props;\n    this.mounted = mounted;\n    this.visible = visible;\n    if (visible) {\n      this.mounted = true;\n    }\n  }\n  toggle() {\n    if (this.visible) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  show() {\n    if (this.mounted === false) {\n      this.mounted = true;\n    }\n    this.exit = false;\n    this.enter = true;\n    this.visible = true;\n    this.emit(Events.StateChange, { ...this.state });\n    setTimeout(() => {\n      this.emit(Events.Show);\n      // this.emit(Events.StateChange, { ...this.state });\n      // 180 \n    }, 180);\n  }\n  hide(options: Partial<{ reason: \"show_sibling\" | \"back\" | \"forward\"; destroy: boolean }> = {}) {\n    // console.log(\"[DOMAIN]ui/presence - hide\", options);\n    const { destroy = true } = options;\n    if (destroy === false) {\n      // \n      this.exit = true;\n      this.enter = false;\n      this.emit(Events.StateChange, { ...this.state });\n      setTimeout(() => {\n        this.visible = false;\n        this.emit(Events.Hidden);\n        this.emit(Events.StateChange, { ...this.state });\n      }, 180);\n      return;\n    }\n    this.exit = true;\n    this.enter = false;\n    this.emit(Events.StateChange, { ...this.state });\n    setTimeout(() => {\n      this.visible = false;\n      this.emit(Events.Hidden);\n      this.emit(Events.StateChange, { ...this.state });\n      this.unmount();\n    }, 180);\n  }\n  /**  DOM  */\n  unmount() {\n    // console.log(\"[]PresenceCore - destroy\", this.visible, this.exit);\n    // if (this.open) {\n    //   return;\n    // }\n    this.mounted = false;\n    this.enter = false;\n    this.visible = false;\n    this.exit = false;\n    this.emit(Events.Unmounted);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  reset() {\n    this.mounted = false;\n    this.enter = false;\n    this.visible = false;\n    this.exit = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onTmpShow(handler: Handler<TheTypesOfEvents[Events.TmpShow]>) {\n    return this.on(Events.TmpShow, handler);\n  }\n  onTmpHidden(handler: Handler<TheTypesOfEvents[Events.TmpHidden]>) {\n    return this.on(Events.TmpHidden, handler);\n  }\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHidden(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onUnmounted(handler: Handler<TheTypesOfEvents[Events.Unmounted]>) {\n    return this.on(Events.Unmounted, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onPresentChange(handler: Handler<TheTypesOfEvents[Events.PresentChange]>) {\n    return this.on(Events.PresentChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"Presence\";\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\n\nenum Events {\n  StateChange,\n  Change,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: CheckboxState;\n  [Events.Change]: boolean;\n};\ntype CheckboxProps = {\n  label?: string;\n  checked?: boolean;\n  value?: boolean;\n  disabled?: boolean;\n  required?: boolean;\n  onChange?: (checked: boolean) => void;\n};\ntype CheckboxState = CheckboxProps & {\n  // value: boolean;\n};\n\nexport class CheckboxCore extends BaseDomain<TheTypesOfEvents> {\n  shape = \"checkbox\" as const;\n\n  label: string;\n  disabled: CheckboxProps[\"disabled\"];\n  checked: boolean;\n  // value: boolean;\n  defaultChecked: boolean;\n\n  presence: PresenceCore;\n\n  get state(): CheckboxState {\n    return {\n      label: this.label,\n      checked: this.checked,\n      value: this.checked,\n      disabled: this.disabled,\n    };\n  }\n  get value() {\n    return this.state.value;\n  }\n  get defaultValue() {\n    return this.defaultChecked;\n  }\n\n  prev_checked = false;\n\n  constructor(props: { _name?: string } & CheckboxProps = {}) {\n    super(props);\n\n    const { label = \"\", disabled = false, checked = false, onChange } = props;\n    this.label = label;\n    this.disabled = disabled;\n    this.checked = checked;\n    // this.value = checked;\n    this.defaultChecked = checked;\n\n    this.presence = new PresenceCore();\n    if (onChange) {\n      this.onChange(onChange);\n    }\n  }\n\n  /**  */\n  toggle() {\n    const prev_checked = this.checked;\n    // console.log(\"[DOMAIN]checkbox - check\", prevChecked);\n    (() => {\n      if (prev_checked) {\n        this.presence.hide();\n        return;\n      }\n      this.presence.show();\n    })();\n    this.checked = true;\n    if (prev_checked) {\n      this.checked = false;\n    }\n    this.prev_checked = prev_checked;\n    this.emit(Events.Change, this.checked);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  check() {\n    if (this.checked === true) {\n      return;\n    }\n    this.presence.show();\n    this.prev_checked = this.checked;\n    this.checked = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  uncheck() {\n    if (this.checked === false) {\n      return;\n    }\n    this.presence.hide();\n    this.prev_checked = this.checked;\n    this.checked = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  reset() {\n    this.checked = this.defaultChecked;\n  }\n  setValue(v: boolean) {\n    this.checked = v;\n  }\n\n  onChange(handler: Handler<TheTypesOfEvents[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { Rect } from \"@/types\";\n\nimport type {\n  Alignment,\n  Placement,\n  Coords,\n  Strategy,\n  Middleware,\n  MiddlewareData,\n  Padding,\n  SideObject,\n  Axis,\n  Length,\n} from \"./types\";\n\nconst SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"] as const;\nconst ALIGN_OPTIONS = [\"start\", \"center\", \"end\"] as const;\nexport type Side = (typeof SIDE_OPTIONS)[number];\nexport type Align = (typeof ALIGN_OPTIONS)[number];\n\nenum Events {\n  /**  */\n  ReferenceMounted,\n  /**  */\n  FloatingMounted,\n  /**  */\n  Placed,\n  /**  */\n  Enter,\n  /**  */\n  Leave,\n  StateChange,\n  /**  */\n  ContainerChange,\n}\ntype TheTypesOfEvents = {\n  [Events.FloatingMounted]: {\n    getRect: () => Rect;\n    // width: number;\n    // height: number;\n    // x: number;\n    // y: number;\n  };\n  [Events.ReferenceMounted]: {\n    getRect: () => Rect;\n    // width: number;\n    // height: number;\n    // x: number;\n    // y: number;\n  };\n  [Events.ContainerChange]: Node;\n  [Events.Placed]: PopperState;\n  [Events.Enter]: void;\n  [Events.Leave]: void;\n  [Events.StateChange]: PopperState;\n};\ntype PopperProps = {\n  side: Side;\n  align: Align;\n  strategy: \"fixed\" | \"absolute\";\n  middleware: Middleware[];\n};\ntype PopperState = {\n  strategy: Strategy;\n  x: number;\n  y: number;\n  // placement: Placement;\n  isPlaced: boolean;\n  placedSide: Side;\n  placedAlign: Align;\n  /** DOM */\n  reference: boolean;\n};\nexport class PopperCore extends BaseDomain<TheTypesOfEvents> {\n  unique_id = \"PopperCore\";\n  debug = true;\n\n  // side: Side = \"bottom\";\n  // align: Align = \"center\";\n  placement: Placement = \"bottom\";\n  strategy: Strategy = \"absolute\";\n  middleware: Middleware[] = [];\n  // sideOffset = 0;\n  // alignOffset = 0;\n  // arrowPadding = 0;\n  // collisionBoundary = [];\n  // collisionPadding: collisionPaddingProp = 0;\n  // sticky = \"partial\";\n  // hideWhenDetached = false;\n  // avoidCollisions = true;\n  // onPlaced;\n  reference: {\n    getRect: () => Rect;\n    // x: number;\n    // y: number;\n    // width: number;\n    // height: number;\n  } | null = null;\n  floating: {\n    getRect: () => Rect;\n    // x: number;\n    // y: number;\n    // width: number;\n    // height: number;\n  } | null = null;\n  container: Node | null = null;\n  arrow: {\n    width: number;\n    height: number;\n  } | null = null;\n\n  state: PopperState = {\n    strategy: \"absolute\",\n    x: 0,\n    y: 0,\n    isPlaced: false,\n    placedSide: \"bottom\",\n    placedAlign: \"center\",\n    reference: false,\n  };\n\n  _enter = false;\n  _focus = false;\n\n  constructor(options: Partial<{ _name: string }> & Partial<PopperProps> = {}) {\n    super(options);\n\n    const { _name, side = \"bottom\", align = \"center\", strategy = \"absolute\", middleware = [] } = options;\n    if (_name) {\n      this.unique_id = _name;\n    }\n    this.strategy = strategy;\n    this.placement = (side + (align !== \"center\" ? \"-\" + align : \"\")) as Placement;\n    // const validMiddleware = middleware.filter(Boolean) as Middleware[];\n  }\n\n  /**  */\n  setReference(reference: { $el?: unknown; getRect: () => Rect }, opt: Partial<{ force: boolean }> = {}) {\n    // this.log(\"setReference\", this.reference, reference.$el);\n    if (this.reference !== null && !opt.force) {\n      return;\n    }\n    this.reference = reference;\n    this.state.reference = true;\n    this.emit(Events.ReferenceMounted, reference);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  updateReference(reference: { getRect: () => Rect }) {\n    // this.log(\"updateReference\", this.reference);\n    this.reference = reference;\n  }\n  removeReference() {\n    if (this.reference === null) {\n      return;\n    }\n    this.state.reference = false;\n    this.reference = null;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  setFloating(floating: PopperCore[\"floating\"]) {\n    if (floating === null) {\n      return;\n    }\n    this.floating = floating;\n    this.emit(Events.FloatingMounted, floating);\n  }\n  /**  */\n  setArrow(arrow: PopperCore[\"arrow\"]) {\n    this.arrow = arrow;\n  }\n  setContainer(container: Node) {\n    // this.container = container;\n    // this.emit(Events.ContainerChange, container);\n  }\n  setConfig(config: { placement?: Placement; strategy?: Strategy }) {}\n  setState(v: { x: number; y: number }) {\n    this.state.x = v.x;\n    this.state.y = v.y;\n    this.state.isPlaced = true;\n    this.emit(Events.StateChange, {\n      ...this.state,\n    });\n  }\n  place2(floating: { x: number; y: number; width: number; height: number }) {\n    const reference = this.reference;\n    if (!reference) {\n      return;\n    }\n    const ref = reference.getRect();\n    const { clientHeight, clientWidth } = window.document.documentElement;\n    const position = {\n      x: ref.x,\n      y: ref.y + ref.height + 4,\n    };\n    // console.log(\"[COMPONENT]dropdown-menu - ref\", ref.x, ref.y, ref.width, ref.height);\n    // console.log(\"[COMPONENT]dropdown-menu - floating\", floating.width, floating.height);\n    if (clientHeight - position.y < floating.height + 24) {\n      position.y = ref.y - floating.height - 4;\n    }\n    if (clientWidth - position.x < floating.width + 24) {\n      position.x = ref.x + ref.width - floating.width - 4;\n    }\n    if (position.y <= 0) {\n      position.y = 12;\n    }\n    this.setState(position);\n  }\n  /**  */\n  async place() {\n    // console.log(...this.log(\"place\", this.reference, this.floating));\n    this.middleware = [\n      // arrow({\n      //   element: this.floating,\n      // }),\n      // transformOriginMiddleware({\n      //   element: this.arrow,\n      // }),\n    ];\n    if (this.reference === null || this.floating === null) {\n      return;\n    }\n    const coords = await this.computePosition();\n    const { x, y, middlewareData } = coords;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(this.placement);\n    this.state = {\n      x,\n      y,\n      strategy: this.strategy,\n      isPlaced: true,\n      placedSide,\n      placedAlign,\n      reference: true,\n    };\n    // console.log(...this.log(\"place - before emit placed\", { x, y }));\n    this.emit(Events.StateChange, {\n      ...this.state,\n    });\n  }\n  async computePosition() {\n    const rtl = true;\n    const { placement, strategy } = this;\n    let statefulPlacement = placement;\n    // @todo  this.reference \n    const reference = this.reference!.getRect();\n    const floating = this.floating!.getRect();\n    const rects = {\n      reference,\n      floating,\n    };\n    let { x, y } = this.computeCoordsFromPlacement(rects, placement, rtl);\n    // console.log('[]this.computeCoordsFromPlacement result', x, y);\n    let middlewareData: MiddlewareData = {};\n    for (let i = 0; i < this.middleware.length; i++) {\n      const { name, fn } = this.middleware[i];\n      const {\n        x: nextX,\n        y: nextY,\n        data,\n        reset,\n      } = await fn({\n        x,\n        y,\n        initialPlacement: placement,\n        placement: statefulPlacement,\n        strategy,\n        middlewareData,\n        rects,\n        elements: { reference, floating },\n      });\n\n      x = nextX ?? x;\n      y = nextY ?? y;\n\n      middlewareData = {\n        ...middlewareData,\n        [name]: {\n          ...middlewareData[name],\n          ...data,\n        },\n      };\n    }\n    return {\n      x,\n      y,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n    };\n  }\n  /**  */\n  computeCoordsFromPlacement(elms: { reference: Rect; floating: Rect }, placement: Placement, rtl?: boolean): Coords {\n    const { reference, floating } = elms;\n    console.log(\"computeCoordsFromPlacement\", reference, floating);\n    const commonX = reference.x + reference.width / 2 - floating.width / 2;\n    const commonY = reference.y + reference.height / 2 - floating.height / 2;\n    //  x/y\n    const mainAxis = getMainAxisFromPlacement(placement);\n    // height/width\n    const length = getLengthFromAxis(mainAxis);\n    const commonAlign = reference[length] / 2 - floating[length] / 2;\n    const side = getSide(placement);\n    const isVertical = mainAxis === \"x\";\n    let coords;\n    switch (side) {\n      case \"top\":\n        coords = { x: commonX, y: reference.y - floating.height };\n        break;\n      case \"bottom\":\n        coords = { x: commonX, y: reference.y + reference.height };\n        break;\n      case \"right\":\n        coords = { x: reference.x + reference.width, y: commonY };\n        break;\n      case \"left\":\n        coords = { x: reference.x - floating.width, y: commonY };\n        break;\n      default:\n        coords = { x: reference.x, y: reference.y };\n    }\n    switch (getAlignment(placement)) {\n      case \"start\":\n        coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n        break;\n      case \"end\":\n        coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n        break;\n      default:\n    }\n    return coords;\n  }\n  handleEnter() {\n    // this.log(\"enter\", this.reference?.x, this._enter);\n    if (this._enter === true) {\n      return;\n    }\n    this._enter = true;\n    this.emit(Events.Enter);\n  }\n  handleLeave() {\n    // this.log(\"leave\", this.reference?.x, this._enter);\n    if (this._enter === false) {\n      return;\n    }\n    this._enter = false;\n    this.emit(Events.Leave);\n  }\n  reset() {\n    this._enter = false;\n    this._focus = false;\n  }\n\n  onReferenceMounted(handler: Handler<TheTypesOfEvents[Events.ReferenceMounted]>) {\n    return this.on(Events.ReferenceMounted, handler);\n  }\n  onFloatingMounted(handler: Handler<TheTypesOfEvents[Events.FloatingMounted]>) {\n    return this.on(Events.FloatingMounted, handler);\n  }\n  onContainerChange(handler: Handler<TheTypesOfEvents[Events.ContainerChange]>) {\n    return this.on(Events.ContainerChange, handler);\n  }\n  onEnter(handler: Handler<TheTypesOfEvents[Events.Enter]>) {\n    return this.on(Events.Enter, handler);\n  }\n  onLeave(handler: Handler<TheTypesOfEvents[Events.Leave]>) {\n    return this.on(Events.Leave, handler);\n  }\n  onPlaced(handler: Handler<TheTypesOfEvents[Events.Placed]>) {\n    return this.on(Events.Placed, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"PopperCore\";\n  }\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction isDefined<T>(value: T | undefined): value is T {\n  return value !== undefined;\n}\nfunction isNotNull<T>(value: T | null): value is T {\n  return value !== null;\n}\nfunction getSideAndAlignFromPlacement(placement: Placement) {\n  const [side, align = \"center\"] = placement.split(\"-\");\n  return [side as Side, align as Align] as const;\n}\nfunction getSide(placement: Placement): Side {\n  return placement.split(\"-\")[0] as Side;\n}\nfunction getMainAxisFromPlacement(placement: Placement): Axis {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"x\" : \"y\";\n}\nfunction getLengthFromAxis(axis: Axis): Length {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getAlignment<T extends string>(placement: T): Alignment {\n  return placement.split(\"-\")[1] as Alignment;\n}\nfunction expandPaddingObject(padding: Partial<SideObject>): SideObject {\n  return { top: 0, right: 0, bottom: 0, left: 0, ...padding };\n}\nfunction getSideObjectFromPadding(padding: Padding): SideObject {\n  return typeof padding !== \"number\"\n    ? expandPaddingObject(padding)\n    : { top: padding, right: padding, bottom: padding, left: padding };\n}\n\nfunction within(min: number, value: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nexport const arrow = (options: { element: { width: number; height: number }; padding?: number }): Middleware => ({\n  name: \"arrow\",\n  options,\n  async fn(state) {\n    // Since `element` is required, we don't Partial<> the type.\n    const { element, padding = 0 } = options || {};\n    const { x, y, placement, rects, elements } = state;\n\n    if (element == null) {\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = { x, y };\n    const axis = getMainAxisFromPlacement(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = element;\n    const isYAxis = axis === \"y\";\n    const minProp = isYAxis ? \"top\" : \"left\";\n    const maxProp = isYAxis ? \"bottom\" : \"right\";\n    const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n\n    // const arrowOffsetParent = await platform.getOffsetParent?.(element);\n    // let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n    const clientSize = elements.floating[clientProp] || rects.floating[length];\n\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. This stops `shift()` from taking action, but can\n    // be worked around by calling it again after the `arrow()` if desired.\n    const shouldAddOffset =\n      getAlignment(placement) != null &&\n      center != offset &&\n      rects.reference[length] / 2 -\n        (center < min ? paddingObject[minProp] : paddingObject[maxProp]) -\n        arrowDimensions[length] / 2 <\n        0;\n    const alignmentOffset = shouldAddOffset ? (center < min ? min - center : max - center) : 0;\n\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset,\n      },\n    };\n  },\n});\n\nconst transformOriginMiddleware = (options: {\n  element: {\n    width: number;\n    height: number;\n  };\n}): Middleware => ({\n  name: \"transformOrigin\",\n  options,\n  fn(data) {\n    const { element } = options;\n    if (!element) {\n      return {\n        data: {\n          x: 0,\n          y: 0,\n        },\n      };\n    }\n    const { placement, rects, middlewareData } = data;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : element.width;\n    const arrowHeight = isArrowHidden ? 0 : element.height;\n\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: \"0%\", center: \"50%\", end: \"100%\" }[placedAlign];\n\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n\n    let x = \"\";\n    let y = \"\";\n\n    if (placedSide === \"bottom\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === \"top\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === \"right\") {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === \"left\") {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  },\n});\n","import { BaseDomain, Handler } from \"@/domains/base\";\n// import { app } from \"@/store\";\n\ntype AbsNode = {};\nenum Events {\n  /**  */\n  Dismiss,\n  FocusOutside,\n  PointerDownOutside,\n  InteractOutside,\n}\ntype TheTypesOfEvents = {\n  [Events.Dismiss]: void;\n  [Events.PointerDownOutside]: void;\n  [Events.FocusOutside]: void;\n  [Events.InteractOutside]: void;\n};\ntype DismissableLayerState = {};\n\nexport class DismissableLayerCore extends BaseDomain<TheTypesOfEvents> {\n  name = \"DismissableLayerCore\";\n\n  layers = new Set();\n  layersWithOutsidePointerEventsDisabled = new Set();\n  branches: Set<AbsNode> = new Set();\n\n  isPointerInside = false;\n\n  state: DismissableLayerState = {};\n\n  constructor(options: Partial<{ _name: string }> = {}) {\n    super(options);\n\n    // app.onEscapeKeyDown(() => {\n    //   this.emit(Events.Dismiss);\n    // });\n  }\n\n  handlePointerOutside(branch: HTMLElement) {}\n  /**  */\n  pointerDown() {\n    this.isPointerInside = true;\n  }\n  /**  */\n  handlePointerDownOnTop(absNode?: {}) {\n    // console.log(...this.log(\"handlePointerDownOnTop\"));\n    //     const { branches, layersWithOutsidePointerEventsDisabled } = this;\n    //     const isBodyPointerEventsDisabled =\n    //       layersWithOutsidePointerEventsDisabled.size > 0;\n    //     const layers = Array.from(this.layers);\n    //     const [highestLayerWithOutsidePointerEventsDisabled] = [\n    //       ...layersWithOutsidePointerEventsDisabled,\n    //     ].slice(-1);\n    //     const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(\n    //       highestLayerWithOutsidePointerEventsDisabled\n    //     );\n    //     const index = absNode ? layers.indexOf(absNode) : -1;\n    //     console.log(\"[DismissableLayerCore]handlePointerDownOnTop - index\", index);\n    //     const isPointerEventsEnabled = index !== -1;\n    //     const isPointerDownOnBranch = [...branches].some((b) => b.contains(absNode));\n    if (this.isPointerInside === true) {\n      this.isPointerInside = false;\n      return;\n    }\n    this.emit(Events.PointerDownOutside);\n    this.emit(Events.InteractOutside);\n    this.emit(Events.Dismiss);\n  }\n\n  onDismiss(handler: Handler<TheTypesOfEvents[Events.Dismiss]>) {\n    return this.on(Events.Dismiss, handler);\n  }\n}\n","/**\n * @file  \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { PopperCore, Side, Align } from \"@/domains/ui/popper\";\nimport { DismissableLayerCore } from \"@/domains/ui/dismissable-layer\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\nimport { Direction } from \"@/domains/ui/direction\";\n\nimport { MenuItemCore } from \"./item\";\n\nenum Events {\n  Show,\n  Hidden,\n  EnterItem,\n  LeaveItem,\n  EnterMenu,\n  LeaveMenu,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.Show]: void;\n  [Events.Hidden]: void;\n  [Events.EnterItem]: MenuItemCore;\n  [Events.LeaveItem]: MenuItemCore;\n  [Events.EnterMenu]: void;\n  [Events.LeaveMenu]: void;\n  [Events.StateChange]: MenuCoreState;\n};\ntype MenuCoreState = {\n  /**  */\n  open: boolean;\n  hover: boolean;\n  /**  */\n  items: MenuItemCore[];\n};\ntype MenuCoreProps = {\n  side: Side;\n  align: Align;\n  strategy: \"fixed\" | \"absolute\";\n  items: MenuItemCore[];\n};\n\nexport class MenuCore extends BaseDomain<TheTypesOfEvents> {\n  _name = \"MenuCore\";\n  debug = false;\n\n  popper: PopperCore;\n  presence: PresenceCore;\n  layer: DismissableLayerCore;\n\n  open_timer: NodeJS.Timeout | null = null;\n\n  state: MenuCoreState = {\n    open: false,\n    hover: false,\n    items: [],\n  };\n\n  constructor(options: Partial<{ _name: string } & MenuCoreProps> = {}) {\n    super(options);\n    const { _name, items = [], side, align, strategy } = options;\n    if (_name) {\n      this._name = _name;\n    }\n    this.state.items = items;\n    this.items = items;\n\n    this.popper = new PopperCore({\n      side,\n      align,\n      strategy,\n      _name: _name ? `${_name}__popper` : \"menu__popper\",\n    });\n    this.presence = new PresenceCore();\n    this.layer = new DismissableLayerCore();\n\n    this.listen_items(items);\n\n    this.popper.onEnter(() => {\n      // console.log(\"[DOMAIN]ui/menu/index - handle Enter popper\");\n      this.state.hover = true;\n      this.emit(Events.EnterMenu);\n    });\n    this.popper.onLeave(() => {\n      this.state.hover = false;\n      this.emit(Events.LeaveMenu);\n    });\n    this.layer.onDismiss(() => {\n      // console.log(\"[DOMAIN/ui]menu/index - hide\");\n      // console.log(\"[DOMAIN]ui/menu/index - this.layer.onDismiss\");\n      this.hide();\n    });\n    this.presence.onHidden(() => {\n      // console.log(\"[DOMAIN]ui/menu/index - presence.onHidden\", this.cur_item?.label);\n      this.reset();\n      if (this.cur_item) {\n        this.cur_item.blur();\n      }\n      if (this.cur_sub) {\n        this.cur_sub.hide();\n      }\n    });\n  }\n\n  // subs: MenuCore[] = [];\n  items: MenuItemCore[] = [];\n  cur_sub: MenuCore | null = null;\n  cur_item: MenuItemCore | null = null;\n  inside = false;\n  /**  */\n  in_sub_menu = false;\n  /**  item  item  */\n  maybe_hide_sub = false;\n  hide_sub_timer: NodeJS.Timeout | null = null;\n\n  toggle() {\n    const { open } = this.state;\n    console.log(\"[DOMAIN]ui/dropdown-menu - toggle\", open);\n    // this.log(\"toggle\", open);\n    if (open) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  show() {\n    if (this.state.open) {\n      return;\n    }\n    // console.log(\"[DOMAIN]ui/menu/index - hide\");\n    this.state.open = true;\n    this.presence.show();\n    this.popper.place();\n    this.emit(Events.Show);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  hide() {\n    if (this.state.open === false) {\n      return;\n    }\n    // console.log(\"[DOMAIN]ui/menu/index - hide\");\n    this.state.open = false;\n    // this.log(\"hide\");\n    this.presence.hide();\n    this.emit(Events.Hidden);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  listen_item(item: MenuItemCore) {\n    //  const item = items[i];\n    item.onEnter(() => {\n      // this.maybeHideSub = false;\n      // if (item.menu) {\n      //   this.maybeHideSub = false;\n      //   const subMenu = item.menu;\n      //   subMenu.show();\n      // }\n      // if (!item.menu && this.curSub) {\n      //   this.curSub.hide();\n      // }\n      console.log(\"[DOMAIN]ui/menu/index - item.onEnter\", item.label, item.menu, this.cur_item?.label);\n      this.emit(Events.EnterItem, item);\n      if (item.menu) {\n        item.menu.show();\n      }\n      if (this.cur_item && this.cur_item !== item) {\n        this.cur_item.blur();\n        if (this.cur_item.menu) {\n          this.cur_item.menu.hide();\n        }\n      }\n      this.cur_item = item;\n    });\n    //  menu item ,,, \n    //  1 item    2item \n    item.onLeave(() => {\n      console.log(\n        \"[DOMAIN]ui/menu/index - item.onLeave\",\n        item.label,\n        { open: item._open, focused: item._focused },\n        item.menu?.state\n      );\n      // this.maybeHideSub = true;\n      this.emit(Events.LeaveItem, item);\n      item.blur();\n      if (item.menu) {\n        let timer = setTimeout(() => {\n          item.menu!.hide();\n          // this.cur_item = null;\n        }, 0);\n        item.menu.onEnter(() => {\n          console.log(\"[DOMAIN]ui/menu/index - item.menu.onEnter\");\n          if (timer) {\n            clearTimeout(timer);\n          }\n        });\n        return;\n      }\n      // this.checkNeedHideSubMenu(item);\n      // this.log(\"item.onLeave\", this.items.length);\n      // if (this.hideSubTimer !== null) {\n      //   clearInterval(this.hideSubTimer);\n      //   this.hideSubTimer = setTimeout(() => {\n      //     this.checkNeedHideSubMenu(item);\n      //   }, 100);\n      //   return;\n      // }\n      // this.hideSubTimer = setTimeout(() => {\n      //   this.checkNeedHideSubMenu(item);\n      // }, 100);\n    });\n    if (!item.menu) {\n      return;\n    }\n    const sub_menu = item.menu;\n    // sub_menu.onShow(() => {\n    //   this.log(\"sub.onShow\");\n    //   this.cur_sub = sub_menu;\n    // });\n    // sub_menu.onEnter(() => {\n    //   this.log(\"sub.onEnter\");\n    //   this.in_sub_menu = true;\n    // });\n    // sub_menu.onLeave(() => {\n    //   this.log(\"sub.onLeave\");\n    //   this.in_sub_menu = false;\n    // });\n    // sub_menu.onHide(() => {\n    //   this.log(\"sub.onHide\");\n    //   this.cur_sub = null;\n    // });\n    // if (this.subs.includes(subMenu)) {\n    //   return;\n    // }\n    // this.subs.push(subMenu);\n  }\n  listen_items(items: MenuItemCore[]) {\n    // this.log(\"listen items\", items);\n    for (let i = 0; i < items.length; i += 1) {\n      this.listen_item(items[i]);\n    }\n  }\n  setItems(items: MenuItemCore[]) {\n    console.log(\"[DOMAIN]ui/menu - set items\", items);\n    this.state.items = items;\n    this.items = items;\n    this.listen_items(items);\n    this.emit(Events.StateChange, {\n      ...this.state,\n    });\n  }\n  checkNeedHideSubMenu(item: MenuItemCore) {\n    // console.log(\"[DOMAIN]ui/menu/index - checkNeedHideSubMenu\", item.label, this.maybeHideSub, this.curSub);\n    // if (this.hideSubTimer) {\n    //   clearTimeout(this.hideSubTimer);\n    // }\n    // this.hideSubTimer = null;\n    // if (this.maybeHideSub === false) {\n    //   return;\n    // }\n    // this.log(\"leaveMenu check need hide subMenu\", this.curSub, this.inSubMenu);\n    // this.emit(Events.LeaveMenu);\n    //  SubMenu  MenuItem  MenuItem  SubMenu\n    // if (this.curSub && !this.inSubMenu) {\n    //   this.curSub.hide();\n    // }\n  }\n  reset() {\n    // console.log(\"[]MenuCore - reset\", this.items);\n    this.in_sub_menu = false;\n    // this.cur_item = null;\n    this.cur_sub = null;\n    this.maybe_hide_sub = false;\n    this.hide_sub_timer = null;\n    this.state.open = false;\n    this.presence.reset();\n    this.popper.reset();\n    for (let i = 0; i < this.items.length; i += 1) {\n      this.items[i].reset();\n    }\n  }\n  unmount() {\n    // this.log(\"destroy\", this.name);\n    super.destroy();\n    this.layer.destroy();\n    this.popper.destroy();\n    this.presence.unmount();\n    // for (let i = 0; i < this.subs.length; i += 1) {\n    //   this.subs[i].unmount();\n    // }\n    for (let i = 0; i < this.items.length; i += 1) {\n      this.items[i].unmount();\n    }\n    this.reset();\n  }\n\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHide(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onEnterItem(handler: Handler<TheTypesOfEvents[Events.EnterItem]>) {\n    return this.on(Events.EnterItem, handler);\n  }\n  onLeaveItem(handler: Handler<TheTypesOfEvents[Events.LeaveItem]>) {\n    return this.on(Events.LeaveItem, handler);\n  }\n  onEnter(handler: Handler<TheTypesOfEvents[Events.EnterMenu]>) {\n    return this.on(Events.EnterMenu, handler);\n  }\n  onLeave(handler: Handler<TheTypesOfEvents[Events.LeaveMenu]>) {\n    return this.on(Events.LeaveMenu, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"Menu\";\n  }\n}\n\nconst SELECTION_KEYS = [\"Enter\", \" \"];\nconst FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nconst LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SUB_OPEN_KEYS: Record<Direction, string[]> = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"],\n};\nconst SUB_CLOSE_KEYS: Record<Direction, string[]> = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"],\n};\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { MenuCore } from \"@/domains/ui/menu\";\nimport { MenuItemCore } from \"@/domains/ui/menu/item\";\nimport { Rect } from \"@/types\";\n\nenum Events {\n  StateChange,\n  Show,\n  Hidden,\n}\ntype TheTypeOfEvent = {\n  [Events.StateChange]: ContextMenuState;\n  [Events.Show]: void;\n  [Events.Hidden]: void;\n};\ntype ContextMenuState = {\n  items: MenuItemCore[];\n};\ntype ContextMenuProps = {\n  items: MenuItemCore[];\n};\nexport class ContextMenuCore extends BaseDomain<TheTypeOfEvent> {\n  menu: MenuCore;\n\n  state: ContextMenuState = {\n    items: [],\n  };\n\n  constructor(\n    options: Partial<\n      {\n        _name: string;\n      } & ContextMenuProps\n    >\n  ) {\n    super(options);\n    const { _name, items = [] } = options;\n    this.state.items = items;\n    this.menu = new MenuCore({\n      ...options,\n      _name: _name ? `${_name}__menu` : \"menu-in-context-menu\",\n      side: \"right\",\n      align: \"start\",\n    });\n  }\n\n  show(position: Partial<{ x: number; y: number }> = {}) {\n    const { x, y } = position;\n    this.updateReference({\n      ...this.menu.popper.reference,\n      getRect: () => {\n        return {\n          width: 5,\n          height: 5,\n          left: x,\n          top: y,\n          x,\n          y,\n        } as Rect;\n      },\n    });\n    this.menu.show();\n  }\n  hide() {\n    console.log(\"[]ContextMenuCore - hide\");\n    // this._original = null;\n    this.menu.hide();\n  }\n  setReference(reference: { getRect: () => Rect }) {\n    // console.log(\"[ContextMenuCore]setReference\", reference.getRect());\n    this.menu.popper.setReference(reference);\n  }\n  updateReference(reference: { getRect: () => Rect }) {\n    this.menu.popper.updateReference(reference);\n  }\n  setItems(items: MenuItemCore[]) {\n    this.state.items = items;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onStateChange(handler: Handler<TheTypeOfEvent[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n  onShow(handler: Handler<TheTypeOfEvent[Events.Show]>) {\n    this.on(Events.Show, handler);\n  }\n  onHide(handler: Handler<TheTypeOfEvent[Events.Hidden]>) {\n    this.on(Events.Hidden, handler);\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\nimport { ButtonCore } from \"@/domains/ui/button\";\n\nenum Events {\n  BeforeShow,\n  Show,\n  BeforeHidden,\n  Hidden,\n  Unmounted,\n  VisibleChange,\n  Cancel,\n  OK,\n  AnimationStart,\n  AnimationEnd,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.BeforeShow]: void;\n  [Events.Show]: void;\n  [Events.BeforeHidden]: void;\n  [Events.Hidden]: void;\n  [Events.Unmounted]: void;\n  [Events.VisibleChange]: boolean;\n  [Events.OK]: void;\n  [Events.Cancel]: void;\n  [Events.AnimationStart]: void;\n  [Events.AnimationEnd]: void;\n  [Events.StateChange]: DialogState;\n};\nexport type DialogProps = {\n  title?: string;\n  footer?: boolean;\n  closeable?: boolean;\n  mask?: boolean;\n  open?: boolean;\n  onCancel?: () => void;\n  onOk?: () => void;\n  onUnmounted?: () => void;\n};\n\ntype DialogState = {\n  open: boolean;\n  title: string;\n  footer: boolean;\n  /**  */\n  closeable: boolean;\n  mask: boolean;\n  enter: boolean;\n  visible: boolean;\n  exit: boolean;\n};\n\nexport class DialogCore extends BaseDomain<TheTypesOfEvents> {\n  open = false;\n  title = \"\";\n  footer = true;\n  closeable = true;\n  mask = true;\n\n  present = new PresenceCore();\n  okBtn = new ButtonCore();\n  cancelBtn = new ButtonCore();\n\n  get state(): DialogState {\n    return {\n      open: this.open,\n      title: this.title,\n      footer: this.footer,\n      closeable: this.closeable,\n      mask: this.mask,\n      enter: this.present.state.enter,\n      visible: this.present.state.visible,\n      exit: this.present.state.exit,\n    };\n  }\n\n  constructor(props: Partial<{ _name: string }> & DialogProps = {}) {\n    super(props);\n\n    const { title, footer = true, open = false, mask = true, closeable = true, onOk, onCancel, onUnmounted } = props;\n    if (title) {\n      this.title = title;\n    }\n    this.footer = footer;\n    this.closeable = closeable;\n    this.mask = mask;\n    this.open = open;\n    if (open) {\n      this.present.show();\n    }\n    if (onOk) {\n      this.onOk(onOk);\n    }\n    if (onCancel) {\n      this.onCancel(onCancel);\n    }\n    if (onUnmounted) {\n      this.onUnmounted(onUnmounted);\n    }\n    this.present.onShow(async () => {\n      this.open = true;\n      this.emit(Events.VisibleChange, true);\n      this.emit(Events.Show);\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    this.present.onHidden(async () => {\n      this.open = false;\n      this.emit(Events.Cancel);\n      this.emit(Events.Hidden);\n      this.emit(Events.VisibleChange, false);\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    this.present.onUnmounted(() => {\n      this.emit(Events.Unmounted);\n    });\n    this.present.onStateChange(() => {\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    this.okBtn.onClick(() => {\n      this.ok();\n    });\n    this.cancelBtn.onClick(() => {\n      this.hide();\n    });\n  }\n  toggle() {\n    if (this.open) {\n      this.present.hide();\n      return;\n    }\n    this.present.show();\n  }\n  /**  */\n  show() {\n    // console.log(\"[]ui/dialog - show\");\n    if (this.open) {\n      return;\n    }\n    // this.emit(Events.BeforeShow);\n    this.present.show();\n  }\n  /**  */\n  hide(opt: Partial<{ destroy: boolean }> = {}) {\n    // if (this.open === false) {\n    //   return;\n    // }\n    // this.emit(Events.Cancel);\n    this.present.hide(opt);\n  }\n  ok() {\n    this.emit(Events.OK);\n  }\n  cancel() {\n    this.emit(Events.Cancel);\n  }\n  setTitle(title: string) {\n    this.title = title;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHidden(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onUnmounted(handler: Handler<TheTypesOfEvents[Events.Unmounted]>) {\n    return this.on(Events.Unmounted, handler);\n  }\n  onVisibleChange(handler: Handler<TheTypesOfEvents[Events.VisibleChange]>) {\n    return this.on(Events.VisibleChange, handler);\n  }\n  onOk(handler: Handler<TheTypesOfEvents[Events.OK]>) {\n    return this.on(Events.OK, handler);\n  }\n  onCancel(handler: Handler<TheTypesOfEvents[Events.Cancel]>) {\n    return this.on(Events.Cancel, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"Dialog\";\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { MenuCore } from \"@/domains/ui/menu\";\nimport { MenuItemCore } from \"@/domains/ui/menu/item\";\nimport { Side } from \"@/domains/ui/popper/types\";\nimport { Align } from \"@/domains/ui/popper\";\n\nenum Events {\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: DropdownMenuState;\n};\ntype DropdownMenuProps = {\n  side?: Side;\n  align?: Align;\n  items?: MenuItemCore[];\n  onHidden?: () => void;\n};\ntype DropdownMenuState = {\n  items: MenuItemCore[];\n  open: boolean;\n  disabled: boolean;\n  enter: boolean;\n  visible: boolean;\n  exit: boolean;\n};\nexport class DropdownMenuCore extends BaseDomain<TheTypesOfEvents> {\n  open = false;\n  disabled = false;\n\n  get state(): DropdownMenuState {\n    return {\n      items: this.items,\n      open: this.open,\n      disabled: this.disabled,\n      enter: this.menu.presence?.state.enter,\n      visible: this.menu.presence?.state.visible,\n      exit: this.menu.presence?.state.exit,\n    };\n  }\n\n  menu: MenuCore;\n  subs: MenuCore[] = [];\n  items: MenuItemCore[] = [];\n\n  constructor(\n    props: {\n      _name?: string;\n    } & DropdownMenuProps = {}\n  ) {\n    super(props);\n\n    const { _name, side, align, items = [], onHidden } = props;\n    this.items = items;\n    this.menu = new MenuCore({ side, align, items, _name: _name ? `${_name}__menu` : \"menu-in-dropdown\" });\n    this.menu.onHide(() => {\n      this.menu.reset();\n      if (onHidden) {\n        onHidden();\n      }\n    });\n    this.menu.presence.onStateChange(() => {\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    // this.menu.popper.onStateChange(() => {\n    //   this.emit(Events.StateChange, { ...this.state });\n    // });\n  }\n\n  listenItems(items: MenuItemCore[]) {\n    for (let i = 0; i < items.length; i += 1) {\n      const item = items[i];\n      // console.log(item);\n      // item.onEnter(() => {\n      //   this.maybeLeave = false;\n      //   this.inside = true;\n      //   if (item.menu) {\n      //     this.maybeLeave = false;\n      //     item.menu.show();\n      //   }\n      //   if (!item.menu && this.curSub) {\n      //     this.curSub.hide();\n      //   }\n      //   this.emit(Events.EnterItem, item);\n      // });\n      // item.onLeave(() => {\n      //   this.maybeLeave = true;\n      //   this.emit(Events.LeaveItem, item);\n      //   this.log(\"item.onLeave\", this.items.length);\n      //   if (this.leaveTimer !== null) {\n      //     clearInterval(this.leaveTimer);\n      //     this.leaveTimer = setTimeout(() => {\n      //       this.leaveMenu(item);\n      //     }, 100);\n      //     return;\n      //   }\n      //   this.leaveTimer = setTimeout(() => {\n      //     this.leaveMenu(item);\n      //   }, 100);\n      // });\n      // if (!item.menu) {\n      //   continue;\n      // }\n      // const sub = item.menu;\n      // if (this.subs.includes(sub)) {\n      //   return;\n      // }\n      // sub.onShow(() => {\n      //   this.log(\"sub.onShow\");\n      //   this.curSub = sub;\n      // });\n      // sub.onEnter(() => {\n      //   this.log(\"sub.onEnter\");\n      //   this.inSubMenu = true;\n      // });\n      // sub.onLeave(() => {\n      //   this.log(\"sub.onLeave\");\n      //   this.inSubMenu = false;\n      // });\n      // sub.onHide(() => {\n      //   this.log(\"sub.onHide\");\n      //   this.curSub = null;\n      // });\n      // this.subs.push(sub);\n    }\n  }\n  setItems(items: MenuItemCore[]) {\n    this.items = items;\n    this.emit(Events.StateChange, {\n      ...this.state,\n    });\n  }\n  showMenuItem(label: string) {\n    const matched = this.items.find((v) => v.label === label);\n    if (!matched) {\n      return;\n    }\n    matched.show();\n  }\n  toggle(position?: Partial<{ x: number; y: number; width: number; height: number }>) {\n    if (position) {\n      const { x, y, width = 8, height = 8 } = position;\n      this.menu.popper.updateReference({\n        // @ts-ignore\n        getRect() {\n          return {\n            width,\n            height,\n            x,\n            y,\n          };\n        },\n      });\n    }\n    this.menu.toggle();\n  }\n  hide() {\n    // console.log(\"[DOMAIN/ui]dropdown-menu/index - hide\");\n    this.menu.hide();\n  }\n  unmount() {\n    super.destroy();\n    this.menu.unmount();\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n  Focusin,\n  Focusout,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: FocusScopeState;\n  [Events.Focusin]: void;\n  [Events.Focusout]: void;\n};\ntype FocusScopeState = {\n  paused: boolean;\n};\n\nexport class FocusScopeCore extends BaseDomain<TheTypesOfEvents> {\n  name = \"FocusScopeCore\";\n\n  state: FocusScopeState = {\n    paused: false,\n  };\n\n  constructor(options: Partial<{ _name: string }> = {}) {\n    super(options);\n  }\n\n  pause() {\n    this.state.paused = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  resume() {\n    this.state.paused = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  focusin() {\n    this.emit(Events.Focusin);\n  }\n  focusout() {\n    this.emit(Events.Focusout);\n  }\n\n  onFocusin(handler: Handler<TheTypesOfEvents[Events.Focusin]>) {\n    this.on(Events.Focusin, handler);\n  }\n  onFocusout(handler: Handler<TheTypesOfEvents[Events.Focusout]>) {\n    this.on(Events.Focusout, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","export class BizError extends Error {\n  messages: string[];\n  code?: string | number;\n  data: unknown | null = null;\n\n  constructor(msg: string[], code?: string | number, data: unknown = null) {\n    super(msg.join(\"\\n\"));\n\n    this.messages = msg;\n    this.code = code;\n    this.data = data;\n  }\n}\n","import { BizError } from \"@/domains/error\";\n\nexport type Resp<T> = {\n  data: T extends null ? null : T;\n  error: T extends null ? BizError : null;\n};\nexport type Result<T> = Resp<T> | Resp<null>;\nexport type UnpackedResult<T> = NonNullable<T extends Resp<infer U> ? (U extends null ? U : U) : T>;\n\n/**  */\nexport const Result = {\n  /**  */\n  Ok: <T>(value: T) => {\n    const result = {\n      data: value,\n      error: null,\n    } as Result<T>;\n    return result;\n  },\n  /**  */\n  Err: <T>(\n    message: string | string[] | BizError | Error | Result<null>,\n    code?: string | number,\n    data: unknown = null\n  ) => {\n    const result = {\n      data,\n      code,\n      error: (() => {\n        if (Array.isArray(message)) {\n          const e = new BizError(message, code, data);\n          return e;\n        }\n        if (typeof message === \"string\") {\n          const e = new BizError([message], code, data);\n          return e;\n        }\n        if (message instanceof BizError) {\n          return message;\n        }\n        if (typeof message === \"object\") {\n          const e = new BizError([(message as Error).message], code, data);\n          return e;\n        }\n        if (!message) {\n          const e = new BizError([\"\"], code, data);\n          return e;\n        }\n        const r = message as Result<null>;\n        return r.error;\n      })(),\n    } as Result<null>;\n    return result;\n  },\n};\n","/**\n * @file  Input\n */\nimport { base, Handler } from \"@/domains/base\";\n\nimport { FormFieldCore } from \"./field\";\nimport { ValueInputInterface } from \"./types\";\nimport { Result } from \"@/domains/result\";\n\ntype FormProps<F extends Record<string, FormFieldCore<any>>> = {\n  fields: F;\n};\n// type FieldCore<T> = {\n//   name: string;\n//   $input: ValueInputInterface<T>;\n// };\n\nexport function FormCore<\n  F extends Record<string, FormFieldCore<{ label: string; name: string; input: ValueInputInterface<any> }>> = {}\n>(props: FormProps<F>) {\n  const { fields } = props;\n\n  type Value<\n    O extends Record<string, FormFieldCore<{ label: string; name: string; input: ValueInputInterface<any> }>>\n  > = {\n    [K in keyof O]: O[K][\"$input\"][\"value\"];\n  };\n\n  let _fields: F = fields;\n  let _values = {} as Value<F>;\n  let _inline = false;\n\n  const _state = {\n    get value() {\n      return _values;\n    },\n    get fields() {\n      return Object.values(_fields);\n    },\n    get inline() {\n      return _inline;\n    },\n  };\n\n  enum Events {\n    Input,\n    Submit,\n    Change,\n    StateChange,\n  }\n  type TheTypesOfEvents<T extends Record<string, unknown>> = {\n    [Events.Input]: unknown;\n    [Events.Submit]: T;\n    [Events.Change]: T;\n    [Events.StateChange]: typeof _state;\n  };\n  const bus = base<TheTypesOfEvents<Value<F>>>();\n\n  function updateValuesSilence<K extends keyof Value<F>>(name: K, value: Value<F>[K]) {\n    // console.log(\"[DOMAIN]ui/form/index - updateValues\", name, value);\n    _values[name] = value;\n  }\n  function updateValues<K extends keyof Value<F>>(name: K, value: Value<F>[K]) {\n    // console.log(\"[DOMAIN]ui/form/index - updateValues\", name, value);\n    _values[name] = value;\n    bus.emit(Events.Change, { ..._state.value });\n  }\n\n  const keys: Array<keyof F> = Object.keys(_fields);\n  for (let i = 0; i < keys.length; i += 1) {\n    const field = _fields[keys[i]];\n    updateValuesSilence(field.name, field.$input.value);\n    field.$input.onChange((v: any) => {\n      console.log(\"[DOMAIN]ui/form/index - updateValues\", field.name, v);\n      updateValues(field.name, v);\n    });\n    field.onShow(() => {\n      updateValues(field.name, field.$input.value);\n    });\n    field.onHide(() => {\n      delete _values[field.name];\n      bus.emit(Events.Change, { ..._state.value });\n    });\n  }\n\n  return {\n    symbol: \"FormCore\" as const,\n    shape: \"form\" as const,\n    state: _state,\n    get value() {\n      return _values;\n    },\n    get fields() {\n      return _fields;\n    },\n    setValue(v: Value<F>, extra: { silence?: boolean } = {}) {\n      const keys = Object.keys(_fields);\n      for (let i = 0; i < keys.length; i += 1) {\n        const field = _fields[keys[i]];\n        field.$input.setValue(v[keys[i]], { silence: true });\n      }\n      _values = v;\n      if (!extra.silence) {\n        bus.emit(Events.Change, _state.value);\n      }\n    },\n    setInline(v: boolean) {\n      _inline = v;\n      bus.emit(Events.StateChange, { ..._state });\n    },\n    // setFieldsValue(nextValues) {}\n    input<Key extends keyof Value<F>>(key: Key, value: Value<F>[Key]) {\n      _values[key] = value;\n      bus.emit(Events.Change, _state.value);\n    },\n    submit() {\n      bus.emit(Events.Submit, _state.value);\n    },\n    validate() {\n      return Result.Ok(_values);\n    },\n    onSubmit(handler: Handler<TheTypesOfEvents<Value<F>>[Events.Submit]>) {\n      bus.on(Events.Submit, handler);\n    },\n    onInput(handler: Handler<TheTypesOfEvents<Value<F>>[Events.Change]>) {\n      bus.on(Events.Change, handler);\n    },\n    onChange(handler: Handler<TheTypesOfEvents<Value<F>>[Events.Change]>) {\n      return bus.on(Events.Change, handler);\n    },\n    onStateChange(handler: Handler<TheTypesOfEvents<Value<F>>[Events.StateChange]>) {\n      return bus.on(Events.StateChange, handler);\n    },\n  };\n}\n\nexport type FormCore<\n  F extends Record<string, FormFieldCore<{ label: string; name: string; input: ValueInputInterface<any> }>> = {}\n> = ReturnType<typeof FormCore<F>>;\n","import { Handler } from \"mitt\";\n\nimport { BaseDomain } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n  StartLoad,\n  Loaded,\n  Error,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: ImageState;\n  [Events.StartLoad]: void;\n  [Events.Loaded]: void;\n  [Events.Error]: void;\n};\nexport enum ImageStep {\n  Pending,\n  Loading,\n  Loaded,\n  Failed,\n}\n\ntype ImageProps = {\n  /**  */\n  width?: number;\n  /**  */\n  height?: number;\n  /**  */\n  src?: string;\n  /**  */\n  alt?: string;\n  scale?: number;\n  /**  */\n  fit?: \"cover\" | \"contain\";\n  unique_id?: unknown;\n};\ntype ImageState = Omit<ImageProps, \"scale\"> & {\n  step: ImageStep;\n  scale: number | null;\n};\n\nexport class ImageCore extends BaseDomain<TheTypesOfEvents> {\n  static prefix = \"\";\n  static url(url?: string | null) {\n    if (!url) {\n      return \"\";\n    }\n    if (url.includes(\"http\")) {\n      return url;\n    }\n    if (url.startsWith(\"data:image\")) {\n      return url;\n    }\n    return ImageCore.prefix + url;\n  }\n\n  unique_uid: unknown;\n  src: string;\n  width: number;\n  height: number;\n  scale: null | number = null;\n  fit: \"cover\" | \"contain\";\n\n  step: ImageStep = ImageStep.Pending;\n  realSrc?: string;\n\n  get state(): ImageState {\n    return {\n      src: this.src,\n      step: this.step,\n      width: this.width,\n      height: this.height,\n      scale: this.scale,\n    };\n  }\n\n  constructor(props: Partial<{}> & ImageProps) {\n    super();\n\n    const { unique_id, width = 200, height = 200, src, scale, fit = \"cover\" } = props;\n    this.width = width;\n    this.height = height;\n    this.src = \"\";\n    this.fit = fit;\n    this.realSrc = src;\n    if (scale) {\n      this.scale = scale;\n    }\n    if (unique_id) {\n      this.unique_uid = unique_id;\n    }\n  }\n\n  setURL(src?: string | null) {\n    // console.log(\"[DOMAIN]ui/image setURL\", this.realSrc, this.src, src, this.step);\n    if (!src) {\n      return;\n    }\n    // update image url\n    if (this.realSrc && src !== this.realSrc) {\n      this.realSrc = src;\n      // \n      this.handleShow();\n      return;\n    }\n    this.realSrc = src;\n    if (this.step !== ImageStep.Loaded) {\n      return;\n    }\n    this.src = ImageCore.url(this.realSrc);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setLoaded() {\n    this.step = ImageStep.Loaded;\n    this.emit(Events.Loaded);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  handleShow() {\n    // console.log(\"[DOMAIN]ui/image - handleShow\", this.realSrc);\n    if (!this.realSrc) {\n      this.step = ImageStep.Failed;\n      this.emit(Events.StateChange, { ...this.state });\n      return;\n    }\n    this.step = ImageStep.Loading;\n    this.src = ImageCore.url(this.realSrc);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  handleLoaded() {\n    this.setLoaded();\n  }\n  /**  */\n  handleError() {\n    this.step = ImageStep.Failed;\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.Error);\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onStartLoad(handler: Handler<TheTypesOfEvents[Events.StartLoad]>) {\n    return this.on(Events.StartLoad, handler);\n  }\n  onLoad(handler: Handler<TheTypesOfEvents[Events.Loaded]>) {\n    return this.on(Events.Loaded, handler);\n  }\n  onError(handler: Handler<TheTypesOfEvents[Events.Error]>) {\n    return this.on(Events.Error, handler);\n  }\n}\n\nexport class ImageInListCore extends BaseDomain<TheTypesOfEvents> {\n  /**  */\n  btns: ImageCore[] = [];\n  /**  */\n  cur: ImageCore | null = null;\n\n  scale: number | null = null;\n\n  constructor(props: Partial<{ _name: string } & ImageCore> = {}) {\n    super(props);\n\n    const { scale } = props;\n    if (scale) {\n      this.scale = scale;\n    }\n  }\n\n  /**  */\n  bind(unique_id?: string) {\n    const existing = this.btns.find((btn) => {\n      return btn.unique_id === unique_id;\n    });\n    if (existing) {\n      return existing;\n    }\n    const btn = new ImageCore({\n      src: unique_id,\n      scale: this.scale || undefined,\n    });\n    this.btns.push(btn);\n    return btn;\n  }\n  select(unique_id: unknown) {\n    const matched = this.btns.find((btn) => btn.unique_id === unique_id);\n    if (!matched) {\n      return;\n    }\n    this.cur = matched;\n  }\n  /**  */\n  clear() {\n    this.cur = null;\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { ValueInputInterface } from \"@/domains/ui/form/types\";\n\nenum Events {\n  Change = 10,\n  StateChange,\n  Mounted,\n  Focus,\n  Blur,\n  Enter,\n  KeyDown,\n  Clear,\n  Click,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.Mounted]: void;\n  [Events.Change]: T;\n  [Events.Blur]: T;\n  [Events.Enter]: T;\n  [Events.KeyDown]: { key: string; preventDefault: () => void };\n  [Events.Focus]: void;\n  [Events.Clear]: void;\n  [Events.Click]: { x: number; y: number };\n  [Events.StateChange]: InputState<T>;\n};\n\nexport type InputProps<T> = {\n  /**  */\n  name?: string;\n  disabled?: boolean;\n  defaultValue: T;\n  placeholder?: string;\n  type?: string;\n  autoFocus?: boolean;\n  autoComplete?: boolean;\n  ignoreEnterEvent?: boolean;\n  onChange?: (v: T) => void;\n  onKeyDown?: (v: { key: string; preventDefault: () => void }) => void;\n  onEnter?: (v: T) => void;\n  onBlur?: (v: T) => void;\n  onClear?: () => void;\n  onMounted?: () => void;\n};\ntype InputState<T> = {\n  value: T;\n  placeholder: string;\n  disabled: boolean;\n  loading: boolean;\n  focus: boolean;\n  type: string;\n  tmpType: string;\n  allowClear: boolean;\n  autoFocus: boolean;\n  autoComplete: boolean;\n};\n\nexport class InputCore<T> extends BaseDomain<TheTypesOfEvents<T>> implements ValueInputInterface<T> {\n  shape = \"input\" as const;\n  defaultValue: T;\n  value: T;\n  placeholder: string;\n  disabled: boolean;\n  allowClear: boolean = true;\n  autoComplete: boolean = false;\n  autoFocus: boolean = false;\n  ignoreEnterEvent = false;\n  isFocus = false;\n  type: string;\n  loading = false;\n  /**  input  */\n  valueUsed: unknown;\n  tmpType = \"\";\n\n  get state(): InputState<T> {\n    return {\n      value: this.value,\n      placeholder: this.placeholder,\n      disabled: this.disabled,\n      focus: this.isFocus,\n      loading: this.loading,\n      type: this.type,\n      tmpType: this.tmpType,\n      autoComplete: this.autoComplete,\n      autoFocus: this.autoFocus,\n      allowClear: this.allowClear,\n    };\n  }\n\n  constructor(props: { unique_id?: string } & InputProps<T>) {\n    super(props);\n\n    const {\n      unique_id,\n      defaultValue,\n      placeholder = \"\",\n      type = \"string\",\n      disabled = false,\n      autoFocus = false,\n      autoComplete = false,\n      ignoreEnterEvent = false,\n      onChange,\n      onBlur,\n      onEnter,\n      onClear,\n      onMounted,\n    } = props;\n    if (unique_id) {\n      this.unique_id = unique_id;\n    }\n    this.placeholder = placeholder;\n    this.type = type;\n    this.disabled = disabled;\n    this.autoComplete = autoComplete;\n    this.ignoreEnterEvent = ignoreEnterEvent;\n    this.autoFocus = autoFocus;\n    this.defaultValue = defaultValue;\n    this.value = defaultValue;\n    if (onChange) {\n      this.onChange(onChange);\n    }\n    if (onEnter) {\n      this.onEnter(() => {\n        onEnter(this.value);\n      });\n    }\n    if (props.onKeyDown) {\n      this.onKeyDown(props.onKeyDown);\n    }\n    if (onBlur) {\n      this.onBlur(onBlur);\n    }\n    if (onClear) {\n      this.onClear(onClear);\n    }\n    if (onMounted) {\n      this.onMounted(onMounted);\n    }\n  }\n  setMounted() {\n    this.emit(Events.Mounted);\n  }\n  handleKeyDown(event: { key: string; preventDefault: () => void }) {\n    if (!this.ignoreEnterEvent && event.key === \"Enter\") {\n      this.handleEnter();\n      return;\n    }\n    this.emit(Events.KeyDown, event);\n  }\n  handleEnter() {\n    // if (this.value === this.valueUsed) {\n    //   return;\n    // }\n    this.valueUsed = this.value;\n    this.emit(Events.Enter, this.value);\n  }\n  handleFocus() {\n    this.isFocus = true;\n  }\n  handleBlur() {\n    if (this.value === this.valueUsed) {\n      return;\n    }\n    this.valueUsed = this.value;\n    this.emit(Events.Blur, this.value);\n  }\n  handleClick(event: { x: number; y: number }) {\n    this.emit(Events.Click, event);\n  }\n  handleChange(event: unknown) {\n    // console.log(\"[DOMAIN]ui/input - handleChange\", event);\n    if (this.type === \"file\") {\n      const { target } = event as { target: { files: T } };\n      const { files: v } = target;\n      this.setValue(v);\n      return;\n    }\n    const { target } = event as { target: { value: T } };\n    const { value: v } = target;\n    this.setValue(v);\n  }\n  setValue(value: T, extra: Partial<{ silence: boolean }> = {}) {\n    this.value = value;\n    if (this.type === \"number\") {\n      this.value = Number(value) as T;\n    }\n    // console.log(\"[DOMAIN]ui/input - setValue before extra.silence\", extra.silence);\n    if (!extra.silence) {\n      this.emit(Events.Change, value);\n      this.emit(Events.StateChange, { ...this.state });\n    }\n  }\n  setPlaceholder(v: string) {\n    this.placeholder = v;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setLoading(loading: boolean) {\n    this.loading = loading;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setFocus() {\n    this.isFocus = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  focus() {\n    console.log(\" connect  focus \");\n  }\n  enable() {\n    this.disabled = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  disable() {\n    this.disabled = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  showText() {\n    this.tmpType = \"text\";\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  hideText() {\n    this.tmpType = \"\";\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  clear() {\n    // console.log(\"[COMPONENT]ui/input/index - clear\", this.defaultValue);\n    this.value = this.defaultValue;\n    // this.emit(Events.Change, this.value);\n    this.emit(Events.Clear);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  reset() {\n    this.value = this.defaultValue;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  enter() {\n    this.emit(Events.Enter);\n  }\n\n  onChange(handler: Handler<TheTypesOfEvents<T>[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onMounted(handler: Handler<TheTypesOfEvents<T>[Events.Mounted]>) {\n    return this.on(Events.Mounted, handler);\n  }\n  onFocus(handler: Handler<TheTypesOfEvents<T>[Events.Focus]>) {\n    return this.on(Events.Focus, handler);\n  }\n  onBlur(handler: Handler<TheTypesOfEvents<T>[Events.Blur]>) {\n    return this.on(Events.Blur, handler);\n  }\n  onKeyDown(handler: Handler<TheTypesOfEvents<T>[Events.KeyDown]>) {\n    return this.on(Events.KeyDown, handler);\n  }\n  onEnter(handler: Handler<TheTypesOfEvents<T>[Events.Enter]>) {\n    return this.on(Events.Enter, handler);\n  }\n  onClick(handler: Handler<TheTypesOfEvents<T>[Events.Click]>) {\n    return this.on(Events.Click, handler);\n  }\n  onClear(handler: Handler<TheTypesOfEvents<T>[Events.Clear]>) {\n    return this.on(Events.Clear, handler);\n  }\n}\n\ntype InputInListProps<T = unknown> = {\n  onChange?: (record: T) => void;\n} & InputProps<T>;\ntype TheTypesInListOfEvents<K extends string, T> = {\n  [Events.Change]: [K, T];\n  [Events.StateChange]: InputProps<T>;\n};\n\nexport class InputInListCore<K extends string, T> extends BaseDomain<TheTypesInListOfEvents<K, T>> {\n  defaultValue: T;\n\n  list: InputCore<T>[] = [];\n  cached: Record<K, InputCore<T>> = {} as Record<K, InputCore<T>>;\n  values: Map<K, T | null> = new Map();\n\n  constructor(props: Partial<{ unique_id: string }> & InputInListProps<T>) {\n    super(props);\n\n    const { defaultValue } = props;\n    this.defaultValue = defaultValue;\n  }\n\n  bind(\n    unique_id: K,\n    options: {\n      defaultValue?: T;\n    } = {}\n  ) {\n    const { defaultValue = this.defaultValue } = options;\n    // console.log(\"[DOMAIN]input/index - bind\", unique_id, this.cached);\n    const existing = this.cached[unique_id];\n    if (existing) {\n      return existing;\n    }\n    const select = new InputCore<T>({\n      defaultValue,\n      onChange: (value) => {\n        this.values.set(unique_id, value);\n        this.emit(Events.Change, [unique_id, value]);\n      },\n    });\n    this.list.push(select);\n    this.values.set(unique_id, defaultValue);\n    this.cached[unique_id] = select;\n    return select;\n  }\n  getCur(unique_id: K) {\n    const existing = this.cached[unique_id];\n    if (existing) {\n      return existing;\n    }\n    return null;\n  }\n  setValue(v: T) {\n    for (let i = 0; i < this.list.length; i += 1) {\n      const item = this.list[i];\n      item.setValue(v);\n    }\n  }\n  clear() {\n    this.list = [];\n    this.cached = {} as Record<string, InputCore<T>>;\n    this.values = new Map();\n  }\n  getValueByUniqueId(key: K) {\n    return this.values.get(key) ?? null;\n  }\n  toJson<R>(handler: (value: [K, T | null]) => R) {\n    const result: R[] = [];\n    for (const [obj, value] of this.values) {\n      const r = handler([obj, value]);\n      result.push(r);\n    }\n    return result;\n  }\n  /**  */\n  // clear() {\n  //   this.cur = null;\n  // }\n\n  onChange(handler: Handler<TheTypesInListOfEvents<K, T>[Events.Change]>) {\n    this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesInListOfEvents<K, T>[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  Click,\n  ContextMenu,\n  Mounted,\n  EnterViewport,\n}\ntype TheTypesOfEvents = {\n  [Events.EnterViewport]: void;\n  [Events.Mounted]: void;\n  [Events.Click]: Events & { target: HTMLElement };\n};\nexport class NodeCore extends BaseDomain<TheTypesOfEvents> {\n  handleShow() {\n    this.emit(Events.EnterViewport);\n  }\n\n  onVisible(handler: Handler<TheTypesOfEvents[Events.EnterViewport]>) {\n    return this.on(Events.EnterViewport, handler);\n  }\n  onClick(handler: Handler<TheTypesOfEvents[Events.Click]>) {\n    return this.on(Events.Click, handler);\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\nimport { PopperCore, Align, Side } from \"@/domains/ui/popper\";\nimport { DismissableLayerCore } from \"@/domains/ui/dismissable-layer\";\n\nconst SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"] as const;\nconst ALIGN_OPTIONS = [\"start\", \"center\", \"end\"] as const;\n// export type Align = (typeof ALIGN_OPTIONS)[number];\n// export type Side = (typeof SIDE_OPTIONS)[number];\n\nenum Events {\n  Show,\n  Hidden,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.Show]: void;\n  [Events.Hidden]: void;\n  [Events.StateChange]: PopoverState;\n};\ntype PopoverState = {\n  isPlaced: boolean;\n  closeable: boolean;\n  x: number;\n  y: number;\n  visible: boolean;\n  enter: boolean;\n  exit: boolean;\n};\ntype PopoverProps = {\n  side?: Side;\n  align?: Align;\n  strategy?: \"fixed\" | \"absolute\";\n  closeable?: boolean;\n};\n\nexport class PopoverCore extends BaseDomain<TheTypesOfEvents> {\n  popper: PopperCore;\n  present: PresenceCore;\n  layer: DismissableLayerCore;\n\n  _side: Side;\n  _align: Align;\n  _closeable: boolean;\n\n  visible = false;\n  enter = false;\n  exit = false;\n  get state(): PopoverState {\n    return {\n      // visible: this.visible,\n      // enter: this.enter,\n      // exit: this.exit,\n      isPlaced: this.popper.state.isPlaced,\n      closeable: this._closeable,\n      x: this.popper.state.x,\n      y: this.popper.state.y,\n\n      enter: this.present.state.enter,\n      visible: this.present.state.visible,\n      exit: this.present.state.exit,\n    };\n  }\n\n  constructor(props: { _name?: string } & PopoverProps = {}) {\n    super();\n\n    const { side = \"bottom\", align = \"end\", strategy, closeable = true } = props;\n    this._side = side;\n    this._align = align;\n    this._closeable = closeable;\n\n    this.popper = new PopperCore({\n      side,\n      align,\n      strategy,\n    });\n    this.present = new PresenceCore();\n    this.layer = new DismissableLayerCore();\n    this.layer.onDismiss(() => {\n      console.log(\"[DOMAIN/ui]popover/index - onDismiss\");\n      this.hide();\n    });\n    this.present.onStateChange(() => {\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    this.popper.onStateChange(() => {\n      this.emit(Events.StateChange, { ...this.state });\n    });\n  }\n\n  ready() {}\n  destroy() {}\n  toggle(position?: Partial<{ x: number; y: number; width: number; height: number }>) {\n    console.log(\"[DOMAIN/ui]popover/index - toggle\");\n    const { visible } = this;\n    if (visible) {\n      this.hide();\n      return;\n    }\n    if (position) {\n      const { x, y, width = 8, height = 8 } = position;\n      this.popper.updateReference({\n        // @ts-ignore\n        getRect() {\n          return {\n            width,\n            height,\n            x,\n            y,\n          };\n        },\n      });\n    }\n    this.show();\n  }\n  show(position?: {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    left?: number;\n    top?: number;\n    right?: number;\n    bottom?: number;\n  }) {\n    console.log(this.popper.reference?.getRect());\n    if (position) {\n      this.popper.updateReference({\n        getRect() {\n          const { x = 0, y = 0, width = 0, height = 0, left = 0, top = 0, right = 0, bottom = 0 } = position;\n          return {\n            width,\n            height,\n            x,\n            y,\n            left,\n            top,\n            right,\n            bottom,\n          };\n        },\n      });\n    }\n    this.visible = true;\n    this.present.show();\n    this.popper.place();\n    this.emit(Events.Show);\n  }\n  hide() {\n    if (this.visible === false) {\n      return;\n    }\n    this.visible = false;\n    this.present.hide();\n    this.emit(Events.Hidden);\n  }\n  unmount() {\n    super.destroy();\n    this.layer.destroy();\n    this.popper.destroy();\n    this.present.unmount();\n  }\n\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHide(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"PopoverCore\";\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\ntype ProgressState = \"indeterminate\" | \"complete\" | \"loading\";\nconst DEFAULT_MAX = 100;\nenum Events {\n  ValueChange,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.ValueChange]: number;\n  [Events.StateChange]: ProgressCore[\"state\"];\n};\n\nexport class ProgressCore extends BaseDomain<TheTypesOfEvents> {\n  _value: number | null;\n  _label: string | undefined;\n  _max: number;\n\n  constructor(options: {\n    value?: number | null | undefined;\n    max?: number;\n    getValueLabel?: (value: number, max: number) => string;\n  }) {\n    super();\n    const { value: valueProp, max: maxProp, getValueLabel = defaultGetValueLabel } = options;\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    this._max = max;\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    this._value = value;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : undefined;\n    this._label = valueLabel;\n  }\n\n  get state() {\n    return {\n      state: getProgressState(this._value, this._max),\n      value: this._value ?? undefined,\n      max: this._max,\n      label: this._label,\n    };\n  }\n\n  setValue(v: number) {\n    this._value = v;\n    this.emit(Events.ValueChange, v);\n    this.emit(Events.StateChange, this.state);\n  }\n  update(v: number) {\n    this._value = v;\n    this.emit(Events.ValueChange, v);\n    this.emit(Events.StateChange, this.state);\n  }\n\n  onValueChange(handler: Handler<TheTypesOfEvents[Events.ValueChange]>) {\n    this.on(Events.ValueChange, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n\nfunction defaultGetValueLabel(value: number, max: number) {\n  return `${Math.round((value / max) * 100)}%`;\n}\n\nfunction getProgressState(value: number | undefined | null, maxValue: number): ProgressState {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\n\nfunction isNumber(value: any): value is number {\n  return typeof value === \"number\";\n}\n\nfunction isValidMaxNumber(max: any): max is number {\n  // prettier-ignore\n  return (\n\t  isNumber(max) &&\n\t  !isNaN(max) &&\n\t  max > 0\n\t);\n}\n\nfunction isValidValueNumber(value: any, max: number): value is number {\n  // prettier-ignore\n  return (\n\t  isNumber(value) &&\n\t  !isNaN(value) &&\n\t  value <= max &&\n\t  value >= 0\n\t);\n}\n\n// Split this out for clearer readability of the error message.\nfunction getInvalidMaxError(propValue: string, componentName: string) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {}\ntype TheTypesOfEvents = {};\n\nexport class CollectionCore extends BaseDomain<TheTypesOfEvents> {\n  itemMap: Map<unknown, unknown> = new Map();\n\n  setWrap(wrap: unknown) {\n    // ...\n  }\n  add(key: unknown, v: unknown) {\n    this.itemMap.set(key, v);\n  }\n  remove(key: unknown) {\n    this.itemMap.delete(key);\n  }\n  getItems() {\n    //  wrap  item\n    const items = Array.from(this.itemMap.values());\n    return items;\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { Direction, Orientation } from \"@/domains/ui/direction\";\nimport { CollectionCore } from \"@/domains/ui/collection\";\n\nenum Events {\n  ItemFocus,\n  ItemShiftTab,\n  FocusableItemAdd,\n  FocusableItemRemove,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.ItemFocus]: number;\n  [Events.ItemShiftTab]: void;\n  [Events.FocusableItemAdd]: void;\n  [Events.FocusableItemRemove]: void;\n  [Events.StateChange]: RovingFocusState;\n};\ntype RovingFocusState = {\n  currentTabStopId: number | null;\n  orientation?: Orientation;\n  dir?: Direction;\n  loop?: boolean;\n};\nexport class RovingFocusCore extends BaseDomain<TheTypesOfEvents> {\n  collection: CollectionCore;\n\n  state: RovingFocusState = {\n    currentTabStopId: null,\n    orientation: \"horizontal\",\n    dir: \"ltr\",\n  };\n\n  constructor(options: Partial<{ _name: string }> = {}) {\n    super(options);\n\n    const { _name } = options;\n    this.collection = new CollectionCore();\n  }\n\n  focusItem(id: number) {\n    this.emit(Events.ItemFocus, id);\n  }\n  shiftTab() {\n    this.emit(Events.ItemShiftTab);\n  }\n  addFocusableItem() {\n    this.emit(Events.FocusableItemAdd);\n  }\n  removeFocusableItem() {\n    this.emit(Events.FocusableItemRemove);\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n  onItemFocus(handler: Handler<TheTypesOfEvents[Events.ItemFocus]>) {\n    this.on(Events.ItemFocus, handler);\n  }\n  onItemShiftTab(handler: Handler<TheTypesOfEvents[Events.ItemShiftTab]>) {\n    this.on(Events.ItemShiftTab, handler);\n  }\n  onFocusableItemAdd(handler: Handler<TheTypesOfEvents[Events.FocusableItemAdd]>) {\n    this.on(Events.FocusableItemAdd, handler);\n  }\n  onFocusableItemRemove(handler: Handler<TheTypesOfEvents[Events.FocusableItemRemove]>) {\n    this.on(Events.FocusableItemRemove, handler);\n  }\n}\n","/**\n * \n */\nexport function getPoint(e: { touches?: { pageX: number; pageY: number }[]; clientX?: number; clientY?: number }) {\n  if (e.touches) {\n    return {\n      x: e.touches[0].pageX,\n      y: e.touches[0].pageY,\n    };\n  }\n  if (e.clientX && e.clientY) {\n    return {\n      x: e.clientX,\n      y: e.clientY,\n    };\n  }\n  return {\n    x: 0,\n    y: 0,\n  };\n}\n\n/**\n * \n */\nexport function preventDefault(e: { cancelable?: boolean; defaultPrevented?: boolean; preventDefault?: () => void }) {\n  // cancelable:; defaultPrevented:\n  if (e && e.cancelable && !e.defaultPrevented && e.preventDefault) {\n    e.preventDefault();\n  }\n}\n\n/**\n * \n *  https://www.jianshu.com/p/3e3aeab63555\n */\nexport function damping(x: number, max: number) {\n  let y = Math.abs(x);\n  y = (0.82231 * max) / (1 + 4338.47 / Math.pow(y, 1.14791));\n  return Math.round(x < 0 ? -y : y);\n}\n\nexport function getAngleByPoints(lastPoint: { x: number; y: number }, curPoint: { x: number; y: number }) {\n  const x = Math.abs(lastPoint.x - curPoint.x);\n  const y = Math.abs(lastPoint.y - curPoint.y);\n  const z = Math.sqrt(x * x + y * y);\n  if (z !== 0) {\n    const angle = (Math.asin(y / z) / Math.PI) * 180;\n    return angle;\n  }\n  return 0;\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\nimport { getPoint, damping, preventDefault, getAngleByPoints } from \"./utils\";\n\nlet handler: null | ((v: ScrollViewCore) => void) = null;\nexport function onCreateScrollView(h: (v: ScrollViewCore) => void) {\n  handler = h;\n}\n\ntype PullToRefreshStep = \"pending\" | \"pulling\" | \"refreshing\" | \"releasing\";\nexport type PointEvent = {\n  touches?: { pageX: number; pageY: number }[];\n  clientX?: number;\n  clientY?: number;\n  cancelable?: boolean;\n  preventDefault?: () => void;\n};\ntype PullToDownOptions = {\n  /**  */\n  offset: number;\n  /**\n   * \n   *  false\n   */\n  isLock: boolean;\n  /**\n   *  touchmove  body  Webview  touchend \n   */\n  bottomOffset: number;\n  /**\n   * [0,90]\n   * 454545\n   */\n  minAngle: number;\n};\nenum Events {\n  InDownOffset,\n  OutDownOffset,\n  Pulling,\n  PullToRefresh,\n  PullToRefreshFinished,\n  InUpOffset,\n  OutUpOffset,\n  Scrolling,\n  ReachBottom,\n  Mounted,\n}\ntype TheTypesOfEvents = {\n  [Events.InDownOffset]: void;\n  [Events.OutDownOffset]: void;\n  [Events.Pulling]: { instance: number };\n  [Events.PullToRefresh]: void;\n  [Events.PullToRefreshFinished]: void;\n  [Events.InUpOffset]: void;\n  [Events.OutUpOffset]: void;\n  [Events.Scrolling]: { scrollTop: number };\n  [Events.ReachBottom]: void;\n  [Events.Mounted]: void;\n};\ntype EnvNeeded = {\n  android: boolean;\n  pc: boolean;\n  ios: boolean;\n  wechat: boolean;\n};\nexport type ScrollViewProps = {\n  os?: EnvNeeded;\n  // down: Partial<PullToDownOptions>;\n  /**  */\n  offset?: number;\n  disabled?: boolean;\n  onScroll?: (pos: { scrollTop: number }) => void;\n  onReachBottom?: () => void;\n  onPullToRefresh?: () => void;\n  onPullToBack?: () => void;\n};\ntype ScrollViewCoreState = {\n  top: number;\n  left: number;\n  /**  */\n  scrollTop: number;\n  scrollable: boolean;\n  /**  */\n  pullToRefresh: boolean;\n  // pullToBack: {\n  //   enabled: boolean;\n  //   canBack: boolean;\n  //   width: number;\n  //   height: number;\n  // };\n  /**  */\n  step: PullToRefreshStep;\n};\nexport class ScrollViewCore extends BaseDomain<TheTypesOfEvents> {\n  os: EnvNeeded = {\n    android: true,\n    ios: false,\n    pc: false,\n    wechat: false,\n  };\n\n  /**  */\n  rect: Partial<{\n    /**  */\n    width: number;\n    /**  */\n    height: number;\n    /**  y  */\n    scrollTop: number;\n    /**  */\n    contentHeight: number;\n  }> = {\n    width: 0,\n    height: 0,\n    scrollTop: 0,\n    contentHeight: 0,\n  };\n  disabled = false;\n  canPullToRefresh: boolean;\n  canReachBottom = true;\n  /**  */\n  needHideIndicator = false;\n  scrollable = true;\n  /**  */\n  pullToRefresh: {\n    step: PullToRefreshStep;\n    /**  y */\n    pullStartY: number;\n    /**  x */\n    pullStartX: number;\n    /**  y */\n    pullMoveY: number;\n    /**  x */\n    pullMoveX: number;\n    /**  x  */\n    distX: number;\n    /**  y  */\n    distY: number;\n    /**  */\n    distResisted: number;\n  } = {\n    step: \"pending\",\n    pullStartX: 0,\n    pullStartY: 0,\n    pullMoveX: 0,\n    pullMoveY: 0,\n    distX: 0,\n    distY: 0,\n    distResisted: 0,\n  };\n  /**  */\n  threshold = 120;\n\n  options: ScrollViewProps;\n  pullToRefreshOptions: PullToDownOptions;\n\n  isPullToRefreshing = false;\n  isLoadingMore = false;\n  startPoint: { x: number; y: number } | null = null;\n  lastPoint: { x: number; y: number } = {\n    x: 0,\n    y: 0,\n  };\n  downHight = 0;\n  upHight = 0;\n  maxTouchMoveInstanceY = 0;\n  inTouchEnd = false;\n  inTopWhenPointDown = false;\n  inBottomWhenPointDown = false;\n  isMoveDown = false;\n  isMoveUp = false;\n  isScrollTo = false;\n  /**\n   *  StartPullToRefreshOutOffset \n   */\n  movetype: PullToRefreshStep = \"pending\";\n  preScrollY = 0;\n  /**  */\n  isUpAutoLoad = false;\n\n  get state(): ScrollViewCoreState {\n    return {\n      top: 0,\n      left: 0,\n      step: this.movetype,\n      scrollTop: this.downHight,\n      pullToRefresh: this.canPullToRefresh,\n      scrollable: this.scrollable,\n    };\n  }\n\n  constructor(props: ScrollViewProps = {}) {\n    super(props);\n\n    const { os, offset = 80, disabled = false, onScroll, onReachBottom, onPullToRefresh, onPullToBack } = props;\n    // console.log(props);\n\n    this.options = props;\n    this.disabled = disabled;\n    if (os) {\n      this.os = os;\n    }\n    this.pullToRefreshOptions = {\n      isLock: false,\n      offset,\n      bottomOffset: 20,\n      minAngle: 45,\n    };\n    this.canPullToRefresh = !!onPullToRefresh;\n    if (!this.canPullToRefresh) {\n      this.needHideIndicator = true;\n    }\n    // console.log(\"[DOMAIN]ui/scroll-view\", this.unique_id, onPullToRefresh, this.needHideIndicator, this.canPullToRefresh);\n    if (this.needHideIndicator) {\n      this.pullToRefreshOptions.offset = 9999;\n    }\n    if (onScroll) {\n      this.onScroll(onScroll);\n    }\n    if (onReachBottom) {\n      this.onReachBottom(onReachBottom);\n    }\n    if (onPullToRefresh) {\n      this.onPullToRefresh(onPullToRefresh);\n    }\n    if (handler) {\n      handler(this);\n    }\n  }\n  setReady() {\n    this.emit(Events.Mounted);\n  }\n  setRect(rect: Partial<{ width: number; height: number; contentHeight: number }>) {\n    this.rect = {\n      ...this.rect,\n      ...rect,\n    };\n  }\n  /**  */\n  startPullToRefresh = () => {\n    // console.log(\"[DOMAIN]ScrollView - startPullToRefresh\", this.isPullToRefreshing);\n    if (this.isPullToRefreshing) {\n      return;\n    }\n    this.isPullToRefreshing = true;\n    this.downHight = this.pullToRefreshOptions.offset;\n    this.setIndicatorHeightTransition(true);\n    this.changeIndicatorHeight(this.downHight);\n    this.emit(Events.PullToRefresh);\n  };\n  /**  */\n  finishPullToRefresh = () => {\n    if (!this.isPullToRefreshing) {\n      return;\n    }\n    this.downHight = 0;\n    this.changeIndicatorHeight(0);\n    this.isPullToRefreshing = false;\n    this.emit(Events.PullToRefreshFinished);\n  };\n  disablePullToRefresh = () => {\n    this.pullToRefreshOptions.isLock = true;\n  };\n  enablePullToRefresh = () => {\n    this.pullToRefreshOptions.isLock = false;\n  };\n  handleMouseDown = (event: MouseEvent) => {\n    this.handlePointDown(event);\n  };\n  handleMouseMove = (event: MouseEvent) => {\n    this.handlePointMove(event);\n  };\n  handleTouchStart = (event: TouchEvent) => {\n    // @ts-ignore\n    this.handlePointDown(event);\n  };\n  handleTouchMove = (event: TouchEvent) => {\n    // @ts-ignore\n    this.handlePointMove(event);\n  };\n  /** / */\n  handlePointDown = (e: PointEvent) => {\n    if (this.isScrollTo) {\n      //  scrollTo \n      preventDefault(e);\n    }\n    const startPoint = getPoint(e);\n    // console.log(\"[DOMAIN]scroll-view - handlePointdown\", startPoint);\n    if (startPoint.x < 30) {\n      this.startPoint = null;\n      preventDefault(e);\n      return;\n    }\n    this.startPoint = startPoint;\n    this.lastPoint = this.startPoint;\n    this.maxTouchMoveInstanceY = this.getBodyHeight() - this.pullToRefreshOptions.bottomOffset;\n    this.inTouchEnd = false;\n    const scrollTop = this.getScrollTop();\n    // const clientHeight = this.getScrollClientHeight();\n    // const height = this.getScrollHeight();\n    this.inTopWhenPointDown = scrollTop === 0;\n    // this.inBottomWhenPointDown = scrollTop + clientHeight + 1 >= height;\n  };\n  /** / */\n  handlePointMove = (e: PointEvent) => {\n    // console.log(\"[DOMAIN]ScrollView - handlePointMove\");\n    if (!this.startPoint) {\n      return;\n    }\n    // \n    const scrollTop = this.getScrollTop();\n    if (scrollTop > 0) {\n      this.inTopWhenPointDown = false;\n    }\n    const curPoint = getPoint(e);\n    const instanceY = curPoint.y - this.startPoint.y;\n    // console.log(\"[DOMAIN]ScrollView - handlePointMove\", scrollTop, instanceY);\n    if (instanceY > 0) {\n      if (scrollTop <= 0) {\n        preventDefault(e);\n        if (this.canPullToRefresh && !this.inTouchEnd && !this.isPullToRefreshing) {\n          if (!this.inTopWhenPointDown) {\n            return;\n          }\n          const angle = getAngleByPoints(this.lastPoint, curPoint);\n          if (angle && angle < this.pullToRefreshOptions.minAngle) {\n            return;\n          }\n          //  Webview  touchend \n          if (this.maxTouchMoveInstanceY > 0 && curPoint.y >= this.maxTouchMoveInstanceY) {\n            this.inTouchEnd = true;\n            this.handleTouchEnd();\n            return;\n          }\n          // console.log(\"before this.downHight < this.optDown.offset\");\n          if (this.downHight < this.pullToRefreshOptions.offset) {\n            if (this.movetype !== \"pulling\") {\n              if (this.movetype === \"pending\") {\n                // console.log(\"start\");\n                this.setIndicatorHeightTransition(false);\n                if (this.os.ios && !this.inTopWhenPointDown) {\n                  this.optimizeScroll(true);\n                }\n              }\n              if (this.movetype === \"releasing\") {\n                // console.log(\"recover\");\n              }\n              this.movetype = \"pulling\";\n              this.emit(Events.InDownOffset);\n              this.isMoveDown = true;\n            }\n          } else {\n            if (this.movetype !== \"releasing\") {\n              this.movetype = \"releasing\";\n              this.emit(Events.OutDownOffset);\n              this.isMoveDown = true;\n            }\n          }\n          this.downHight = damping(curPoint.y - this.startPoint.y, 1000);\n          this.changeIndicatorHeight(this.downHight);\n          this.emit(Events.Pulling, {\n            instance: this.downHight,\n          });\n        }\n      }\n    }\n    if (instanceY < 0) {\n      const scrollHeight = this.getScrollHeight();\n      const clientHeight = this.getScrollClientHeight();\n      const toBottom = scrollHeight - clientHeight - scrollTop;\n      if (toBottom <= 0) {\n        preventDefault(e);\n      }\n    }\n    this.lastPoint = curPoint;\n  };\n  handleTouchEnd = () => {\n    if (!this.canPullToRefresh) {\n      return;\n    }\n    if (!this.isMoveDown) {\n      return;\n    }\n    // console.log('handle touch end', this.unique_id, this.downHight, this.pullToRefreshOptions.offset)\n    if (this.downHight >= this.pullToRefreshOptions.offset) {\n      this.startPullToRefresh();\n    } else {\n      this.downHight = 0;\n      this.setIndicatorHeightTransition(true);\n      this.changeIndicatorHeight(0);\n    }\n    this.optimizeScroll(false);\n    this.movetype = \"pending\";\n    this.isMoveDown = false;\n  };\n  handleScrolling = () => {\n    const scrollTop = this.getScrollTop();\n    const isUp = scrollTop - this.preScrollY > 0;\n    if (!this.isLoadingMore) {\n      const toBottom = this.getScrollHeight() - this.getScrollClientHeight() - scrollTop;\n      if (toBottom <= this.threshold && isUp) {\n        // ,\n        // this.startReachBottom();\n        this.isLoadingMore = true;\n        this.emit(Events.ReachBottom);\n      }\n    }\n    this.emit(Events.Scrolling, { scrollTop });\n  };\n  finishLoadingMore() {\n    this.isLoadingMore = false;\n  }\n  setMounted() {\n    this.emit(Events.Mounted);\n  }\n  refreshRect() {\n    console.log(\" connect  refreshRect \");\n  }\n  setBounce = (isBounce: boolean) => {\n    console.log(\" connect  setBounce \");\n  };\n  changeIndicatorHeight(height: number) {\n    console.log(\" connect  changeDownIndicatorHeight \");\n  }\n  setIndicatorHeightTransition(set: boolean) {\n    console.log(\" connect  addDownIndicatorHeightTransition \");\n  }\n  optimizeScroll(optimize: boolean) {\n    console.log(\" connect  optimizeScroll \");\n  }\n  hideIndicator = () => {\n    console.log(\" connect  hideIndicator \");\n  };\n  /**\n   * \n   *  (y=0  99999)\n   */\n  scrollTo = (position: Partial<{ left: number; top: number }>, duration = 300) => {\n    console.log(\" connect  scrollTo \");\n  };\n  /*  */\n  getToBottom() {\n    return this.getScrollHeight() - this.getScrollClientHeight() - this.getScrollTop();\n  }\n  /*  mescroll  */\n  getOffsetTop(dom: unknown) {\n    console.log(\" connect  getScrollHeight \");\n    return 0;\n  }\n  /*  */\n  getScrollHeight() {\n    console.log(\" connect  getScrollHeight \");\n    return 0;\n  }\n  /**  */\n  getScrollClientHeight() {\n    console.log(\" connect  getClientHeight \");\n    return 0;\n  }\n  /*  */\n  getScrollTop() {\n    console.log(\" connect  getScrollTop \");\n    return 0;\n  }\n  addScrollTop(difference: number) {\n    this.setScrollTop(this.getScrollTop() + difference);\n  }\n  /*  */\n  setScrollTop(y: number) {\n    console.log(\" connect  setScrollTop \");\n  }\n  /* body */\n  getBodyHeight() {\n    console.log(\" connect  getBodyHeight \");\n    return 0;\n  }\n  /* mescroll */\n  destroy = () => {\n    console.error(\" connect  destroy \");\n  };\n\n  inDownOffset(handler: Handler<TheTypesOfEvents[Events.InDownOffset]>) {\n    return this.on(Events.InDownOffset, handler);\n  }\n  outDownOffset(handler: Handler<TheTypesOfEvents[Events.OutDownOffset]>) {\n    return this.on(Events.OutDownOffset, handler);\n  }\n  onPulling(handler: Handler<TheTypesOfEvents[Events.Pulling]>) {\n    return this.on(Events.Pulling, handler);\n  }\n  onScroll(handler: Handler<TheTypesOfEvents[Events.Scrolling]>) {\n    return this.on(Events.Scrolling, handler);\n  }\n  onReachBottom(handler: Handler<TheTypesOfEvents[Events.ReachBottom]>) {\n    return this.on(Events.ReachBottom, handler);\n  }\n  onPullToRefresh(handler: Handler<TheTypesOfEvents[Events.PullToRefresh]>) {\n    this.canPullToRefresh = true;\n    return this.on(Events.PullToRefresh, handler);\n  }\n  onMounted(handler: Handler<TheTypesOfEvents[Events.Mounted]>) {\n    return this.on(Events.Mounted, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { PopperCore } from \"@/domains/ui/popper\";\nimport { CollectionCore } from \"@/domains/ui/collection\";\nimport { DismissableLayerCore } from \"@/domains/ui/dismissable-layer\";\nimport { PopoverCore } from \"@/domains/ui/popover\";\nimport { Direction } from \"@/domains/ui/direction\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\nimport { Rect } from \"@/types\";\n\nimport { SelectContentCore } from \"./content\";\nimport { SelectViewportCore } from \"./viewport\";\nimport { SelectValueCore } from \"./value\";\nimport { SelectTriggerCore } from \"./trigger\";\nimport { SelectWrapCore } from \"./wrap\";\nimport { SelectItemCore } from \"./item\";\nimport { clamp } from \"./utils\";\n\nconst CONTENT_MARGIN = 10;\nenum Events {\n  StateChange,\n  Change,\n  Focus,\n  Placed,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.StateChange]: SelectState<T>;\n  [Events.Change]: T | null;\n  [Events.Focus]: void;\n  [Events.Placed]: void;\n};\ntype SelectProps<T> = {\n  defaultValue: T | null;\n  placeholder?: string;\n  // options: SelectItemCore<T>[];\n  options?: { value: T; label: string }[];\n  onChange?: (v: T | null) => void;\n};\ntype SelectState<T> = {\n  options: { value: T; label: string; selected: boolean }[];\n  value: T | null;\n  value2: { value: T; label: string } | null;\n  /**  */\n  open: boolean;\n  /**  */\n  placeholder: string;\n  /**  */\n  disabled: boolean;\n  /**  */\n  required: boolean;\n  dir: Direction;\n  styles: Partial<CSSStyleDeclaration>;\n  enter: boolean;\n  visible: boolean;\n  exit: boolean;\n};\n\nexport class SelectCore<T> extends BaseDomain<TheTypesOfEvents<T>> {\n  shape = \"select\" as const;\n  name = \"SelectCore\";\n  debug = true;\n\n  // options: { text: string; store: SelectItemCore<T> }[] = [];\n  placeholder: string;\n  options: { value: T; label: string; selected: boolean }[] = [];\n  defaultValue: T | null = null;\n  value: T | null = null;\n  disabled: boolean = false;\n  open: boolean = false;\n\n  popper: PopperCore;\n  popover: PopoverCore;\n  presence = new PresenceCore();\n  collection: CollectionCore;\n  layer: DismissableLayerCore;\n\n  position: \"popper\" | \"item-aligned\" = \"popper\";\n\n  /**  */\n  triggerPos: {\n    x: number;\n    y: number;\n  } = {\n    x: 0,\n    y: 0,\n  };\n  reference: Rect | null = null;\n  /**  */\n  trigger: SelectTriggerCore | null = null;\n  wrap: SelectWrapCore | null = null;\n  /**  */\n  content: SelectContentCore | null = null;\n  /**  */\n  viewport: SelectViewportCore | null = null;\n  /**  item */\n  selectedItem: SelectItemCore<T> | null = null;\n\n  _findFirstValidItem = false;\n\n  get state(): SelectState<T> {\n    return {\n      options: this.options,\n      value: this.value,\n      value2: this.options.find((opt) => opt.value === this.value) ?? null,\n      open: this.open,\n      disabled: this.disabled,\n      placeholder: this.placeholder,\n      required: false,\n      dir: \"ltr\",\n      styles: {},\n      enter: this.presence.state.enter,\n      visible: this.presence.state.visible,\n      exit: this.presence.state.exit,\n    };\n  }\n\n  constructor(props: Partial<{ _name: string }> & SelectProps<T>) {\n    super(props);\n\n    const { defaultValue, placeholder = \"\", options = [], onChange } = props;\n    // console.log(\"[DOMAIN]ui/select/index - constructor\", defaultValue);\n    this.options = options.map((opt) => {\n      return {\n        label: opt.label,\n        value: opt.value,\n        selected: opt.value === defaultValue,\n      };\n    });\n    this.value = defaultValue;\n    this.defaultValue = defaultValue;\n    this.placeholder = placeholder;\n    const matched = this.options.find((opt) => opt.value === defaultValue);\n    if (matched) {\n      this.emit(Events.StateChange, { ...this.state });\n      this.emit(Events.Change, defaultValue);\n    }\n    this.popper = new PopperCore();\n    this.popover = new PopoverCore();\n    this.layer = new DismissableLayerCore();\n    this.collection = new CollectionCore();\n    this.popper.onReferenceMounted((reference) => {\n      const { x, y, width, height } = reference.getRect();\n      this.reference = {\n        width,\n        height,\n        x,\n        y,\n        left: x,\n        right: x + width,\n        top: y,\n        bottom: y + height,\n      };\n    });\n    this.layer.onDismiss(() => {\n      console.log(...this.log(\"this.layer.onDismiss\"));\n      this.hide();\n    });\n    this.presence.onStateChange(() => this.emit(Events.StateChange, { ...this.state }));\n    if (onChange) {\n      this.onChange(onChange);\n    }\n  }\n  mapViewModelWithIndex(index: number) {\n    return this.options[index];\n  }\n\n  setTriggerPointerDownPos(pos: { x: number; y: number }) {\n    this.triggerPos = pos;\n  }\n  setTrigger(trigger: SelectTriggerCore) {\n    this.trigger = trigger;\n  }\n  setWrap(wrap: SelectWrapCore) {\n    this.wrap = wrap;\n  }\n  setContent(content: SelectContentCore) {\n    this.content = content;\n  }\n  setViewport(viewport: SelectViewportCore) {\n    this.viewport = viewport;\n  }\n  // setValue(value: SelectValueCore) {\n  //   this.value = value;\n  // }\n  setSelectedItem(item: SelectItemCore<T>) {\n    this.selectedItem = item;\n  }\n  async show() {\n    // console.log(...this.log(\"show\", this.state));\n    if (this.disabled) {\n      return;\n    }\n    // if (this.open) {\n    //   return;\n    // }\n    this.popper.place();\n    // await sleep(800);\n    this.open = true;\n    // this.position();\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  hide() {\n    this.presence.hide();\n    // console.log(...this.log(\"hide\", this));\n    if (this.open === false) {\n      return;\n    }\n    this.open = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  addNativeOption() {}\n  removeNativeOption() {}\n  // appendItem(item: SelectItemCore<T>) {\n  //   if (this.options.find((opt) => opt.store === item)) {\n  //     return;\n  //   }\n  //   item.onLeave(() => {\n  //     this.focus();\n  //   });\n  //   item.onUnmounted(() => {\n  //     this.options = this.options.filter((opt) => opt.store !== item);\n  //   });\n  //   const findFirstValidItem = !this._findFirstValidItem && !this.state.disabled;\n  //   if (findFirstValidItem) {\n  //     this._findFirstValidItem = true;\n  //   }\n  //   const isSelected = this.state.value === item.state.value;\n  //   if (findFirstValidItem || isSelected) {\n  //     this.setSelectedItem(item);\n  //   }\n  //   this.options.push({\n  //     text: item.text,\n  //     store: item,\n  //   });\n  // }\n  /**  item */\n  select(value: T) {\n    // if (item.state.selected) {\n    //   this.hide();\n    //   return;\n    // }\n    if (this.value === value) {\n      return;\n    }\n    this.value = value;\n    for (let i = 0; i < this.options.length; i += 1) {\n      const it = this.options[i];\n      it.selected = false;\n      if (it.value === value) {\n        it.selected = true;\n      }\n    }\n    this.emit(Events.Change, value);\n    this.emit(Events.StateChange, { ...this.state });\n    this.hide();\n  }\n  focus() {\n    this.emit(Events.Focus);\n  }\n  setOptions(options: NonNullable<SelectProps<T>[\"options\"]>) {\n    this.options = options.map((opt) => {\n      return {\n        label: opt.label,\n        value: opt.value,\n        selected: opt.value === this.value,\n      };\n    });\n    // console.log(\"[DOMAIN]ui/select - setOptions\", this.unique_id, this.value, options);\n    if (this.value === null) {\n      return;\n    }\n    const matched = this.options.find((opt) => opt.value === this.value);\n    if (matched) {\n      return;\n    }\n    this.value = null;\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.Change, this.value);\n  }\n  setValue(v: T | null) {\n    if (v === null) {\n      this.value = null;\n      this.emit(Events.StateChange, { ...this.state });\n      this.emit(Events.Change, v);\n      return;\n    }\n    // const matched = this.options.find((opt) => opt.value === v);\n    // console.log(\"[DOMAIN]ui/select - setValue\", v, matched, this.options);\n    this.value = v;\n    this.options = this.options.map((opt) => {\n      return {\n        label: opt.label,\n        value: opt.value,\n        selected: opt.value === this.value,\n      };\n    });\n    this.emit(Events.Change, v);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  clear() {\n    this.value = null;\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.Change, this.value);\n  }\n  setPosition() {\n    // const { dir } = this.state;\n    // const wrapStyles = {\n    //   // width: 0,\n    //   height: 0,\n    //   minWidth: 0,\n    //   minHeight: 0,\n    //   maxWidth: 0,\n    //   maxHeight: 0,\n    //   top: 0,\n    //   right: 0,\n    //   bottom: 0,\n    //   left: 0,\n    //   margin: [0, 0, 0, 0],\n    // };\n    // console.log(\n    //   ...this.log(\n    //     \"position\",\n    //     this.trigger?.$node(),\n    //     // this.value?.$node(),\n    //     this.wrap?.$node(),\n    //     this.content?.$node(),\n    //     this.viewport?.$node(),\n    //     this.selectedItem?.$node(),\n    //     this.selectedItem?.text?.$node()\n    //   )\n    // );\n    // const itemRect = this.selectedItem.getRect();\n    // const contentRect = this.content.getRect();\n    // const valueRect = this.value.getRect();\n    // const triggerRect = this.trigger.getRect();\n    // // -----------------------------------------------------------------------------------------\n    // //  Horizontal positioning\n    // // -----------------------------------------------------------------------------------------\n    // if (dir !== \"rtl\") {\n    //   const itemTextOffset = itemRect.left - contentRect.left;\n    //   const left = valueRect.left - itemTextOffset;\n    //   const leftDelta = this.reference.left - left;\n    //   const minContentWidth = this.reference.width + leftDelta;\n    //   const contentWidth = Math.max(minContentWidth, contentRect.width);\n    //   const rightEdge = app.screen.width - CONTENT_MARGIN;\n    //   const clampedLeft = clamp(left, [CONTENT_MARGIN, rightEdge - contentWidth]);\n    //   wrapStyles.minWidth = minContentWidth;\n    //   wrapStyles.left = clampedLeft;\n    // } else {\n    //   const itemTextOffset = contentRect.right - itemRect.right;\n    //   const right = window.innerWidth - valueRect.right - itemTextOffset;\n    //   const rightDelta = window.innerWidth - this.reference.right - right;\n    //   const minContentWidth = this.reference.width + rightDelta;\n    //   const contentWidth = Math.max(minContentWidth, contentRect.width);\n    //   const leftEdge = window.innerWidth - CONTENT_MARGIN;\n    //   const clampedRight = clamp(right, [CONTENT_MARGIN, leftEdge - contentWidth]);\n    //   wrapStyles.minWidth = minContentWidth;\n    //   wrapStyles.right = clampedRight;\n    // }\n    // // -----------------------------------------------------------------------------------------\n    // // Vertical positioning\n    // // -----------------------------------------------------------------------------------------\n    // // const items = getItems();\n    // const availableHeight = app.screen.height - CONTENT_MARGIN * 2;\n    // const itemsHeight = this.viewport.scrollHeight;\n    // const contentStyles = this.content.getStyles();\n    // const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n    // const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n    // const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n    // const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n    // const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth; // prettier-ignore\n    // const minContentHeight = Math.min(this.selectedItem.offsetHeight * 5, fullContentHeight);\n    // const viewportStyles = this.viewport.getStyles();\n    // const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n    // const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n    // const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n    // const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n    // const selectedItemHalfHeight = this.selectedItem.offsetHeight / 2;\n    // const itemOffsetMiddle = this.selectedItem.offsetTop + selectedItemHalfHeight;\n    // const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n    // const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n    // const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n    // if (willAlignWithoutTopOverflow) {\n    //   const isLastItem = this.selectedItem === this.items[this.items.length - 1];\n    //   wrapStyles.bottom = 0;\n    //   const viewportOffsetBottom = this.content.clientHeight - this.viewport.offsetTop - this.viewport.offsetHeight;\n    //   const clampedTriggerMiddleToBottomEdge = Math.max(\n    //     triggerMiddleToBottomEdge,\n    //     selectedItemHalfHeight +\n    //       // viewport might have padding bottom, include it to avoid a scrollable viewport\n    //       (isLastItem ? viewportPaddingBottom : 0) +\n    //       viewportOffsetBottom +\n    //       contentBorderBottomWidth\n    //   );\n    //   const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n    //   wrapStyles.height = height;\n    // } else {\n    //   const isFirstItem = this.selectedItem === this.items[0];\n    //   wrapStyles.top = 0;\n    //   const clampedTopEdgeToTriggerMiddle = Math.max(\n    //     topEdgeToTriggerMiddle,\n    //     contentBorderTopWidth +\n    //       this.viewport.offsetTop +\n    //       // viewport might have padding top, include it to avoid a scrollable viewport\n    //       (isFirstItem ? viewportPaddingTop : 0) +\n    //       selectedItemHalfHeight\n    //   );\n    //   const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n    //   wrapStyles.height = height;\n    //   // this.viewport.scrollTop =\n    //   //   contentTopToItemMiddle -\n    //   //   topEdgeToTriggerMiddle +\n    //   //   this.viewport.offsetTop;\n    // }\n    // wrapStyles.margin = [CONTENT_MARGIN, 0, 0, 0];\n    // wrapStyles.minHeight = minContentHeight;\n    // wrapStyles.minHeight = minContentHeight;\n    // wrapStyles.maxHeight = availableHeight;\n    // // -----------------------------------------------------------------------------------------\n    // // onPlaced?.();\n    // // we don't want the initial scroll position adjustment to trigger \"expand on scroll\"\n    // // so we explicitly turn it on only after they've registered.\n    // // requestAnimationFrame(() => (shouldExpandOnScrollRef.current = true));\n    // const styles = Object.keys(wrapStyles)\n    //   .map((k) => {\n    //     const v = wrapStyles[k];\n    //     if (typeof v === \"number\") {\n    //       return {\n    //         [k]: `${v}px`,\n    //       };\n    //     }\n    //     if (Array.isArray(v)) {\n    //       return {\n    //         [k]: v.map((vv) => `${vv}px`).join(\" \"),\n    //       };\n    //     }\n    //     return {\n    //       [k]: v,\n    //     };\n    //   })\n    //   .reduce((nextStyles, cur) => {\n    //     return {\n    //       ...nextStyles,\n    //       ...cur,\n    //     };\n    //   }, {} as CSSStyleDeclaration);\n    // this.state.styles = styles;\n    // // console.log(...this.log(\"position\", styles));\n    // this.emit(Events.Placed);\n    // this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onValueChange(handler: Handler<TheTypesOfEvents<T>[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onChange(handler: Handler<TheTypesOfEvents<T>[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onFocus(handler: Handler<TheTypesOfEvents<T>[Events.Focus]>) {\n    return this.on(Events.Focus, handler);\n  }\n}\n\ntype SelectInListProps<T = unknown> = {\n  onChange: (record: T) => void;\n} & SelectProps<T>;\ntype TheTypesInListOfEvents<K extends string, T> = {\n  [Events.Change]: [K, T | null];\n  [Events.StateChange]: SelectProps<T>;\n};\n\nexport class SelectInListCore<K extends string, T> extends BaseDomain<TheTypesInListOfEvents<K, T>> {\n  options: SelectProps<T>[\"options\"] = [];\n  list: SelectCore<T>[] = [];\n  cached = new Map<K, SelectCore<T>>();\n  values: Map<K, T | null> = new Map();\n\n  constructor(props: Partial<{ _name: string } & SelectInListProps<T>> = {}) {\n    super(props);\n\n    const { options = [] } = props;\n    this.options = options;\n  }\n\n  bind(\n    unique_id: K,\n    extra?: {\n      defaultValue: T | null;\n    }\n  ) {\n    const { defaultValue } = extra || { defaultValue: null };\n    const existing = this.cached.get(unique_id);\n    // console.log(\"[DOMAIN]ui/select/index - bind\", unique_id, existing, this.options);\n    if (existing) {\n      return existing;\n    }\n    const select = new SelectCore<T>({\n      defaultValue,\n      options: this.options,\n      onChange: (value) => {\n        this.values.set(unique_id, value);\n        this.emit(Events.Change, [unique_id, value]);\n      },\n    });\n    this.list.push(select);\n    this.values.set(unique_id, defaultValue);\n    this.cached.set(unique_id, select);\n    return select;\n  }\n  setOptions(options: NonNullable<SelectProps<T>[\"options\"]>) {\n    // console.log(\"[DOMAIN]ui/select - SelectInListCore item count is\", this.list.length);\n    this.options = options;\n    if (this.list.length === 0) {\n      return;\n    }\n    for (let i = 0; i < this.list.length; i += 1) {\n      const item = this.list[i];\n      item.setOptions(options);\n    }\n  }\n  setValue(v: T | null) {\n    for (let i = 0; i < this.list.length; i += 1) {\n      const item = this.list[i];\n      item.setValue(v);\n    }\n  }\n  getValue(key: K) {\n    return this.values.get(key) ?? null;\n  }\n  clear() {\n    this.list = [];\n    this.cached = new Map();\n    this.values = new Map();\n  }\n  toJson<R>(handler: (value: [K, T | null]) => R) {\n    const result: R[] = [];\n    for (const [obj, value] of this.values) {\n      const r = handler([obj, value]);\n      result.push(r);\n    }\n    return result;\n  }\n  /**  */\n  // clear() {\n  //   this.cur = null;\n  // }\n\n  onChange(handler: Handler<TheTypesInListOfEvents<K, T>[Events.Change]>) {\n    this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesInListOfEvents<K, T>[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { RovingFocusCore } from \"@/domains/ui/roving-focus\";\nimport { Direction, Orientation } from \"@/domains/ui/direction\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\n\nenum Events {\n  StateChange,\n  ValueChange,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: TabsState;\n  [Events.ValueChange]: string;\n};\ntype TabsState = {\n  curValue: string | null;\n  orientation: Orientation;\n  dir: Direction;\n};\nexport class TabsCore extends BaseDomain<TheTypesOfEvents> {\n  roving: RovingFocusCore;\n  prevContent: {\n    id: number;\n    value: string;\n    presence: PresenceCore;\n  } | null = null;\n  contents: {\n    id: number;\n    value: string;\n    presence: PresenceCore;\n  }[] = [];\n\n  state: TabsState = {\n    curValue: null,\n    orientation: \"horizontal\",\n    dir: \"ltr\",\n  };\n\n  constructor(options: Partial<{ _name: string }> = {}) {\n    super(options);\n\n    this.roving = new RovingFocusCore();\n  }\n\n  selectTab(value: string) {\n    const matchedContent = this.contents.find((c) => c.value === value);\n    if (!matchedContent) {\n      return;\n    }\n    if (this.prevContent) {\n      this.prevContent.presence.hide();\n    }\n    matchedContent.presence.show();\n    this.prevContent = matchedContent;\n    this.emit(Events.ValueChange, value);\n  }\n  appendContent(content: { id: number; value: string; presence: PresenceCore }) {\n    if (this.contents.includes(content)) {\n      return;\n    }\n    this.contents.push(content);\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    this.on(Events.StateChange, handler);\n  }\n  onValueChange(handler: Handler<TheTypesOfEvents[Events.ValueChange]>) {\n    this.on(Events.ValueChange, handler);\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { PresenceCore } from \"@/domains/ui/presence\";\n\nenum Events {\n  BeforeShow,\n  Show,\n  BeforeHidden,\n  Hidden,\n  OpenChange,\n  AnimationStart,\n  AnimationEnd,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.BeforeShow]: void;\n  [Events.Show]: void;\n  [Events.BeforeHidden]: void;\n  [Events.Hidden]: void;\n  [Events.OpenChange]: boolean;\n  [Events.AnimationStart]: void;\n  [Events.AnimationEnd]: void;\n  [Events.StateChange]: ToastState;\n};\ntype ToastProps = {\n  delay: number;\n};\n\ntype ToastState = {\n  mask: boolean;\n  icon?: unknown;\n  texts: string[];\n  enter: boolean;\n  visible: boolean;\n  exit: boolean;\n};\n\nexport class ToastCore extends BaseDomain<TheTypesOfEvents> {\n  name = \"ToastCore\";\n\n  present = new PresenceCore();\n  delay = 1200;\n  timer: NodeJS.Timeout | null = null;\n  open = false;\n  _mask = false;\n  _icon: unknown = null;\n  _texts: string[] = [];\n\n  get state(): ToastState {\n    return {\n      mask: this._mask,\n      icon: this._icon,\n      texts: this._texts,\n      enter: this.present.state.enter,\n      visible: this.present.state.visible,\n      exit: this.present.state.exit,\n    };\n  }\n\n  constructor(options: Partial<{ _name: string } & ToastProps> = {}) {\n    super(options);\n\n    const { delay } = options;\n    if (delay) {\n      this.delay = delay;\n    }\n    this.present.onShow(() => {\n      // console.log(\"[]ToastCore - this.present.onShow\");\n      this.open = true;\n      this.emit(Events.OpenChange, true);\n    });\n    this.present.onHidden(() => {\n      // console.log(\"[]ToastCore - this.present.onHide\");\n      this.open = false;\n      this.emit(Events.OpenChange, false);\n    });\n    this.present.onStateChange(() => this.emit(Events.StateChange, { ...this.state }));\n  }\n\n  /**  */\n  async show(params: { mask?: boolean; icon?: unknown; texts: string[] }) {\n    const { mask = false, icon, texts } = params;\n    this._mask = mask;\n    this._icon = icon;\n    this._texts = texts;\n    this.emit(Events.StateChange, { ...this.state });\n\n    if (this.timer !== null) {\n      this.clearTimer();\n      //  toast  3s  3s toast  toast \n      if (this._icon === \"loading\") {\n        //  loading\n        return;\n      }\n      this.timer = setTimeout(() => {\n        this.hide();\n      }, this.delay);\n      return;\n    }\n    this.present.show();\n    if (this._icon === \"loading\") {\n      return;\n    }\n    this.timer = setTimeout(() => {\n      this.hide();\n    }, this.delay);\n  }\n  clearTimer() {\n    if (this.timer === null) {\n      return;\n    }\n    clearTimeout(this.timer);\n    this.timer = null;\n  }\n  /**  */\n  hide() {\n    this.present.hide();\n    this.clearTimer();\n  }\n\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHide(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onOpenChange(handler: Handler<TheTypesOfEvents[Events.OpenChange]>) {\n    return this.on(Events.OpenChange, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"ToastCore\";\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: TreeState;\n};\ntype TreeProps = {};\ntype TreeState = {};\n\nexport class TreeCore extends BaseDomain<TheTypesOfEvents> {\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nimport { MenuCore } from \"./index\";\n\nenum Events {\n  Enter,\n  Leave,\n  Focus,\n  Blur,\n  Click,\n  Change,\n}\ntype TheTypesOfEvents = {\n  [Events.Enter]: void;\n  [Events.Leave]: void;\n  [Events.Focus]: void;\n  [Events.Blur]: void;\n  [Events.Click]: void;\n  [Events.Change]: MenuItemCoreState;\n};\n\ntype MenuItemCoreProps = {\n  /**  */\n  label: string;\n  /** hover  */\n  tooltip?: string;\n  /**  */\n  icon?: unknown;\n  /** /? */\n  shortcut?: string;\n  /**  */\n  disabled?: boolean;\n  /**  */\n  hidden?: boolean;\n  /**  */\n  menu?: MenuCore;\n  /**  */\n  onClick?: () => void;\n};\ntype MenuItemCoreState = MenuItemCoreProps & {\n  /**  */\n  open: boolean;\n  /**  */\n  focused: boolean;\n};\n\nexport class MenuItemCore extends BaseDomain<TheTypesOfEvents> {\n  _name = \"MenuItemCore\";\n  debug = true;\n\n  label: string;\n  tooltip?: string;\n  icon?: unknown;\n  shortcut?: string;\n  /**  */\n  menu: MenuCore | null = null;\n\n  /**  */\n  _open = false;\n  _hidden = false;\n  _enter = false;\n  _focused = false;\n  _disabled = false;\n\n  get state(): MenuItemCoreState {\n    return {\n      label: this.label,\n      icon: this.icon,\n      shortcut: this.shortcut,\n      open: this._open,\n      disabled: this._disabled,\n      focused: this._focused || this._open,\n    };\n  }\n  get hidden() {\n    return this._hidden;\n  }\n\n  constructor(options: Partial<{ _name: string }> & MenuItemCoreProps) {\n    super(options);\n\n    const { _name, tooltip, label, icon, shortcut, disabled = false, hidden = false, menu, onClick } = options;\n\n    this.label = label;\n    this.tooltip = tooltip;\n    this.icon = icon;\n    this.shortcut = shortcut;\n    this._hidden = hidden;\n    this._disabled = disabled;\n    if (_name) {\n      this._name = _name;\n    }\n\n    if (menu) {\n      this.menu = menu;\n      menu.onShow(() => {\n        this._open = true;\n        this.emit(Events.Change, { ...this.state });\n      });\n      menu.onHide(() => {\n        this._open = false;\n        this.emit(Events.Change, { ...this.state });\n      });\n      // menu.onEnter(() => {\n      //   console.log(\"[DOMAIN]ui/menu/item - handle Menu enter\");\n      // });\n      // this.onBlur(() => {\n      //   menu.hide();\n      // });\n    }\n    if (onClick) {\n      this.onClick(onClick.bind(this));\n    }\n  }\n  setIcon(icon: unknown) {\n    this.icon = icon;\n    this.emit(Events.Change, { ...this.state });\n  }\n  /**  */\n  disable() {\n    this._disabled = true;\n    this.emit(Events.Change, { ...this.state });\n  }\n  /**  */\n  enable() {\n    this._disabled = false;\n    this.emit(Events.Change, { ...this.state });\n  }\n  /**  */\n  handlePointerEnter() {\n    // console.log(\"[DOMAIN]ui/menu/item - handle pointer enter\", this.label, this._enter);\n    if (this._enter) {\n      return;\n    }\n    // this.log(\"enter\");\n    this._enter = true;\n    this._focused = true;\n    this.emit(Events.Enter);\n    this.emit(Events.Change, { ...this.state });\n  }\n  handlePointerMove() {\n    // console.log(\"[DOMAIN]ui/menu/item - handle pointer move\", this.label);\n    // if (this.state.disabled) {\n    //   this.handlePointerLeave();\n    //   return;\n    // }\n    // this.handlePointerEnter();\n  }\n  /**  */\n  handlePointerLeave() {\n    // console.log(\"[DOMAIN]ui/menu/item - handle pointer leave\", this.label, this._enter, this._open);\n    if (this._enter === false) {\n      return;\n    }\n    this._enter = false;\n    this._focused = false;\n    this.emit(Events.Leave);\n    this.emit(Events.Change, { ...this.state });\n  }\n  handleFocus() {\n    // console.log(\"[DOMAIN]ui/menu/item - handle focus\", this.label, this._focused);\n    if (this._focused) {\n      return;\n    }\n    // this.log(\"focus\");\n    this._focused = true;\n    this.emit(Events.Focus);\n    this.emit(Events.Change, { ...this.state });\n  }\n  handleBlur() {\n    // console.log(\"[DOMAIN]ui/menu/item - handle blur\", this.label, this._focused);\n    if (this._focused === false) {\n      return;\n    }\n    this._enter = false;\n    this.blur();\n  }\n  handleClick() {\n    if (this._disabled) {\n      return;\n    }\n    this.emit(Events.Click);\n  }\n  blur() {\n    this._focused = false;\n    this.emit(Events.Blur);\n    this.emit(Events.Change, { ...this.state });\n  }\n  reset() {\n    // console.log(\"[DOMAIN]ui/menu/item - reset\", this.label, this.state.focused);\n    // this._disabled = false;\n    this._focused = false;\n    this._open = false;\n    this._enter = false;\n    if (this.menu) {\n      this.menu.reset();\n    }\n  }\n  hide() {\n    this._hidden = true;\n  }\n  show() {\n    this._hidden = false;\n  }\n  unmount() {\n    super.destroy();\n    if (this.menu) {\n      this.menu.unmount();\n    }\n    this.reset();\n  }\n\n  onEnter(handler: Handler<TheTypesOfEvents[Events.Enter]>) {\n    return this.on(Events.Enter, handler);\n  }\n  onLeave(handler: Handler<TheTypesOfEvents[Events.Leave]>) {\n    return this.on(Events.Leave, handler);\n  }\n  onFocus(handler: Handler<TheTypesOfEvents[Events.Focus]>) {\n    return this.on(Events.Focus, handler);\n  }\n  onBlur(handler: Handler<TheTypesOfEvents[Events.Blur]>) {\n    return this.on(Events.Blur, handler);\n  }\n  onClick(handler: Handler<TheTypesOfEvents[Events.Click]>) {\n    return this.on(Events.Click, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"MenuItem\";\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nimport { CheckboxCore } from \".\";\n\nenum Events {\n  StateChange,\n  Change,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.StateChange]: CheckboxGroupState<T>;\n  [Events.Change]: T[];\n};\ntype CheckboxGroupOption<T> = {\n  value: T;\n  label: string;\n  checked?: boolean;\n  disabled?: boolean;\n};\ntype CheckboxGroupProps<T> = {\n  options?: CheckboxGroupOption<T>[];\n  checked?: boolean;\n  disabled?: boolean;\n  required?: boolean;\n  onChange?: (options: T[]) => void;\n};\ntype CheckboxGroupState<T> = Omit<CheckboxGroupProps<T>, \"options\"> & {\n  options: {\n    label: string;\n    value: T;\n    core: CheckboxCore;\n  }[];\n  values: T[];\n  indeterminate: boolean;\n};\n\nexport class CheckboxGroupCore<T extends any> extends BaseDomain<TheTypesOfEvents<T>> {\n  shape = \"checkbox-group\" as const;\n\n  options: {\n    label: string;\n    value: T;\n    core: CheckboxCore;\n  }[] = [];\n  disabled: CheckboxGroupProps<T>[\"disabled\"];\n  values: T[] = [];\n\n  get indeterminate() {\n    return this.values.length === this.options.length;\n  }\n  get state(): CheckboxGroupState<T> {\n    return {\n      values: this.values,\n      options: this.options,\n      disabled: this.disabled,\n      indeterminate: this.indeterminate,\n    };\n  }\n\n  prevChecked = false;\n\n  constructor(props: { _name?: string } & CheckboxGroupProps<T> = {}) {\n    super(props);\n\n    const { options = [], disabled = false, onChange } = props;\n    this.disabled = disabled;\n\n    this.options = options.map((opt) => {\n      const { label, value, checked, disabled } = opt;\n      const store = new CheckboxCore({\n        label,\n        checked,\n        disabled,\n        onChange: (checked) => {\n          const existing = this.values.includes(value);\n          if (checked && !existing) {\n            this.checkOption(value);\n            return;\n          }\n          if (!checked && existing) {\n            this.uncheckOption(value);\n          }\n        },\n      });\n      return {\n        label,\n        value,\n        core: store,\n      };\n    });\n    if (onChange) {\n      this.onChange(onChange);\n    }\n  }\n  checkOption(value: T) {\n    console.log(\"[DOMAIN]domains/ui/checkbox/group - checkOption\", value);\n    this.values = this.values.concat(value);\n    this.emit(Events.Change, [...this.values]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  uncheckOption(value: T) {\n    console.log(\"[DOMAIN]domains/ui/checkbox/group - uncheckOption\", value);\n    this.values = this.values.filter((v) => {\n      return v !== value;\n    });\n    this.emit(Events.Change, [...this.values]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  reset() {\n    this.values = [];\n    this.emit(Events.Change, [...this.values]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setOptions(options: CheckboxGroupOption<T>[]) {\n    // console.log(\"[DOMAIN]ui/checkbox/group - setOptions\", this.options);\n    for (let i = 0; i < this.options.length; i += 1) {\n      const opt = this.options[i];\n      // console.log(\"[DOMAIN]ui/checkbox/group - setOptions\", opt, i);\n      opt.core.destroy();\n    }\n    this.options = options.map((opt) => {\n      const { label, value, checked, disabled } = opt;\n      const store = new CheckboxCore({\n        label,\n        checked,\n        disabled,\n        onChange: (checked) => {\n          const existing = this.values.includes(value);\n          if (checked && !existing) {\n            this.checkOption(value);\n            return;\n          }\n          if (!checked && existing) {\n            this.uncheckOption(value);\n          }\n        },\n      });\n      return {\n        label,\n        value,\n        core: store,\n      };\n    });\n    console.log(\"[DOMAIN]ui/checkbox/group - setOptions\", this.options.length);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onChange(handler: Handler<TheTypesOfEvents<T>[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","/**\n * @file \n */\n\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { UserCore } from \"@/biz/user/index\";\nimport { StorageCore } from \"@/domains/storage/index\";\nimport { Result } from \"@/domains/result/index\";\nimport { JSONObject } from \"@/types/index\";\n\nimport { ThemeTypes } from \"./types\";\n\nexport enum OrientationTypes {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n}\nconst mediaSizes = {\n  sm: 0,\n  /**  */\n  md: 768,\n  /**  */\n  lg: 992,\n  /**  */\n  xl: 1200,\n  /**  */\n  \"2xl\": 1536,\n};\nfunction getCurrentDeviceSize(width: number) {\n  if (width >= mediaSizes[\"2xl\"]) {\n    return \"2xl\";\n  }\n  if (width >= mediaSizes.xl) {\n    return \"xl\";\n  }\n  if (width >= mediaSizes.lg) {\n    return \"lg\";\n  }\n  if (width >= mediaSizes.md) {\n    return \"md\";\n  }\n  return \"sm\";\n}\nexport type DeviceSizeTypes = keyof typeof mediaSizes;\n\nenum Events {\n  Tip,\n  Loading,\n  HideLoading,\n  Error,\n  Login,\n  Logout,\n  ForceUpdate,\n  DeviceSizeChange,\n  /**  */\n  Ready,\n  Show,\n  Hidden,\n  /**  */\n  Resize,\n  Blur,\n  Keydown,\n  OrientationChange,\n  EscapeKeyDown,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.Ready]: void;\n  [Events.Error]: Error;\n  [Events.Tip]: { icon?: unknown; text: string[] };\n  [Events.Loading]: { text: string[] };\n  [Events.HideLoading]: void;\n  [Events.Login]: {};\n  [Events.Logout]: void;\n  [Events.ForceUpdate]: void;\n  [Events.Resize]: {\n    width: number;\n    height: number;\n  };\n  [Events.DeviceSizeChange]: DeviceSizeTypes;\n  [Events.Keydown]: {\n    code: string;\n    preventDefault: () => void;\n  };\n  [Events.EscapeKeyDown]: void;\n  [Events.Blur]: void;\n  [Events.Show]: void;\n  [Events.Hidden]: void;\n  [Events.OrientationChange]: \"vertical\" | \"horizontal\";\n  [Events.StateChange]: ApplicationState;\n};\ntype ApplicationState = {\n  ready: boolean;\n  env: JSONObject;\n  theme: ThemeTypes;\n  deviceSize: DeviceSizeTypes;\n  height: number;\n};\ntype ApplicationProps<T extends { storage: StorageCore<any> }> = {\n  user: UserCore;\n  storage: T[\"storage\"];\n  // history: HistoryCore;\n  /**\n   *  Result.Ok() \n   */\n  beforeReady?: () => Promise<Result<null>>;\n  onReady?: () => void;\n};\n\nexport class Application<T extends { storage: StorageCore<any> }> extends BaseDomain<TheTypesOfEvents> {\n  /**  */\n  $user: UserCore;\n  $storage: T[\"storage\"];\n\n  lifetimes: Pick<ApplicationProps<T>, \"beforeReady\" | \"onReady\">;\n\n  ready = false;\n  screen: {\n    statusBarHeight?: number;\n    menuButton?: {\n      width: number;\n      left: number;\n      right: number;\n    };\n    width: number;\n    height: number;\n  } = {\n    width: 0,\n    height: 0,\n  };\n  env: {\n    wechat: boolean;\n    ios: boolean;\n    android: boolean;\n    pc: boolean;\n    weapp: boolean;\n    prod: \"develop\" | \"trial\" | \"release\";\n  } = {\n    wechat: false,\n    ios: false,\n    android: false,\n    pc: false,\n    weapp: false,\n    prod: \"develop\",\n  };\n  orientation = OrientationTypes.Vertical;\n  curDeviceSize: DeviceSizeTypes = \"md\";\n  height = 0;\n  theme: ThemeTypes = \"system\";\n\n  safeArea = false;\n  Events = Events;\n\n  // @todo  Application \n\n  get state(): ApplicationState {\n    return {\n      ready: this.ready,\n      theme: this.theme,\n      env: this.env,\n      deviceSize: this.curDeviceSize,\n      height: this.height,\n    };\n  }\n\n  constructor(props: ApplicationProps<T>) {\n    super();\n\n    const { user, storage, beforeReady, onReady } = props;\n\n    this.$user = user;\n    this.$storage = storage;\n\n    this.lifetimes = {\n      beforeReady,\n      onReady,\n    };\n  }\n  /**  */\n  async start(size: { width: number; height: number }) {\n    const { width, height } = size;\n    this.screen = { ...this.screen, width, height };\n    this.curDeviceSize = getCurrentDeviceSize(width);\n    // console.log('[Application]start');\n    const { beforeReady } = this.lifetimes;\n    if (beforeReady) {\n      const r = await beforeReady();\n      // console.log(\"[]Application - ready result\", r);\n      if (r.error) {\n        return Result.Err(r.error);\n      }\n    }\n    this.ready = true;\n    this.emit(Events.Ready);\n    this.emit(Events.StateChange, { ...this.state });\n    // console.log(\"[]Application - before start\");\n    return Result.Ok(null);\n  }\n  /**  */\n  setTheme(theme: ThemeTypes) {\n    const tip = \" connect.web  setTheme \";\n    console.warn(tip);\n    return Result.Err(tip);\n  }\n  getTheme() {\n    const tip = \" connect.web  getTheme \";\n    console.warn(tip);\n    return \"light\";\n  }\n  // getSystemTheme(e?: any): Result<string> {\n  //   const tip = \" connect.web  getSystemTheme \";\n  //   console.warn(tip);\n  //   return Result.Err(tip);\n  // }\n  // push(...args: Parameters<HistoryCore[\"push\"]>) {\n  //   return this.$history.push(...args);\n  // }\n  // replace(...args: Parameters<HistoryCore[\"replace\"]>) {\n  //   return this.$history.replace(...args);\n  // }\n  // back(...args: Parameters<HistoryCore[\"back\"]>) {\n  //   return this.$history.back(...args);\n  // }\n\n  tipUpdate() {\n    this.emit(Events.ForceUpdate);\n  }\n  tip(arg: { icon?: unknown; text: string[] }) {\n    this.emit(Events.Tip, arg);\n    return arg.text.join(\"\\n\");\n  }\n  loading(arg: { text: string[] }) {\n    this.emit(Events.Loading, arg);\n    return {\n      hideLoading: () => {\n        this.emit(Events.HideLoading);\n      },\n    };\n  }\n  hideLoading() {\n    this.emit(Events.HideLoading);\n  }\n  /**  */\n  vibrate() {}\n  setSize(size: { width: number; height: number }) {\n    this.screen = size;\n  }\n  /**  title */\n  setTitle(title: string): void {\n    throw new Error(\" setTitle \");\n  }\n  openWindow(url: string) {\n    throw new Error(\" openWindow \");\n  }\n  setEnv(env: JSONObject) {\n    this.env = {\n      ...this.env,\n      ...env,\n    };\n  }\n  setHeight(v: number) {\n    this.height = v;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  copy(text: string) {\n    throw new Error(\" copy \");\n  }\n  getComputedStyle(el: unknown): {} {\n    throw new Error(\" getComputedStyle \");\n  }\n  /**  */\n  notify(msg: { title: string; body: string }) {\n    console.log(\" notify \");\n  }\n  disablePointer() {\n    throw new Error(\" disablePointer \");\n  }\n  enablePointer() {\n    throw new Error(\" enablePointer \");\n  }\n  /**  */\n  keydown(event: { code: string; preventDefault: () => void }) {\n    if (event.code === \"Escape\") {\n      this.escape();\n    }\n    this.emit(Events.Keydown, event);\n  }\n  escape() {\n    this.emit(Events.EscapeKeyDown);\n  }\n  resize(size: { width: number; height: number }) {\n    this.screen = size;\n    this.emit(Events.Resize, size);\n  }\n  blur() {\n    this.emit(Events.Blur);\n  }\n\n  handleScreenOrientationChange(orientation: number) {\n    if (orientation === 0) {\n      this.orientation = OrientationTypes.Vertical;\n      this.emit(Events.OrientationChange, this.orientation);\n      return;\n    }\n    this.orientation = OrientationTypes.Horizontal;\n    this.emit(Events.OrientationChange, this.orientation);\n  }\n  handleResize(size: { width: number; height: number }) {\n    this.screen = size;\n    const mediaStr = getCurrentDeviceSize(size.width);\n    if (mediaStr !== this.curDeviceSize) {\n      this.curDeviceSize = mediaStr;\n      this.emit(Events.DeviceSizeChange, this.curDeviceSize);\n    }\n    this.emit(Events.Resize, size);\n  }\n\n  /* ----------------\n   * Lifetime\n   * ----------------\n   */\n  onReady(handler: Handler<TheTypesOfEvents[Events.Ready]>) {\n    return this.on(Events.Ready, handler);\n  }\n  onDeviceSizeChange(handler: Handler<TheTypesOfEvents[Events.DeviceSizeChange]>) {\n    return this.on(Events.DeviceSizeChange, handler);\n  }\n  onUpdate(handler: Handler<TheTypesOfEvents[Events.ForceUpdate]>) {\n    return this.on(Events.ForceUpdate, handler);\n  }\n  /**  */\n  onOrientationChange(handler: Handler<TheTypesOfEvents[Events.OrientationChange]>) {\n    return this.on(Events.OrientationChange, handler);\n  }\n  onResize(handler: Handler<TheTypesOfEvents[Events.Resize]>) {\n    return this.on(Events.Resize, handler);\n  }\n  onBlur(handler: Handler<TheTypesOfEvents[Events.Blur]>) {\n    return this.on(Events.Blur, handler);\n  }\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onHidden(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onKeydown(handler: Handler<TheTypesOfEvents[Events.Keydown]>) {\n    return this.on(Events.Keydown, handler);\n  }\n  onEscapeKeyDown(handler: Handler<TheTypesOfEvents[Events.EscapeKeyDown]>) {\n    return this.on(Events.EscapeKeyDown, handler);\n  }\n  onTip(handler: Handler<TheTypesOfEvents[Events.Tip]>) {\n    return this.on(Events.Tip, handler);\n  }\n  onLoading(handler: Handler<TheTypesOfEvents[Events.Loading]>) {\n    return this.on(Events.Loading, handler);\n  }\n  onHideLoading(handler: Handler<TheTypesOfEvents[Events.HideLoading]>) {\n    return this.on(Events.HideLoading, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  /**\n   * ----------------\n   * Event\n   * ----------------\n   */\n  onError(handler: Handler<TheTypesOfEvents[Events.Error]>) {\n    return this.on(Events.Error, handler);\n  }\n}\n","/**\n * @file \n *  URL \n */\nimport qs from \"qs\";\nimport parse from \"url-parse\";\n\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { JSONObject } from \"@/types/index\";\n\nenum Events {\n  PushState,\n  ReplaceState,\n  PopState,\n  Back,\n  Forward,\n  Reload,\n  Start,\n  PathnameChange,\n  /**  */\n  Relaunch,\n  /** ???? */\n  RedirectToHome,\n  HistoriesChange,\n}\ntype TheTypesOfEvents = {\n  [Events.PathnameChange]: {\n    pathname: string;\n    search: string;\n    type: RouteAction;\n  };\n  [Events.PushState]: {\n    from: string | null;\n    to: string | null;\n    path: string;\n    pathname: string;\n  };\n  [Events.ReplaceState]: {\n    from: string | null;\n    path: string;\n    pathname: string;\n  };\n  [Events.PopState]: {\n    type: string;\n    href: string;\n    pathname: string;\n  };\n  [Events.Back]: void;\n  [Events.Forward]: void;\n  [Events.Reload]: void;\n  [Events.Start]: RouteLocation;\n  [Events.Relaunch]: void;\n  [Events.HistoriesChange]: {\n    pathname: string;\n  }[];\n};\ntype RouteLocation = {\n  host: string;\n  protocol: string;\n  origin: string;\n  pathname: string;\n  href: string;\n  search: string;\n};\ntype ParamConfigure = {\n  name: string;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n};\ntype RouteConfigure = {\n  title: string;\n  component: unknown;\n  /**  */\n  child?: NavigatorCore;\n};\ntype NavigatorState = {\n  pathname: string;\n  query: JSONObject;\n  params: JSONObject;\n  search: string;\n  location: string;\n};\n\nexport class NavigatorCore extends BaseDomain<TheTypesOfEvents> {\n  static prefix: string | null = null;\n  static parse(url: string) {\n    const { pathname, query: query_str, ...rest } = parse(url);\n    const query = qs.parse(query_str, { ignoreQueryPrefix: true }) as Record<string, string>;\n    if (NavigatorCore.prefix && pathname.startsWith(NavigatorCore.prefix)) {\n      return { ...rest, query, pathname: pathname.replace(NavigatorCore.prefix, \"\") };\n    }\n    return {\n      ...rest,\n      query,\n      pathname,\n    };\n  }\n\n  unique_id = \"NavigatorCore\";\n  debug = false;\n\n  name = \"root\";\n  /**  pathname */\n  pathname: string = \"/\";\n  /**  query */\n  query: Record<string, string> = {};\n  /**  params */\n  params: Record<string, string> = {};\n  /**  URL */\n  location: Partial<RouteLocation> = {};\n  href: string = \"/\";\n  histories: { pathname: string }[] = [];\n  prevHistories: { pathname: string }[] = [];\n  /**  pathname */\n  prevPathname: string | null = null;\n\n  /** router  */\n  // host: string;\n  // protocol: string;\n  origin = \"\";\n  host = \"\";\n\n  _pending: {\n    pathname: string;\n    search: string;\n    type: RouteAction;\n  } = {\n    pathname: \"/\",\n    search: \"\",\n    type: \"initialize\",\n  };\n\n  get state() {\n    return {\n      pathname: this.pathname,\n      search: this._pending.search,\n      params: this.params,\n      query: this.query,\n      location: this.location,\n    };\n  }\n\n  /**  */\n  async prepare(location: RouteLocation) {\n    const { host, pathname, href, search, origin } = location;\n    // console.log(\"[DOMAIN]router - prepare\", location);\n    let clean_pathname = pathname;\n    if (NavigatorCore.prefix && NavigatorCore.prefix.match(/^\\/[a-z0-9A-Z]{1,}/)) {\n      clean_pathname = pathname.replace(NavigatorCore.prefix!, \"\");\n    }\n    this.setPathname(clean_pathname);\n    this.origin = origin;\n    this.host = host;\n    this.location = location;\n    // this.pathname = pathname;\n    const query = buildQuery(href);\n    this.query = query;\n    this._pending = {\n      pathname: clean_pathname,\n      search,\n      type: \"initialize\",\n    };\n  }\n  start() {\n    const { pathname } = this._pending;\n    this.setPathname(pathname);\n    this.histories = [\n      {\n        pathname,\n      },\n    ];\n    this.emit(Events.PathnameChange, { ...this._pending });\n  }\n  private setPrevPathname(p: string) {\n    this.prevPathname = p;\n  }\n  private setPathname(p: string) {\n    this.pathname = p;\n  }\n  /**  */\n  pushState(url: string) {\n    const pathname = (NavigatorCore.prefix + url).replace(/^\\/\\//, \"/\");\n    const u = `${this.origin}${pathname}`;\n    const r = new URL(u);\n    const { pathname: realTargetPathname, search } = r;\n    const prevPathname = this.pathname;\n    this.setPrevPathname(prevPathname);\n    this.setPathname(realTargetPathname);\n    // this.prevHistories = [...this.histories];\n    // console.log(\"[DOMAIN]navigator - before push\", prevPathname, realTargetPathname);\n    this.histories.push({ pathname: realTargetPathname });\n    this.emit(Events.PushState, {\n      from: prevPathname,\n      to: realTargetPathname,\n      path: realTargetPathname + search,\n      pathname: realTargetPathname,\n    });\n    this.emit(Events.HistoriesChange, [...this.histories]);\n  }\n  async replaceState(url: string) {\n    const u = `${this.origin}${NavigatorCore.prefix}${url}`;\n    const r = new URL(u);\n    const { pathname: realTargetPathname, search } = r;\n    this.setPrevPathname(this.pathname);\n    this.setPathname(realTargetPathname);\n    this.histories[this.histories.length - 1] = { pathname: realTargetPathname };\n    this.emit(Events.ReplaceState, {\n      from: this.prevPathname,\n      path: realTargetPathname + search,\n      pathname: realTargetPathname,\n    });\n    this.emit(Events.HistoriesChange, [...this.histories]);\n    // this.emit(Events.PathnameChange, { ...this._pending });\n  }\n  // /**  */\n  // async push(targetPathname: string, targetQuery?: Record<string, string>) {\n  //   // console.log(\"[DOMAIN]navigator - push\", this.query);\n  //   // this.log(\"push\", targetPathname, this.prevPathname);\n  //   const url = (() => {\n  //     if (targetPathname.startsWith(\"http\")) {\n  //       return targetPathname;\n  //     }\n  //     const p = `${NavigatorCore.prefix}${targetPathname}`;\n  //     return `${this.origin}${p}`;\n  //   })();\n  //   const r = new URL(url);\n  //   const { pathname: realTargetPathname, search } = r;\n  //   const query = targetQuery || buildQuery(search);\n  //   const remainingFields = extractDefinedKeys(this.query, [\"token\"]);\n  //   this.query = {\n  //     ...query,\n  //     ...remainingFields,\n  //   };\n  //   if (this.pathname === realTargetPathname) {\n  //     console.log(\"cur pathname has been\", targetPathname);\n  //     return;\n  //   }\n  //   const prevPathname = this.pathname;\n  //   this.setPrevPathname(prevPathname);\n  //   this.setPathname(realTargetPathname);\n  //   this.histories.push({ pathname: realTargetPathname });\n  //   // this.emit(Events.PushState, {\n  //   //   from: this.prevPathname,\n  //   //   to: realTargetPathname,\n  //   //   //  this.origin / \n  //   //   path: (() => {\n  //   //     let url = `${this.origin}${realTargetPathname}`;\n  //   //     url += \"?\" + query_stringify(this.query);\n  //   //     return url;\n  //   //   })(),\n  //   //   pathname: realTargetPathname,\n  //   // });\n  //   this._pending = {\n  //     pathname: realTargetPathname,\n  //     search,\n  //     type: \"push\",\n  //   };\n  //   this.emit(Events.PathnameChange, { ...this._pending });\n  // }\n  // back = () => {\n  //   // this.emit(Events.Back);\n  // };\n  // reload = () => {\n  //   // this.emit(Events.Reload);\n  // };\n  // popstate({ type, href, pathname }: { type: string; href: string; pathname: string }) {\n  //   this.emit(Events.PopState, { type, href, pathname });\n  // }\n  /**  */\n  handlePopState({ type, pathname, href }: { type: string; href: string; pathname: string }) {\n    console.log(\"[DOMAIN]navigator/index - handlePopState\", type, this.pathname, this.prevHistories);\n    if (type !== \"popstate\") {\n      return;\n    }\n    const targetPathname = pathname;\n    const prevPathname = this.pathname;\n    this.setPrevPathname(prevPathname);\n    this.setPathname(targetPathname);\n    const isForward = (() => {\n      if (this.prevHistories.length === 0) {\n        return false;\n      }\n      const lastStackWhenBack = this.prevHistories[this.prevHistories.length - 1];\n      // console.log(\"[DOMAIN]navigator -lastStackWhenBack\", lastStackWhenBack.pathname, targetPathname);\n      if (lastStackWhenBack?.pathname === targetPathname) {\n        return true;\n      }\n      return false;\n    })();\n    this._pending = {\n      pathname,\n      search: \"\",\n      type: (() => {\n        if (isForward) {\n          return \"forward\";\n        }\n        return \"back\";\n      })(),\n    };\n    // this.emit(Events.PathnameChange, { ...this._pending });\n    // forward\n    if (isForward) {\n      this.setPrevPathname(this.pathname);\n      this.setPathname(targetPathname);\n      const lastStackWhenBack = this.prevHistories.pop();\n      if (lastStackWhenBack) {\n        this.histories = this.histories.concat([lastStackWhenBack]);\n      }\n      this.emit(Events.Forward);\n      this.emit(Events.HistoriesChange, [...this.histories]);\n      this.emit(Events.PopState, { type: \"forward\", pathname, href });\n      return;\n    }\n    // if (this.histories.length === 1) {\n    //   return;\n    // }\n    // back\n    this.emit(Events.Back);\n    // var confirmationMessage = \"\";\n    // if (confirm(confirmationMessage)) {\n    // } else {\n    //   history.pushState(null, null, window.location.href);\n    // }\n    const theHistoryDestroy = this.histories[this.histories.length - 1];\n    this.prevHistories = this.prevHistories.concat([theHistoryDestroy]).filter(Boolean);\n    // this.prevHistories = [...this.histories];\n    this.setPrevPathname(this.pathname);\n    this.setPathname(targetPathname);\n    // const cloneStacks = this.histories.slice(0, this.histories.length - 1);\n    console.log(\n      \"[DOMAIN]navigator - before pop\",\n      this.histories.map((h) => h.pathname)\n    );\n    const cloneStacks = this.histories.slice(0, this.histories.length - 1);\n    this.histories = cloneStacks.filter(Boolean);\n    // this.histories.pop();\n    this.emit(Events.HistoriesChange, [...this.histories]);\n    this.emit(Events.PopState, { type: \"back\", pathname, href });\n  }\n\n  onStart(handler: Handler<TheTypesOfEvents[Events.Start]>) {\n    return this.on(Events.Start, handler);\n  }\n  onHistoryChange(handler: Handler<TheTypesOfEvents[Events.HistoriesChange]>) {\n    return this.on(Events.HistoriesChange, handler);\n  }\n  onPushState(handler: Handler<TheTypesOfEvents[Events.PushState]>) {\n    return this.on(Events.PushState, handler);\n  }\n  onReplaceState(handler: Handler<TheTypesOfEvents[Events.ReplaceState]>) {\n    return this.on(Events.ReplaceState, handler);\n  }\n  onPopState(handler: Handler<TheTypesOfEvents[Events.PopState]>) {\n    return this.on(Events.PopState, handler);\n  }\n  onReload(handler: Handler<TheTypesOfEvents[Events.Reload]>) {\n    return this.on(Events.Reload, handler);\n  }\n  onPathnameChange(handler: Handler<TheTypesOfEvents[Events.PathnameChange]>) {\n    return this.on(Events.PathnameChange, handler);\n  }\n  onBack(handler: Handler<TheTypesOfEvents[Events.Back]>) {\n    return this.on(Events.Back, handler);\n  }\n  onForward(handler: Handler<TheTypesOfEvents[Events.Forward]>) {\n    return this.on(Events.Forward, handler);\n  }\n  onRelaunch(handler: Handler<TheTypesOfEvents[Events.Relaunch]>) {\n    return this.on(Events.Relaunch, handler);\n  }\n  onHistoriesChange(handler: Handler<TheTypesOfEvents[Events.HistoriesChange]>) {\n    return this.on(Events.HistoriesChange, handler);\n  }\n}\n\nexport type RouteAction = \"initialize\" | \"push\" | \"replace\" | \"back\" | \"forward\";\n\nfunction buildQuery(path: string) {\n  const [, search] = path.split(\"?\");\n  if (!search) {\n    return {} as Record<string, string>;\n  }\n  return qs.parse(search) as Record<string, string>;\n}\n\ntype ExtractDefinedKeys<T, K extends keyof T> = {\n  [key in K]: T[key] extends undefined ? never : T[key];\n};\nfunction extractDefinedKeys<T extends any, K extends keyof T>(obj: T, keys: K[]): ExtractDefinedKeys<T, K> {\n  const result = {} as ExtractDefinedKeys<T, K>;\n  for (const key of keys) {\n    // @ts-ignore\n    if (obj.hasOwnProperty(key) && obj[key] !== undefined) {\n      result[key] = obj[key] as ExtractDefinedKeys<T, K>[typeof key];\n    }\n  }\n  return result;\n}\n","import dayjs from \"dayjs\";\nimport \"dayjs/locale/zh-cn\";\nimport relative_time from \"dayjs/plugin/relativeTime\";\nimport { twMerge } from \"tailwind-merge\";\n\nimport { Result } from \"@/domains/result/index\";\nimport { JSONObject } from \"@/types/index\";\n\nimport { cn as nzhcn } from \"./nzh\";\n\ndayjs.extend(relative_time);\ndayjs.locale(\"zh-cn\");\n\nexport function cn(...inputs: any[]) {\n  return twMerge(inputs);\n}\n\nexport function toFixed(v: any, n: number = 2) {\n  return Number(Number(v).toFixed(n));\n}\n\n/**  json  */\nexport function parseJSONStr<T extends any>(json: string) {\n  try {\n    if (json[0] !== \"{\" && json[0] !== \"[\") {\n      return Result.Err(\" json\");\n    }\n    const d = JSON.parse(json);\n    return Result.Ok(d as T);\n  } catch (err) {\n    const e = err as Error;\n    return Result.Err(e);\n  }\n}\n\nexport function uidFactory() {\n  let _uid = 0;\n  return function uid() {\n    _uid += 1;\n    return _uid;\n  };\n}\n\nconst defaultRandomAlphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n/**\n * \n * @param length\n * @returns\n */\nexport function random_key(length: number) {\n  return random_string_with_alphabet(length, defaultRandomAlphabet);\n}\nfunction random_string_with_alphabet(length: number, alphabet: string) {\n  let b = new Array(length);\n  let max = alphabet.length;\n  for (let i = 0; i < b.length; i++) {\n    let n = Math.floor(Math.random() * max);\n    b[i] = alphabet[n];\n  }\n  return b.join(\"\");\n}\n\nexport function padding_zero(str: number | string) {\n  if (String(str).length === 1) {\n    return `0${str}`;\n  }\n  return String(str);\n}\nexport function remove_str(filename: string, index: number = 0, length: number) {\n  return filename.slice(0, index) + filename.slice(index + length);\n}\n/**\n * \n * @param num\n * @returns\n */\nexport function num_to_chinese(num: number) {\n  return nzhcn.encodeS(num);\n}\nexport function chinese_num_to_num(str: string) {\n  return nzhcn.decodeS(str);\n}\n\nexport function update_arr_item<T>(arr: T[], index: number, v2: T) {\n  if (index === -1) {\n    return [...arr];\n  }\n  return [...arr.slice(0, index), v2, ...arr.slice(index + 1)];\n}\nexport function remove_arr_item<T>(arr: T[], index: number) {\n  if (index === -1) {\n    return [...arr];\n  }\n  return [...arr.slice(0, index), ...arr.slice(index + 1)];\n}\n\nexport function has_value(v: any) {\n  return v !== undefined && v !== null;\n}\nexport function has_num_value(v: any) {\n  return v !== undefined && v !== null && v !== \"\";\n}\n\n/**\n *  search  ?\n * @param query\n * @returns\n */\nexport function query_stringify(query?: null | JSONObject) {\n  if (query === null) {\n    return \"\";\n  }\n  if (query === undefined) {\n    return \"\";\n  }\n  return Object.keys(query)\n    .filter((key) => {\n      return query[key] !== undefined;\n    })\n    .map((key) => {\n      // @ts-ignore\n      return `${key}=${encodeURIComponent(query[key])}`;\n    })\n    .join(\"&\");\n}\nexport function query_parse(url: string, opt: {} = {}): Record<string, string> {\n  let u = url.replace(/^\\?/, \"\");\n  const segments = u.split(\"&\");\n  const query = segments\n    .map((seg) => {\n      const [k, v] = seg.split(\"=\");\n      return {\n        [k]: v,\n      };\n    })\n    .reduce((a, b) => {\n      return { ...a, ...b };\n    }, {});\n  return query;\n}\n\nexport function bytes_to_size(bytes: number) {\n  if (!bytes) {\n    return \"0KB\";\n  }\n  if (bytes === 0) {\n    return \"0KB\";\n  }\n  const symbols = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n  let exp = Math.floor(Math.log(bytes) / Math.log(1024));\n  if (exp < 1) return bytes + \" \" + symbols[0];\n  bytes = Number((bytes / Math.pow(1024, exp)).toFixed(2));\n  const size = bytes;\n  const unit = symbols[exp];\n  if (Number.isInteger(size)) {\n    return `${size}${unit}`;\n  }\n  function remove_zero(num: number | string) {\n    let result = Number(num);\n    if (String(num).indexOf(\".\") > -1) {\n      result = parseFloat(num.toString().replace(/0+?$/g, \"\"));\n    }\n    return result;\n  }\n  return `${remove_zero(size.toFixed(2))}${unit}`;\n}\n\nexport const seconds_to_hour_template1 = {\n  hours(v: { value: number; text: string }) {\n    return `${v.text}`;\n  },\n  minutes(v: { value: number; text: string; hours: string }) {\n    return v.hours ? `${v.text}` : `${v.value}`;\n  },\n  seconds(v: { value: number; text: string }) {\n    return \"\";\n  },\n};\n\nexport function seconds_to_hour_minute_seconds(value: number) {\n  const hours = Math.floor(value / 3600);\n  const minutes = Math.floor((value - hours * 3600) / 60);\n  const seconds = Math.floor(value - hours * 3600 - minutes * 60);\n  return {\n    hours,\n    minutes,\n    seconds,\n  };\n}\n/**\n * \n * @param value\n * @returns\n */\nexport function seconds_to_hour_with_template(\n  value: number,\n  templates: {\n    hours: (v: { value: number; text: string }) => string;\n    minutes: (v: { value: number; text: string; hours: string }) => string;\n    seconds: (v: { value: number; text: string }) => string;\n  }\n) {\n  const { hours, minutes, seconds } = seconds_to_hour_minute_seconds(value);\n  let str = \"\";\n  let hours_text = \"\";\n  if (hours > 0 && templates.hours) {\n    hours_text = templates.hours({\n      value: hours,\n      text: String(hours),\n    });\n    str += hours_text;\n  }\n  if (templates.minutes) {\n    str += templates.minutes({\n      value: minutes,\n      text: padding_zero(minutes),\n      hours: hours_text,\n    });\n  }\n  if (templates.seconds) {\n    str += templates.seconds({\n      value: seconds,\n      text: padding_zero(seconds),\n    });\n  }\n  return str;\n}\n\nexport function hour_text_to_seconds(text: string) {\n  const matched = text.match(/[0-9]{1,}:[0-9]{1,}$/);\n  if (!matched) {\n    return 0;\n  }\n  const parts = text.split(\":\");\n  const { hours, minutes, seconds } = (() => {\n    if (parts.length === 3) {\n      return {\n        hours: Number(parts[0]),\n        minutes: Number(parts[1]),\n        seconds: Number(parts[2]),\n      };\n    }\n    return {\n      hours: 0,\n      minutes: Number(parts[0]),\n      seconds: Number(parts[1]),\n    };\n  })();\n  return hours * 3600 + minutes * 60 + seconds;\n}\n\n/**\n * \n * @param value\n * @returns\n */\nexport function seconds_to_hour_text(value: number) {\n  const hours = Math.floor(value / 3600);\n  const minutes = Math.floor((value - hours * 3600) / 60);\n  const seconds = Math.floor(value - hours * 3600 - minutes * 60);\n  if (hours > 0) {\n    return hours + \":\" + padding_zero(minutes) + \":\" + padding_zero(seconds);\n  }\n  return padding_zero(minutes) + \":\" + padding_zero(seconds);\n}\nexport function seconds_to_minutes(value: number) {\n  // const hours = Math.floor(value / 3600);\n  const minutes = Math.floor(value / 60);\n  // const seconds = Math.floor(value - hours * 3600 - minutes * 60);\n  return padding_zero(minutes);\n}\n\nexport function relative_time_from_now(time: string) {\n  const date = dayjs(time);\n  const now = dayjs();\n  const diffMonths = now.diff(date, \"month\");\n  const diffWeeks = now.diff(date, \"week\");\n  const diffDays = now.diff(date, \"day\");\n  const diffHours = now.diff(date, \"hour\");\n  const diffMinutes = now.diff(date, \"minute\");\n  const diffSeconds = now.diff(date, \"second\");\n\n  let str;\n  if (diffMonths >= 6) {\n    // \n    str = date.format(\"YYYY-MM-DD HH:mm\");\n  } else if (diffMonths >= 1) {\n    // 1\n    str = `${diffMonths}`;\n  } else if (diffWeeks >= 1) {\n    // 1\n    str = `${diffWeeks}`;\n  } else if (diffDays >= 1) {\n    // 1\n    str = `${diffDays}`;\n  } else if (diffHours >= 1) {\n    // 1\n    str = `${diffHours}`;\n  } else if (diffMinutes >= 1) {\n    // 1\n    str = `${diffMinutes}`;\n  } else {\n    // 1\"\"\n    str = \"\";\n  }\n  return str;\n}\n\nexport function noop() {}\nexport function promise_noop() {\n  return Promise.resolve();\n}\n\n/**\n * \n * @param delay \n * @returns\n */\nexport function sleep(delay: number = 1000) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(null);\n    }, delay);\n  });\n}\n\nexport function buildRegexp(value: string) {\n  try {\n    const regexp = new RegExp(value);\n    return Result.Ok(regexp);\n  } catch (err) {\n    const e = err as Error;\n    return Result.Err(e.message);\n  }\n}\n","import { query_stringify } from \"@/utils\";\nimport { JSONObject } from \"@/types\";\n\nexport function buildUrl(key: string, params?: JSONObject, query?: Parameters<typeof query_stringify>[0]) {\n  const search = (() => {\n    if (!query || Object.keys(query).length === 0) {\n      return \"\";\n    }\n    return \"?\" + query_stringify(query);\n  })();\n  const url = (() => {\n    if (!key.match(/:[a-z]{1,}/)) {\n      return key + search;\n    }\n    if (!params || Object.keys(params).length === 0) {\n      return key + search;\n    }\n    return (\n      key.replace(/:([a-z]{1,})/g, (...args: string[]) => {\n        const [, field] = args;\n        const value = String(params[field] || \"\");\n        return value;\n      }) + search\n    );\n  })();\n  return url;\n}\n\nexport type OriginalRouteConfigure = Record<\n  PathnameKey,\n  {\n    title: string;\n    pathname: string;\n    options?: Partial<{\n      keep_alive?: boolean;\n      animation?: Partial<{\n        in: string;\n        out: string;\n        show: string;\n        hide: string;\n      }>;\n      require?: string[];\n    }>;\n    children?: OriginalRouteConfigure;\n  }\n>;\nexport type PageKeysType<T extends OriginalRouteConfigure, K = keyof T> = K extends keyof T & (string | number)\n  ?\n      | `${K}`\n      | (T[K] extends object\n          ? T[K][\"children\"] extends object\n            ? `${K}.${PageKeysType<T[K][\"children\"]>}`\n            : never\n          : never)\n  : never;\nexport type PathnameKey = string;\n\nexport type RouteConfig<T> = {\n  /**  route/page */\n  name: T;\n  title: string;\n  pathname: PathnameKey;\n  /**  */\n  layout?: boolean;\n  parent: {\n    name: string;\n  };\n  options?: Partial<{\n    require?: string[];\n    keep_alive?: boolean;\n    animation?: {\n      in: string;\n      out: string;\n      show: string;\n      hide: string;\n    };\n  }>;\n  // component: unknown;\n};\n\nfunction apply<T>(\n  configure: OriginalRouteConfigure,\n  parent: null | {\n    pathname: PathnameKey;\n    name: T;\n  } = null\n): RouteConfig<T>[] {\n  const routes = Object.keys(configure).map((key) => {\n    const config = configure[key];\n    const { title, pathname, options, children } = config;\n    //  hack  root\n    const name = parent ? ([parent.name, key].filter(Boolean).join(\".\") as T) : key;\n    if (children) {\n      const subRoutes = apply(children, {\n        name,\n        pathname,\n      });\n      return [\n        {\n          title,\n          name,\n          pathname,\n          options,\n          layout: true,\n          parent: parent\n            ? {\n                name: parent.name,\n              }\n            : null,\n        },\n        ...subRoutes,\n      ] as RouteConfig<T>[];\n    }\n    return [\n      {\n        title,\n        name,\n        pathname,\n        options,\n        parent: parent\n          ? {\n              name: parent.name,\n            }\n          : null,\n      },\n    ] as RouteConfig<T>[];\n  });\n  return routes.reduce((a, b) => {\n    return a.concat(b);\n  }, []);\n}\n\nexport function build<T>(configure: OriginalRouteConfigure) {\n  const configs = apply<T>(configure);\n  const routes: Record<PathnameKey, RouteConfig<T>> = configs\n    .map((a) => {\n      return {\n        [a.name as string]: a,\n      };\n    })\n    .reduce((a, b) => {\n      return {\n        ...a,\n        ...b,\n      };\n    }, {});\n  const routesWithPathname: Record<PathnameKey, RouteConfig<T>> = configs\n    .map((a) => {\n      return {\n        [a.pathname]: a,\n      };\n    })\n    .reduce((a, b) => {\n      return {\n        ...a,\n        ...b,\n      };\n    }, {});\n\n  return {\n    routes,\n    routesWithPathname,\n  };\n}\n","/**\n * @file \n */\nimport { base, BaseDomain, Handler } from \"@/domains/base\";\nimport { BizError } from \"@/domains/error\";\nimport { PresenceCore } from \"@/domains/ui/presence/index\";\nimport { NavigatorCore } from \"@/domains/navigator/index\";\nimport { HistoryCore } from \"@/domains/history\";\nimport { query_stringify } from \"@/utils/index\";\n\nimport { buildUrl } from \"./utils\";\n\nenum Events {\n  /**  */\n  ViewsChange,\n  /**  */\n  CurViewChange,\n  /**  */\n  ViewShow,\n  /**  */\n  Ready,\n  /**  */\n  Mounted,\n  BeforeShow,\n  /**  Mounted  */\n  Show,\n  BeforeHide,\n  /**  */\n  Hidden,\n  /**  */\n  Unmounted,\n  /**  */\n  Layered,\n  /**  */\n  Uncover,\n  Start,\n  StateChange,\n  /**  */\n  Match,\n  NotFound,\n}\ntype TheTypesOfEvents = {\n  [Events.ViewsChange]: RouteViewCore[];\n  [Events.CurViewChange]: RouteViewCore;\n  [Events.Ready]: void;\n  [Events.Mounted]: void;\n  [Events.ViewShow]: RouteViewCore[];\n  [Events.BeforeShow]: void;\n  [Events.Show]: void;\n  [Events.BeforeHide]: void;\n  [Events.Hidden]: void;\n  [Events.Layered]: void;\n  [Events.Uncover]: void;\n  [Events.Unmounted]: void;\n  [Events.Start]: { pathname: string };\n  [Events.StateChange]: RouteViewCoreState;\n  [Events.Match]: RouteViewCore;\n  [Events.NotFound]: void;\n};\n\ntype RouteViewCoreState = {\n  /**  true animation end  false */\n  mounted: boolean;\n  /**  */\n  visible: boolean;\n  /**  */\n  layered: boolean;\n};\ntype RouteViewCoreProps = {\n  /**  */\n  name: string;\n  pathname: string;\n  title: string;\n  // component: unknown;\n  parent?: RouteViewCore | null;\n  query?: Record<string, string>;\n  visible?: boolean;\n  /**  */\n  layout?: boolean;\n  animation?: Partial<{\n    in: string;\n    out: string;\n    show: string;\n    hide: string;\n  }>;\n  children?: RouteViewCore[];\n  views?: RouteViewCore[];\n\n  // destroyAfterHide?: boolean;\n};\n\nexport class RouteViewCore extends BaseDomain<TheTypesOfEvents> {\n  unique_id = \"ViewCore\";\n  debug = false;\n  id = this.uid();\n\n  /**  */\n  name: string;\n  pathname: string;\n  title: string;\n  animation: Partial<{\n    in: string;\n    out: string;\n    show: string;\n    hide: string;\n  }> = {\n    in: \"fade-in\",\n    out: \"fade-out\",\n  };\n  /**  query */\n  query: Record<string, string> = {};\n  /**  params */\n  params: Record<string, string> = {};\n  // visible = false;\n  _showed = false;\n  loaded = false;\n  mounted = true;\n  layered = false;\n  isRoot = false;\n\n  parent: RouteViewCore | null;\n  /**  */\n  curView: RouteViewCore | null = null;\n  /**  */\n  subViews: RouteViewCore[] = [];\n\n  $presence = new PresenceCore();\n\n  get state(): RouteViewCoreState {\n    return {\n      mounted: this.mounted,\n      visible: this.visible,\n      layered: this.layered,\n    };\n  }\n  get href() {\n    return [this.pathname, query_stringify(this.query)].filter(Boolean).join(\"?\");\n  }\n  get visible() {\n    return this.$presence.visible;\n  }\n  // get animation() {\n  //   return this.options?.animation;\n  // }\n\n  constructor(options: Partial<{ _name: string }> & RouteViewCoreProps) {\n    super(options);\n    const { name, pathname, title, query = {}, visible = false, animation = {}, parent = null, views = [] } = options;\n    this.name = name;\n    this.pathname = pathname;\n    this.parent = parent;\n    this.title = title;\n    this.unique_id = title;\n    this.animation = animation;\n    this.subViews = views;\n    // console.log(\"[DOMAIN]route_view - constructor\", title, { destroyAfterHide });\n    if (views.length) {\n      this.curView = views[0];\n    }\n    // this.visible = visible;\n    this.query = query;\n    if (visible) {\n      this.mounted = true;\n    }\n    for (let i = 0; i < views.length; i += 1) {\n      const view = views[i];\n      view.parent = this;\n    }\n\n    this.$presence.onStateChange((nextState) => {\n      const { visible, mounted } = nextState;\n      // console.log(\"[ROUTE_VIEW]this.presence.onStateChange\", this.title, this.state.visible, open, mounted);\n      // console.log(performance.now());\n      const prevVisible = this.state.visible;\n      // this.visible = open;\n      if (prevVisible === false && visible) {\n        this.setShow();\n      }\n      if (prevVisible && visible === false) {\n        this.setHidden();\n      }\n      this.mounted = !!mounted;\n      this.emit(Events.StateChange, { ...this.state });\n    });\n    this.$presence.onUnmounted(() => {\n      this.emit(Events.Unmounted);\n    });\n    emitViewCreated(this);\n  }\n\n  appendView(view: RouteViewCore) {\n    view.parent = this;\n    if (this.subViews.length === 0 && view.visible) {\n      // console.log(\"[DOMAIN]route_view - before this.curView = view 1\", view.title);\n      this.curView = view;\n    }\n    if (!this.subViews.includes(view)) {\n      this.subViews.push(view);\n    }\n    // console.log(\"[DOMAIN]route_view - appendView\", this.title, this.subViews, view);\n    this.emit(Events.ViewsChange, [...this.subViews]);\n  }\n  replaceViews(views: RouteViewCore[]) {\n    this.subViews = views;\n    this.emit(Events.ViewsChange, [...this.subViews]);\n  }\n  /**  */\n  removeView(\n    view: RouteViewCore,\n    options: Partial<{ reason: \"show_sibling\" | \"back\" | \"forward\"; destroy: boolean; callback: () => void }> = {}\n  ) {\n    // const { reason, destroy, callback } = options;\n    // console.log(\"[DOMAIN]route_view - removeView\", this.title, view.title);\n    // console.log(\"[DOMAIN]route_view - removeView\", this.title, view.title);\n    if (!this.subViews.includes(view)) {\n      console.warn(\"the view is not the child view\");\n      return;\n    }\n    view.onUnmounted(() => {\n      // console.log(\"[DOMAIN]route_view - removeView in removeView.onUnmounted\", this.title, view.title);\n      // console.log(performance.now());\n      view.destroy();\n      // view.setUnmounted();\n      this.subViews = this.subViews.filter((v) => v !== view);\n      if (options.callback) {\n        options.callback();\n      }\n      // console.log(\"[DOMAIN]route_view - removeView before Events.ViewsChange\", this.title, view.title);\n      this.emit(Events.ViewsChange, [...this.subViews]);\n    });\n    // console.log();\n    // console.log(\"[DOMAIN]route_view - removeView before view.hide\", this.title, view.title, performance.now());\n    view.hide({\n      reason: options.reason,\n      destroy: options.destroy,\n    });\n    this.emit(Events.ViewsChange, [...this.subViews]);\n  }\n  findCurView(): RouteViewCore | null {\n    if (!this.curView) {\n      return this;\n    }\n    return this.curView.findCurView();\n  }\n  ready() {\n    this.emit(Events.Ready);\n  }\n  /**  */\n  showView(sub_view: RouteViewCore, options: Partial<{ reason: \"show_sibling\" | \"back\"; destroy: boolean }> = {}) {\n    // console.log(\"[DOMAIN]route_view - showView\", this.title, sub_view.title, this.curView?.title);\n    if (sub_view === this) {\n      console.warn(\"cannot show self\");\n      return;\n    }\n    if (sub_view.visible) {\n      console.warn(\"the sub view has been visible\", sub_view.name);\n      return;\n    }\n    (() => {\n      if (!this.visible) {\n        //  show\n        // console.log(\"[DOMAIN]route_view - show self by parent\", this.title, this.parent?.title);\n        if (!this.parent) {\n          if (!this.isRoot) {\n            console.warn(\"no parent\");\n          }\n          return;\n        }\n        this.parent.showView(this, options);\n      }\n    })();\n    if (options.reason === \"show_sibling\" && this.curView) {\n      this.curView.hide(options);\n    }\n    this.appendView(sub_view);\n    this.emit(Events.BeforeShow);\n    // console.log(\"[DOMAIN]route_view - before this.curView = view 2\", sub_view.title);\n    this.curView = sub_view;\n    sub_view.show();\n    this.emit(Events.CurViewChange, this.curView);\n  }\n  /**  */\n  show() {\n    // console.log(\"[ROUTE_VIEW]show\", this._name, this.state.visible);\n    if (this.visible) {\n      //  presence  hide  mounted  true\n      this.$presence.state.mounted = true;\n      return;\n    }\n    this.$presence.show();\n  }\n  /**  */\n  hide(options: Partial<{ reason: \"show_sibling\" | \"back\" | \"forward\"; destroy: boolean }> = {}) {\n    // console.log(\"[DOMAIN]route_view - hide\", this.title, options);\n    if (this.visible === false) {\n      console.warn(\"has been hide\");\n      return;\n    }\n    for (let i = 0; i < this.subViews.length; i += 1) {\n      const view = this.subViews[i];\n      // \n      view.hide(options);\n    }\n    this.emit(Events.BeforeHide);\n    this.$presence.hide({\n      reason: options.reason,\n      destroy: options.destroy,\n    });\n  }\n  /**  */\n  setShow() {\n    // console.log(\"[DOMAIN]route_view/index - showed\", this.title, this._showed);\n    if (this._showed) {\n      return;\n    }\n    this._showed = true;\n    // console.log(\"[ROUTE_VIEW]emit showed\", this._name);\n    this.emit(Events.Show);\n  }\n  /**  */\n  setHidden() {\n    console.log(\"[DOMAIN]route_view/index - hidden\", this.title, this._showed);\n    this._showed = false;\n    this.emit(Events.Hidden);\n  }\n  mount() {\n    this.setMounted();\n  }\n  /**  */\n  unmount() {\n    // console.log(\"[]unmount\", this.subViews);\n    this.subViews = [];\n    this.emit(Events.StateChange, { ...this.state });\n    // console.log(\"[DOMAIN]route_view - unmount\", this.title);\n    // this.onHidden(() => {\n    //   this.destroy();\n    //   this.setUnmounted();\n    // });\n    // this.hide();\n  }\n  /**  */\n  setMounted() {\n    if (this.mounted) {\n      return;\n    }\n    this.mounted = true;\n    this.emit(Events.Mounted);\n  }\n  /**  */\n  setUnmounted() {\n    this.mounted = false;\n    this.emit(Events.Unmounted);\n  }\n  /**  */\n  setLoaded() {\n    this.loaded = true;\n  }\n  /**  */\n  setUnload() {\n    this.loaded = false;\n  }\n  buildUrl(query: Record<string, string | number>) {\n    const url = buildUrl(this.pathname, this.params, query);\n    return url;\n  }\n  buildUrlWithPrefix(query: Record<string, string | number>) {\n    const url = buildUrl(this.pathname, this.params, query);\n    return [NavigatorCore.prefix, url].join(\"\");\n  }\n\n  onStart(handler: Handler<TheTypesOfEvents[Events.Start]>) {\n    return this.on(Events.Start, handler);\n  }\n  onReady(handler: Handler<TheTypesOfEvents[Events.Ready]>) {\n    return this.on(Events.Ready, handler);\n  }\n  onMounted(handler: Handler<TheTypesOfEvents[Events.Mounted]>) {\n    return this.on(Events.Mounted, handler);\n  }\n  onViewShow(handler: Handler<TheTypesOfEvents[Events.ViewShow]>) {\n    return this.on(Events.ViewShow, handler);\n  }\n  onBeforeShow(handler: Handler<TheTypesOfEvents[Events.BeforeShow]>) {\n    return this.on(Events.BeforeShow, handler);\n  }\n  onShow(handler: Handler<TheTypesOfEvents[Events.Show]>) {\n    return this.on(Events.Show, handler);\n  }\n  onBeforeHide(handler: Handler<TheTypesOfEvents[Events.BeforeHide]>) {\n    return this.on(Events.BeforeHide, handler);\n  }\n  onHidden(handler: Handler<TheTypesOfEvents[Events.Hidden]>) {\n    return this.on(Events.Hidden, handler);\n  }\n  onLayered(handler: Handler<TheTypesOfEvents[Events.Layered]>) {\n    return this.on(Events.Layered, handler);\n  }\n  onUncover(handler: Handler<TheTypesOfEvents[Events.Uncover]>) {\n    return this.on(Events.Uncover, handler);\n  }\n  onUnmounted(handler: Handler<TheTypesOfEvents[Events.Unmounted]>) {\n    return this.on(Events.Unmounted, handler);\n  }\n  onSubViewsChange(handler: Handler<TheTypesOfEvents[Events.ViewsChange]>) {\n    return this.on(Events.ViewsChange, handler);\n  }\n  onCurViewChange(handler: Handler<TheTypesOfEvents[Events.CurViewChange]>) {\n    return this.on(Events.CurViewChange, handler);\n  }\n  onMatched(handler: Handler<TheTypesOfEvents[Events.Match]>) {\n    return this.on(Events.Match, handler);\n  }\n  onNotFound(handler: Handler<TheTypesOfEvents[Events.NotFound]>) {\n    return this.on(Events.NotFound, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n// type ParamConfigure = {\n//   name: string;\n//   prefix: string;\n//   suffix: string;\n//   pattern: string;\n//   modifier: string;\n// };\n// function buildParams(opt: { regexp: RegExp; targetPath: string; keys: ParamConfigure[] }) {\n//   const { regexp, keys, targetPath } = opt;\n//   const match = regexp.exec(targetPath);\n//   if (match) {\n//     const params: Record<string, string> = {};\n//     for (let i = 1; i < match.length; i++) {\n//       params[keys[i - 1].name] = match[i];\n//     }\n//     return params;\n//   }\n//   return {};\n// }\n// function buildQuery(path: string) {\n//   const [, search] = path.split(\"?\");\n//   if (!search) {\n//     return {} as Record<string, string>;\n//   }\n//   return qs.parse(search) as Record<string, string>;\n// }\n\nlet handler: ((views: RouteViewCore) => void) | null = null;\nexport function onViewCreated(fn: (views: RouteViewCore) => void) {\n  handler = fn;\n}\nfunction emitViewCreated(view: RouteViewCore) {\n  if (!handler) {\n    return;\n  }\n  handler(view);\n}\n\nexport function RouteMenusModel<T extends { title: string; url?: unknown; onClick?: (m: T) => void }>(props: {\n  route: T[\"url\"];\n  menus: T[];\n  $history: HistoryCore<any, any>;\n}) {\n  const methods = {\n    refresh() {\n      bus.emit(Events.StateChange, { ..._state });\n    },\n    setCurMenu(name: T[\"url\"]) {\n      // const name = props.history.$router.name as PageKeys;\n      _route_name = name;\n      const keys = [\n        // \"root.home_layout.workout_plan_layout.mine\",\n        // \"root.home_layout.workout_plan_layout.interval\",\n        // \"root.home_layout.workout_plan_layout.single\",\n      ] as T[\"url\"][];\n      if (keys.includes(name)) {\n        // _route_name = \"root.home_layout.workout_plan_layout.recommend\";\n      }\n      methods.refresh();\n    },\n  };\n  const ui = {};\n\n  let _route_name = props.route;\n  let _state = {\n    get menus() {\n      return props.menus;\n    },\n    get route_name() {\n      return _route_name;\n    },\n  };\n  enum Events {\n    StateChange,\n    Error,\n  }\n  type TheTypesOfEvents = {\n    [Events.StateChange]: typeof _state;\n    [Events.Error]: BizError;\n  };\n  const bus = base<TheTypesOfEvents>();\n\n  const unlisten = props.$history.onRouteChange(({ name }) => {\n    methods.setCurMenu(name);\n  });\n\n  return {\n    methods,\n    ui,\n    state: _state,\n    ready() {},\n    destroy() {\n      unlisten();\n      bus.destroy();\n    },\n    onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n      return bus.on(Events.StateChange, handler);\n    },\n    onError(handler: Handler<TheTypesOfEvents[Events.Error]>) {\n      return bus.on(Events.Error, handler);\n    },\n  };\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { RouteViewCore } from \"@/domains/route_view\";\nimport { NavigatorCore } from \"@/domains/navigator\";\n// import { PathnameKey, RouteConfig } from \"@/types\";\nimport { query_stringify } from \"@/utils\";\n\nenum Events {\n  TopViewChange,\n  RouteChange,\n  ClickLink,\n  Back,\n  Forward,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.TopViewChange]: RouteViewCore;\n  [Events.ClickLink]: {\n    href: string;\n    target: string | null;\n  };\n  [Events.Back]: void;\n  [Events.Forward]: void;\n  [Events.RouteChange]: {\n    view: RouteViewCore;\n    name: string;\n    href: string;\n    pathname: string;\n    query: Record<string, string>;\n    reason: \"back\" | \"forward\" | \"push\" | \"replace\";\n    /**  */\n    data?: any;\n    /**  route change */\n    ignore?: boolean;\n  };\n  [Events.StateChange]: HistoryCoreState;\n};\n\ntype HistoryCoreProps<K extends string, R extends Record<string, any>> = {\n  view: RouteViewCore;\n  router: NavigatorCore;\n  routes: Record<K, R>;\n  views: Record<K, RouteViewCore>;\n  /**  */\n  virtual?: boolean;\n};\ntype HistoryCoreState = {\n  href: string;\n  stacks: {\n    id: string;\n    key: string;\n    title: string;\n    visible: boolean;\n    query: string;\n  }[];\n  cursor: number;\n};\n\nexport class HistoryCore<K extends string, R extends Record<string, any>> extends BaseDomain<TheTypesOfEvents> {\n  virtual = false;\n\n  /**  */\n  routes: Record<K, R>;\n  /**  */\n  views: Record<string, RouteViewCore>;\n  /**  push  */\n  stacks: RouteViewCore[] = [];\n  /**  */\n  cursor: number = -1;\n\n  /**  url  */\n  $router: NavigatorCore;\n  /**  */\n  $view: RouteViewCore;\n\n  get state(): HistoryCoreState {\n    return {\n      href: this.$router.href,\n      stacks: this.stacks.map((view) => {\n        const { id, pathname: key, title, query, visible } = view;\n        return {\n          // id: String(id),\n          id: [key, query_stringify(query)].filter(Boolean).join(\"?\"),\n          key,\n          title,\n          query: JSON.stringify(query, null, 2),\n          visible,\n        };\n      }),\n      cursor: this.cursor,\n    };\n  }\n\n  constructor(props: Partial<{ _name: string }> & HistoryCoreProps<K, R>) {\n    super(props);\n\n    const { virtual = false, view, router, routes, views } = props;\n\n    this.$view = view;\n    this.$router = router;\n    this.routes = routes;\n    this.views = views;\n    this.virtual = virtual;\n  }\n\n  push(\n    name: K,\n    query: Record<string, string> = {},\n    options: Partial<{\n      /**  history stack */\n      ignore: boolean;\n    }> = {}\n  ) {\n    // console.log(\"-----------\");\n    // console.log(\"[DOMAIN]history/index - push target url is\", name, \"and cur href is\", this.$router.href);\n    const { ignore } = options;\n    if (this.isLayout(name)) {\n      console.log(\"[DOMAIN]history/index - the target url is layout\", name);\n      return;\n    }\n    const route1 = this.routes[name];\n    if (!route1) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", name);\n      return;\n    }\n    const uniqueKey = [route1.pathname, query_stringify(query)].filter(Boolean).join(\"?\");\n    if (uniqueKey === this.$router.href) {\n      // console.log(\"[DOMAIN]history/index - push target url is\", uniqueKey, \"and cur href is\", this.$router.href);\n      return;\n    }\n    const view = this.views[uniqueKey];\n    if (view) {\n      this.ensureParent(view);\n      view.query = query;\n      if (!view.parent) {\n        console.log(\"[DOMAIN]history/index - error1\");\n        return;\n      }\n      this.$router.href = view.href;\n      this.$router.name = view.name;\n      // const viewAfter = this.stacks.slice(this.cursor + 1);\n      // for (let i = 0; i < viewAfter.length; i += 1) {\n      //   const v = viewAfter[i];\n      //   v.parent?.removeView(v, {\n      //     reason: \"show_sibling\",\n      //     callback: () => {\n      //       delete this.views[v.href];\n      //     },\n      //   });\n      // }\n      // @todo  tab  push \n      this.stacks = this.stacks.slice(0, this.cursor + 1).concat(view);\n      this.cursor += 1;\n      view.parent.showView(view, { reason: \"show_sibling\", destroy: false });\n      this.emit(Events.RouteChange, {\n        reason: \"push\",\n        view,\n        name,\n        href: view.href,\n        pathname: view.pathname,\n        query: view.query,\n        ignore,\n      });\n      // this.emit(Events.TopViewChange, view);\n      this.emit(Events.StateChange, { ...this.state });\n      return;\n    }\n    const route = (() => {\n      const m = this.routes[name];\n      if (!m) {\n        return null;\n      }\n      return m;\n    })();\n    if (!route) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", uniqueKey);\n      return null;\n    }\n    const created = new RouteViewCore({\n      name: route.name,\n      pathname: route.pathname,\n      title: route.title,\n      query,\n      animation: route.options?.animation,\n      parent: null,\n    });\n    // created.onUnmounted(() => {\n    //   this.stacks = this.stacks.filter((s) => s.key !== created.key);\n    //   delete this.views[uniqueKey];\n    // });\n    this.views[uniqueKey] = created;\n    this.ensureParent(created);\n    if (!created.parent) {\n      console.log(\"[DOMAIN]history/index - push 3. \", route.name);\n      return;\n    }\n    this.$router.href = created.href;\n    this.$router.name = created.name;\n    // const viewsAfter = this.stacks.slice(this.cursor);\n    // for (let i = 0; i < viewsAfter.length; i += 1) {\n    //   const v = viewsAfter[i];\n    //   v.hide();\n    // }\n    this.stacks = this.stacks.slice(0, this.cursor + 1).concat(created);\n    this.cursor += 1;\n    created.parent.showView(created, { reason: \"show_sibling\", destroy: false });\n    this.emit(Events.RouteChange, {\n      reason: \"push\",\n      view: created,\n      name,\n      href: created.href,\n      pathname: created.pathname,\n      query: created.query,\n      ignore,\n    });\n    // this.emit(Events.TopViewChange, created);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  replace(name: K, query: Record<string, string> = {}) {\n    const uniqueKey = [name, query_stringify(query)].filter(Boolean).join(\"?\");\n    if (uniqueKey === this.$router.href) {\n      console.log(\"[DOMAIN]history/index - replace target url is\", uniqueKey, \"and cur href is\", this.$router.href);\n      return;\n    }\n    const view = this.views[uniqueKey];\n    if (view) {\n      this.ensureParent(view);\n      view.query = query;\n      if (!view.parent) {\n        console.log(\"[DOMAIN]history/index - replace 1\");\n        return;\n      }\n      this.$router.href = view.href;\n      this.$router.name = view.name;\n      const theViewNeedDestroy = this.stacks[this.stacks.length - 1];\n      if (theViewNeedDestroy) {\n        theViewNeedDestroy.parent?.removeView(theViewNeedDestroy);\n      }\n      this.stacks[this.stacks.length - 1] = view;\n      // this.cursor = uniqueKey;\n      view.parent.showView(view);\n      this.emit(Events.RouteChange, {\n        reason: \"replace\",\n        view,\n        name: view.name,\n        href: view.href,\n        pathname: view.pathname,\n        query: view.query,\n      });\n      // this.emit(Events.TopViewChange, view);\n      this.emit(Events.StateChange, { ...this.state });\n      return;\n    }\n    const route = (() => {\n      const m = this.routes[name];\n      if (!m) {\n        return null;\n      }\n      return m;\n    })();\n    if (!route) {\n      console.log(\"[DOMAIN]history/index - replace 2. no matched route\");\n      return null;\n    }\n    const created = new RouteViewCore({\n      name: route.name,\n      pathname: route.pathname,\n      title: route.title,\n      query,\n      animation: route.options?.animation,\n      parent: null,\n    });\n    this.views[uniqueKey] = created;\n    this.ensureParent(created);\n    if (!created.parent) {\n      console.log(\"[DOMAIN]history/index - replace 3. \");\n      return;\n    }\n    this.$router.href = created.href;\n    this.$router.name = created.name;\n    const theViewNeedDestroy = this.stacks[this.stacks.length - 1];\n    if (theViewNeedDestroy) {\n      theViewNeedDestroy.parent?.removeView(theViewNeedDestroy, {\n        reason: \"show_sibling\",\n        callback: () => {\n          delete this.views[uniqueKey];\n        },\n      });\n    }\n    this.stacks[this.stacks.length - 1] = created;\n    created.parent.showView(created);\n    this.emit(Events.RouteChange, {\n      reason: \"replace\",\n      view: created,\n      name: created.name,\n      href: created.href,\n      pathname: created.pathname,\n      query: created.query,\n    });\n    // this.emit(Events.TopViewChange, created);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  back(opt: Partial<{ data: any }> = {}) {\n    const target_cursor = this.cursor - 1;\n    const view_prepare_to_show = this.stacks[target_cursor];\n    // console.log(\"[DOMAIN]history - back\", this.cursor, targetCursor, viewPrepareShow);\n    if (!view_prepare_to_show) {\n      // this.$view.showView(this.$view.subViews[0]);\n      return;\n    }\n    const href = view_prepare_to_show.href;\n    if (!view_prepare_to_show.parent) {\n      // this.$view.showView(this.$view.subViews[0]);\n      return;\n    }\n    this.$router.href = href;\n    this.$router.name = view_prepare_to_show.name;\n    this.cursor = target_cursor;\n    const viewsAfter = this.stacks.slice(target_cursor + 1);\n    // console.log(\"[DOMAIN]history - back before viewsAfter.length\", viewsAfter);\n    for (let i = 0; i < viewsAfter.length; i += 1) {\n      const v = viewsAfter[i];\n      // console.log(\"[DOMAIN]history - back before removeView\", v.parent?.title, v.title);\n      v.parent?.removeView(v, {\n        reason: \"back\",\n        destroy: true,\n        callback: () => {\n          // console.log(\"[DOMAIN]history - before delete  this.views\", v.href);\n          delete this.views[v.href];\n        },\n      });\n    }\n    // console.log(\n    //   \"[DOMAIN]history - before .parent.showView\",\n    //   view_prepare_to_show.parent.title,\n    //   view_prepare_to_show.parent.curView?.title\n    // );\n    view_prepare_to_show.parent.showView(view_prepare_to_show, { reason: \"back\", destroy: true });\n    this.emit(Events.RouteChange, {\n      reason: \"back\",\n      view: view_prepare_to_show,\n      name: view_prepare_to_show.name,\n      href: view_prepare_to_show.href,\n      pathname: view_prepare_to_show.pathname,\n      query: view_prepare_to_show.query,\n      data: opt.data,\n    });\n    this.emit(Events.Back);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  forward() {\n    const targetCursor = this.cursor + 1;\n    const viewPrepareShow = this.stacks[targetCursor];\n    if (!viewPrepareShow) {\n      return;\n    }\n    if (!viewPrepareShow.parent) {\n      return;\n    }\n    const href = viewPrepareShow.href;\n    this.$router.href = href;\n    this.$router.name = viewPrepareShow.name;\n    this.cursor = targetCursor;\n    const viewsAfter = this.stacks.slice(targetCursor + 1);\n    for (let i = 0; i < viewsAfter.length; i += 1) {\n      const v = viewsAfter[i];\n      v.parent?.removeView(v, {\n        reason: \"forward\",\n        callback: () => {\n          delete this.views[v.href];\n        },\n      });\n    }\n    viewPrepareShow.parent.showView(viewPrepareShow);\n    this.emit(Events.RouteChange, {\n      reason: \"forward\",\n      view: viewPrepareShow,\n      name: viewPrepareShow.name,\n      href: viewPrepareShow.href,\n      pathname: viewPrepareShow.pathname,\n      query: viewPrepareShow.query,\n    });\n    // this.emit(Events.TopViewChange, viewPrepareShow);\n    this.emit(Events.Forward);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  reload() {\n    // \n  }\n  /**  */\n  destroyAllAndPush(\n    name: K,\n    query: Record<string, string> = {},\n    options: Partial<{\n      /**  history stack */\n      ignore: boolean;\n    }> = {}\n  ) {\n    // console.log(\"-----------\");\n    // console.log(\"[DOMAIN]history/index - push target url is\", name, \"and cur href is\", this.$router.href);\n    const { ignore } = options;\n    if (this.isLayout(name)) {\n      console.log(\"[DOMAIN]history/index - the target url is layout\", name);\n      return;\n    }\n    const route1 = this.routes[name];\n    if (!route1) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", name);\n      return;\n    }\n    const unique_key = [route1.pathname, query_stringify(query)].filter(Boolean).join(\"?\");\n    if (unique_key === this.$router.href) {\n      // console.log(\"[DOMAIN]history/index - push target url is\", uniqueKey, \"and cur href is\", this.$router.href);\n      return;\n    }\n    // @todo  root\n    const v1 = this.views[\"root\"];\n    const v2 = this.views[\"root.home_layout\"];\n    const kk = Object.keys(this.views);\n    for (let i = 0; i < kk.length; i += 1) {\n      (() => {\n        const v = kk[i];\n        // if ([\"root\", \"root.home_layout\"].includes(v)) {\n        //   return;\n        // }\n        const view = this.views[v];\n        view.unmount();\n      })();\n    }\n    this.views = {\n      [\"root\"]: v1,\n      [\"root.home_layout\"]: v2,\n    };\n    const route = (() => {\n      const m = this.routes[name];\n      if (!m) {\n        return null;\n      }\n      return m;\n    })();\n    if (!route) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", unique_key);\n      return null;\n    }\n    const created = new RouteViewCore({\n      name: route.name,\n      pathname: route.pathname,\n      title: route.title,\n      query,\n      animation: route.options?.animation,\n      parent: null,\n    });\n    // created.onUnmounted(() => {\n    //   this.stacks = this.stacks.filter((s) => s.key !== created.key);\n    //   delete this.views[uniqueKey];\n    // });\n    this.views[unique_key] = created;\n    this.ensureParent(created);\n    if (!created.parent) {\n      console.log(\"[DOMAIN]history/index - push 3. \", route.name);\n      return;\n    }\n    this.$router.href = created.href;\n    this.$router.name = created.name;\n    // const viewsAfter = this.stacks.slice(this.cursor);\n    // for (let i = 0; i < viewsAfter.length; i += 1) {\n    //   const v = viewsAfter[i];\n    //   v.hide();\n    // }\n    this.stacks = this.stacks.slice(0, this.cursor + 1).concat(created);\n    this.cursor += 1;\n    created.parent.showView(created, { reason: \"show_sibling\", destroy: false });\n    this.emit(Events.RouteChange, {\n      reason: \"push\",\n      view: created,\n      name,\n      href: created.href,\n      pathname: created.pathname,\n      query: created.query,\n      ignore,\n    });\n    // this.emit(Events.TopViewChange, created);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  // pushSibling() {\n\n  // }\n  ensureParent(view: RouteViewCore) {\n    const { name } = view;\n    if (view.parent) {\n      if (view.parent.pathname === \"/\") {\n        return;\n      }\n      this.ensureParent(view.parent);\n      return;\n    }\n    const route = this.routes[name as K];\n    if (!route) {\n      return;\n    }\n    const { parent } = route;\n    if (this.views[parent.name]) {\n      view.parent = this.views[parent.name];\n      if (parent.name === \"root\") {\n        return;\n      }\n      this.ensureParent(this.views[parent.name]);\n      return;\n    }\n    const parent_route = this.routes[parent.name as K];\n    if (!parent_route) {\n      return null;\n    }\n    const created_parent = new RouteViewCore({\n      name: parent_route.name,\n      pathname: parent_route.pathname,\n      title: parent_route.title,\n      parent: null,\n    });\n    this.views[parent_route.name] = created_parent;\n    view.parent = created_parent;\n    this.ensureParent(created_parent);\n  }\n  buildURL(name: K, query: Record<string, string> = {}) {\n    const route = (() => {\n      const m = this.routes[name];\n      if (!m) {\n        return null;\n      }\n      return m;\n    })();\n    if (!route) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", name);\n      return this.routes[\"root.notfound\" as K]!.pathname as string;\n    }\n    const created = new RouteViewCore({\n      name: route.name,\n      pathname: route.pathname,\n      title: route.title,\n      query,\n      parent: null,\n    });\n    return created.buildUrl(query);\n  }\n  buildURLWithPrefix(name: K, query: Record<string, string> = {}) {\n    const route = (() => {\n      const m = this.routes[name];\n      if (!m) {\n        return null;\n      }\n      return m;\n    })();\n    if (!route) {\n      console.log(\"[DOMAIN]history/index - push 2. no matched route\", name);\n      return this.routes[\"root.notfound\" as K]!.pathname as string;\n    }\n    const created = new RouteViewCore({\n      name: route.name,\n      pathname: route.pathname,\n      title: route.title,\n      query,\n      parent: null,\n    });\n    return created.buildUrlWithPrefix(query);\n  }\n  isLayout(name: K) {\n    const route = this.routes[name];\n    if (!route) {\n      return null;\n    }\n    return route.layout;\n  }\n  handleClickLink(params: { href: string; target: null | string }) {\n    const { href, target } = params;\n    this.emit(Events.ClickLink, { href, target });\n  }\n\n  onTopViewChange(handler: Handler<TheTypesOfEvents[Events.TopViewChange]>) {\n    return this.on(Events.TopViewChange, handler);\n  }\n  onRouteChange(handler: Handler<TheTypesOfEvents[Events.RouteChange]>) {\n    return this.on(Events.RouteChange, handler);\n  }\n  onBack(handler: Handler<TheTypesOfEvents[Events.Back]>) {\n    return this.on(Events.Back, handler);\n  }\n  onForward(handler: Handler<TheTypesOfEvents[Events.Forward]>) {\n    return this.on(Events.Forward, handler);\n  }\n  onClickLink(handler: Handler<TheTypesOfEvents[Events.ClickLink]>) {\n    return this.on(Events.ClickLink, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","import { BaseDomain, Handler } from \"@/domains/base\";\nimport { Result } from \"@/domains/result/index\";\nimport { JSONObject } from \"@/types/index\";\nimport { query_stringify } from \"@/utils/index\";\n\nenum Events {\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.StateChange]: void;\n};\n\ntype HttpClientCoreProps = {\n  hostname?: string;\n  headers?: Record<string, string>;\n  debug?: boolean;\n};\ntype HttpClientCoreState = {};\n\nexport class HttpClientCore extends BaseDomain<TheTypesOfEvents> {\n  hostname: string = \"\";\n  headers: Record<string, string> = {};\n  debug = false;\n\n  constructor(props: HttpClientCoreProps = {}) {\n    super(props);\n\n    const { hostname = \"\", headers = {}, debug = false } = props;\n\n    this.hostname = hostname;\n    this.headers = headers;\n    this.debug = debug;\n  }\n\n  async get<T>(\n    endpoint: unknown,\n    query?: Record<string, string | number | undefined>,\n    extra: Partial<{ headers: Record<string, string | number>; id: string }> = {}\n  ): Promise<Result<T>> {\n    try {\n      const h = this.hostname;\n      const url =\n        typeof endpoint === \"string\" ? [h, endpoint, query ? \"?\" + query_stringify(query) : \"\"].join(\"\") : endpoint;\n      const payload = {\n        url,\n        method: \"GET\" as const,\n        id: extra.id,\n        headers: {\n          ...this.headers,\n          ...(extra.headers || {}),\n        },\n      };\n      if (this.debug) {\n        console.log(\"[DOMAIN]http_client - before fetch\", payload);\n      }\n      const resp = await this.fetch<T>(payload);\n      return Result.Ok(resp.data);\n    } catch (err) {\n      const error = err as Error;\n      const { message } = error;\n      return Result.Err(message);\n    }\n  }\n  async post<T>(\n    endpoint: unknown,\n    body?: JSONObject | FormData,\n    extra: Partial<{ headers: Record<string, string | number>; id: string }> = {}\n  ): Promise<Result<T>> {\n    const h = this.hostname;\n    const url = typeof endpoint === \"string\" ? [h, endpoint].join(\"\") : endpoint;\n    try {\n      const payload = {\n        url,\n        method: \"POST\" as const,\n        data: body,\n        id: extra.id,\n        headers: {\n          ...this.headers,\n          ...(extra.headers || {}),\n        },\n      };\n      if (this.debug) {\n        console.log(\"[DOMAIN]http_client - before fetch\", payload);\n      }\n      const resp = await this.fetch<T>(payload);\n      return Result.Ok(resp.data);\n    } catch (err) {\n      const error = err as Error;\n      const { message } = error;\n      return Result.Err(message);\n    }\n  }\n  async fetch<T>(options: {\n    url: unknown;\n    method: \"GET\" | \"POST\";\n    id?: string;\n    data?: JSONObject | FormData;\n    headers?: Record<string, string | number>;\n  }) {\n    console.log(\" connect  fetch \");\n    return { data: {} } as { data: T };\n  }\n  cancel(id: string) {\n    const tip = \" connect  cancel \";\n    console.log(tip);\n    return Result.Err(tip);\n  }\n  setHeaders(headers: Record<string, string>) {\n    this.headers = headers;\n  }\n  appendHeaders(headers: Record<string, string>) {\n    this.headers = {\n      ...this.headers,\n      ...headers,\n    };\n  }\n  setDebug(debug: boolean) {\n    this.debug = debug;\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","/**\n * @file API \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { BizError } from \"@/domains/error/index\";\nimport { HttpClientCore } from \"@/domains/http_client/index\";\nimport { Result, UnpackedResult } from \"@/domains/result/index\";\nimport { sleep } from \"@/utils/index\";\n\nimport { RequestPayload, UnpackedRequestPayload } from \"./utils\";\n\nenum Events {\n  BeforeRequest,\n  AfterRequest,\n  LoadingChange,\n  Success,\n  Failed,\n  Completed,\n  Canceled,\n  StateChange,\n  ResponseChange,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.LoadingChange]: boolean;\n  [Events.BeforeRequest]: void;\n  [Events.AfterRequest]: void;\n  [Events.Success]: T;\n  [Events.Failed]: BizError;\n  [Events.Completed]: void;\n  [Events.Canceled]: void;\n  [Events.StateChange]: RequestState<T>;\n  [Events.ResponseChange]: T | null;\n};\ntype RequestState<T> = {\n  initial: boolean;\n  loading: boolean;\n  error: BizError | null;\n  response: T | null;\n};\ntype FetchFunction = (...args: any[]) => RequestPayload<any>;\ntype ProcessFunction<V, P> = (value: V) => Result<P>;\ntype RequestProps<F extends FetchFunction, P> = {\n  _name?: string;\n  client?: HttpClientCore;\n  loading?: boolean;\n  delay?: null | number;\n  // defaultResponse?: any;\n  defaultResponse?: P;\n  // fetch: F;\n  process?: ProcessFunction<Result<UnpackedRequestPayload<ReturnType<F>>>, P>;\n  onSuccess?: (v: UnpackedResult<P>) => void;\n  onFailed?: (error: BizError) => void;\n  onCompleted?: () => void;\n  onCanceled?: () => void;\n  beforeRequest?: () => void;\n  onLoading?: (loading: boolean) => void;\n};\n\nlet handler: null | ((v: RequestCore<any>) => void) = null;\nexport function onRequestCreated(h: (v: RequestCore<any>) => void) {\n  handler = h;\n}\nexport type TheResponseOfRequestCore<T extends RequestCore<any, any>> = NonNullable<T[\"response\"]>;\nexport type TheResponseOfFetchFunction<T extends FetchFunction> = UnpackedRequestPayload<ReturnType<T>>;\n\n/**\n * \n */\nexport class RequestCore<F extends FetchFunction, P = UnpackedRequestPayload<ReturnType<F>>> extends BaseDomain<\n  TheTypesOfEvents<any>\n> {\n  _name = \"RequestCore\";\n  debug = false;\n\n  defaultResponse: P | null = null;\n\n  /**\n   * \n   *\n   * ```js\n   * function test() {\n   *   return request.post('/api/ping');\n   * }\n   * ```\n   *\n   *  RequestPayload\n   */\n  service: F;\n  process?: ProcessFunction<Result<UnpackedRequestPayload<ReturnType<F>>>, P>;\n  client?: HttpClientCore;\n  delay: number | null = null;\n  loading = false;\n  initial = true;\n  /**  promise */\n  // pending: Promise<UnpackedRequestPayload<ReturnType<F>>> | null = null;\n  pending: Promise<Result<P>> | null = null;\n  /**  run  */\n  args: Parameters<F> = [] as any;\n  /**  */\n  response: P | null = null;\n  /**  */\n  error: BizError | null = null;\n  id = String(this.uid());\n\n  get state(): RequestState<P> {\n    return {\n      initial: this.initial,\n      loading: this.loading,\n      error: this.error,\n      response: this.response,\n    };\n  }\n\n  constructor(fn: F, props: RequestProps<F, P> = {}) {\n    super({ unique_id: props._name });\n\n    const {\n      _name,\n      client,\n      delay,\n      defaultResponse,\n      loading,\n      // fetch,\n      process,\n      onSuccess,\n      onFailed,\n      onCompleted,\n      onCanceled,\n      onLoading,\n      beforeRequest,\n    } = props;\n    this.service = fn;\n    this.process = process;\n    this.client = client;\n    // this.method = method;\n    if (delay !== undefined) {\n      this.delay = delay;\n    }\n    if (loading !== undefined) {\n      this.loading = loading;\n    }\n    if (defaultResponse) {\n      this.defaultResponse = defaultResponse;\n      this.response = defaultResponse;\n    }\n    if (_name) {\n      this._name = _name;\n    }\n    // const source = axios.CancelToken.source();\n    // this.source = source;\n    if (onSuccess) {\n      this.onSuccess(onSuccess);\n    }\n    if (onCompleted) {\n      this.onCompleted(onCompleted);\n    }\n    if (onCanceled) {\n      this.onCanceled(onCanceled);\n    }\n    if (onLoading) {\n      this.onLoadingChange(onLoading);\n    }\n    if (beforeRequest) {\n      this.beforeRequest(beforeRequest);\n    }\n    if (handler) {\n      handler(this);\n    }\n    //  override  handler \n    if (onFailed) {\n      this.onFailed(onFailed, { override: true });\n    }\n  }\n  /**  service  */\n  async run(...args: Parameters<F>) {\n    if (!this.service) {\n      return Result.Err(\" service\");\n    }\n    if (typeof this.service !== \"function\") {\n      return Result.Err(\"service \");\n    }\n    if (!this.client) {\n      return Result.Err(\" client\");\n    }\n    if (this.pending !== null) {\n      const r = await this.pending;\n      this.loading = false;\n      const data = r.data as P;\n      this.pending = null;\n      return Result.Ok(data);\n    }\n    // this.args = args;\n    this.loading = true;\n    this.initial = false;\n    this.response = this.defaultResponse;\n    this.args = args;\n    this.error = null;\n    // const source = axios.CancelToken.source();\n    // this.source = source;\n    this.emit(Events.LoadingChange, true);\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.BeforeRequest);\n    let payloadProcess: null | ((v: any) => any) = null;\n    const r2 = (() => {\n      const { hostname = \"\", url, method, query, body, headers, process } = this.service(...(args as unknown as any[]));\n      // console.log('[DOMAIN]request/index - after = this.service()', headers);\n      if (process) {\n        payloadProcess = process;\n      }\n      if (method === \"GET\") {\n        // const [query, extra = {}] = args;\n        const r = this.client.get<P>(url, query, {\n          id: this.id,\n          headers,\n        });\n        return Result.Ok(r) as Result<Promise<Result<P>>>;\n        // return Result.Ok(r);\n      }\n      if (method === \"POST\") {\n        // const [body, extra = {}] = args;\n        const r = this.client.post<P>(url, body, {\n          id: this.id,\n          headers,\n        });\n        // return Result.Ok(r);\n        return Result.Ok(r) as Result<Promise<Result<P>>>;\n      }\n      return Result.Err(` method '${method}'`);\n    })();\n    if (r2.error) {\n      return Result.Err(r2.error);\n    }\n    this.pending = r2.data;\n    const [r] = await Promise.all([this.pending, this.delay === null ? null : sleep(this.delay)]);\n    this.loading = false;\n    const rr = (() => {\n      if (payloadProcess) {\n        return payloadProcess(r);\n      }\n      return r;\n    })();\n    const resp = this.process ? this.process(rr as any) : rr;\n    this.emit(Events.LoadingChange, false);\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.Completed);\n    this.pending = null;\n    if (resp.error) {\n      if (resp.error.code === \"CANCEL\") {\n        this.emit(Events.Canceled);\n        return Result.Err(resp.error);\n      }\n      this.error = resp.error;\n      this.emit(Events.Failed, resp.error);\n      this.emit(Events.StateChange, { ...this.state });\n      return Result.Err(resp.error);\n    }\n    const data = resp.data as P;\n    this.response = data;\n    this.emit(Events.Success, data);\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.ResponseChange, data);\n    return Result.Ok(data);\n  }\n  /**  */\n  reload() {\n    this.run(...this.args);\n  }\n  cancel() {\n    if (!this.client) {\n      return Result.Err(\" client\");\n    }\n    this.client.cancel(this.id);\n    // this.source.cancel(\"\");\n  }\n  clear() {\n    this.response = null;\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.ResponseChange, this.response);\n  }\n  setError(err: BizError) {\n    this.error = err;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  modifyResponse(fn: (resp: P) => P) {\n    if (this.response === null) {\n      return;\n    }\n    const nextResponse = fn(this.response);\n    this.response = nextResponse;\n    this.emit(Events.StateChange, { ...this.state });\n    this.emit(Events.ResponseChange, this.response);\n  }\n\n  onLoadingChange(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.LoadingChange]>) {\n    return this.on(Events.LoadingChange, handler);\n  }\n  beforeRequest(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.BeforeRequest]>) {\n    return this.on(Events.BeforeRequest, handler);\n  }\n  onSuccess(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.Success]>) {\n    return this.on(Events.Success, handler);\n  }\n  onFailed(\n    handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.Failed]>,\n    opt: Partial<{\n      /**  failed  */\n      override: boolean;\n    }> = {}\n  ) {\n    if (opt.override) {\n      this.offEvent(Events.Failed);\n    }\n    return this.on(Events.Failed, handler);\n  }\n  onCanceled(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.Canceled]>) {\n    return this.on(Events.Canceled, handler);\n  }\n  /**  onFailed */\n  onError(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.Failed]>) {\n    return this.on(Events.Failed, handler);\n  }\n  onCompleted(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.Completed]>) {\n    return this.on(Events.Completed, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onResponseChange(handler: Handler<TheTypesOfEvents<UnpackedResult<P>>[Events.ResponseChange]>) {\n    return this.on(Events.ResponseChange, handler);\n  }\n}\n","export function debounce<T extends (...args: any[]) => any>(wait: number, func: T) {\n  let timeoutId: NodeJS.Timeout | null;\n  return function debounced(...args: Parameters<T>) {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(() => {\n      func(...args);\n      timeoutId = null;\n    }, wait);\n  };\n}\n","/**\n * @file \n */\nimport { Response } from \"./typing\";\n\nexport const DEFAULT_PAGE_SIZE = 10;\nexport const DEFAULT_CURRENT_PAGE = 1;\nexport const DEFAULT_TOTAL = 0;\n\nexport const DEFAULT_RESPONSE: Response<any> = {\n  dataSource: [],\n  page: DEFAULT_CURRENT_PAGE,\n  pageSize: DEFAULT_PAGE_SIZE,\n  total: DEFAULT_TOTAL,\n  search: {},\n  initial: true,\n  noMore: false,\n  loading: false,\n  refreshing: null,\n  empty: false,\n  error: null,\n};\n\nexport const DEFAULT_PARAMS = {\n  page: DEFAULT_CURRENT_PAGE,\n  pageSize: DEFAULT_PAGE_SIZE,\n  next_marker: \"\",\n};\n","/**\n * \n *  lodash  Pagination \n * @param data\n * @param keys\n */\nexport function omit(data: { [key: string]: any }, keys: string[]) {\n  const fake = { ...data };\n  keys.forEach((key) => {\n    delete fake[key];\n  });\n  return fake;\n}\n\nexport function noop() {}\n\nfunction get<T>(obj: T, key: string | number) {\n  // @ts-ignore\n  return obj[key];\n}\nexport function merge<T extends Record<string, any> = { [key: string]: any }>(\n  current: T,\n  defaultObj: T,\n  override?: boolean\n) {\n  if (typeof defaultObj !== \"object\") {\n    return current;\n  }\n  if (current === null || current === undefined) {\n    return defaultObj;\n  }\n  return Object.keys(defaultObj)\n    .map((key) => {\n      const defaultValue = get(defaultObj, key);\n\n      if (override) {\n        return {\n          [key]: defaultValue,\n        };\n      }\n      if (get(current, key) === undefined) {\n        // current[key] = defaultValue;\n        return {\n          [key]: defaultValue,\n        };\n      }\n      return {\n        [key]: get(current, key),\n      };\n    })\n    .reduce((result, prev) => {\n      return {\n        ...result,\n        ...prev,\n      };\n    }, current);\n}\n\nexport const qs = {\n  parse(search: string) {\n    if (search === \"\" || search === \"?\") {\n      return {};\n    }\n    let s = search;\n    if (search[0] === \"?\") {\n      s = search.slice(1);\n    }\n    const keyValues = s.split(\"&\");\n    return keyValues\n      .map((keyValue) => {\n        const [key, value] = keyValue.split(\"=\");\n        return {\n          [key]: value,\n        };\n      })\n      .reduce((whole, prev) => {\n        return { ...whole, ...prev };\n      }, {});\n  },\n  stringify(obj: Record<string, any>) {\n    if (typeof obj !== \"object\") {\n      return \"\";\n    }\n    return Object.keys(obj)\n      .map((key) => {\n        return `${key}=${obj[key]}`;\n      })\n      .join(\"&\");\n  },\n};\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { RequestCore } from \"@/domains/request/index\";\nimport { RequestPayload } from \"@/domains/request/utils\";\nimport { debounce } from \"@/utils/lodash/debounce\";\nimport { Result } from \"@/domains/result/index\";\n\nimport { DEFAULT_RESPONSE, DEFAULT_PARAMS, DEFAULT_CURRENT_PAGE, DEFAULT_PAGE_SIZE, DEFAULT_TOTAL } from \"./constants\";\nimport { OriginalResponse, FetchParams, Response, Search, ParamsProcessor, ListProps } from \"./typing\";\nimport { omit } from \"./utils\";\n\n/**\n * \n * @param originalResponse\n * @returns\n */\nconst RESPONSE_PROCESSOR = <T>(\n  originalResponse: OriginalResponse | null\n): {\n  dataSource: T[];\n  page: number;\n  pageSize: number;\n  total: number;\n  empty: boolean;\n  noMore: boolean;\n  error: Error | null;\n} => {\n  if (originalResponse === null) {\n    return {\n      dataSource: [],\n      page: 1,\n      pageSize: DEFAULT_PAGE_SIZE,\n      total: DEFAULT_TOTAL,\n      noMore: false,\n      empty: false,\n      error: new Error(`process response fail, because response is null`),\n    };\n  }\n  try {\n    const data = originalResponse;\n    const {\n      list,\n      page = 1,\n      pageSize = 10,\n      total = 0,\n      isEnd,\n    } = data as {\n      list: T[];\n      page?: number;\n      pageSize?: number;\n      total?: number;\n      isEnd?: boolean;\n    };\n    const result = {\n      dataSource: list,\n      page,\n      pageSize,\n      total,\n      noMore: false,\n      empty: false,\n      error: null,\n    };\n    if (total && pageSize && page && total <= pageSize * page) {\n      result.noMore = true;\n    }\n    if (isEnd !== undefined) {\n      result.noMore = isEnd;\n    }\n    if (pageSize && list.length < pageSize) {\n      result.noMore = true;\n    }\n    if (list.length === 0 && page === 1) {\n      result.empty = true;\n    }\n    return result;\n  } catch (error) {\n    return {\n      dataSource: [],\n      page: 1,\n      pageSize: DEFAULT_PAGE_SIZE,\n      total: DEFAULT_TOTAL,\n      noMore: false,\n      empty: false,\n      error: new Error(`process response fail, because ${(error as Error).message}`),\n    };\n  }\n};\n// type ServiceFn = (...args: unknown[]) => Promise<Result<OriginalResponse>>;\nenum Events {\n  LoadingChange,\n  BeforeSearch,\n  AfterSearch,\n  ParamsChange,\n  DataSourceChange,\n  DataSourceAdded,\n  StateChange,\n  Error,\n  /**  */\n  Completed,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.LoadingChange]: boolean;\n  [Events.BeforeSearch]: void;\n  [Events.AfterSearch]: { params: any };\n  [Events.ParamsChange]: FetchParams;\n  [Events.DataSourceAdded]: T[];\n  [Events.DataSourceChange]: {\n    dataSource: T[];\n    reason:\n      | \"init\"\n      | \"goto\"\n      | \"next\"\n      | \"prev\"\n      | \"clear\"\n      | \"refresh\"\n      | \"search\"\n      | \"load_more\"\n      | \"reload\"\n      | \"reset\"\n      | \"manually\";\n  };\n  [Events.StateChange]: ListState<T>;\n  [Events.Error]: Error;\n  [Events.Completed]: void;\n};\ninterface ListState<T> extends Response<T> {}\n\n/**\n * \n */\nexport class ListCore<\n  S extends RequestCore<(...args: any[]) => RequestPayload<any>>,\n  T = NonNullable<S[\"response\"]>[\"list\"][number]\n> extends BaseDomain<TheTypesOfEvents<T>> {\n  debug: boolean = false;\n\n  static defaultResponse = <T>() => {\n    return { ...DEFAULT_RESPONSE } as Response<T>;\n  };\n  static commonProcessor = RESPONSE_PROCESSOR;\n\n  /**  */\n  request: S;\n  // private originalFetch: (...args: unknown[]) => Promise<OriginalResponse>;\n  /** formToBody */\n  private beforeRequest: ParamsProcessor = (currentParams, prevParams) => {\n    return { ...prevParams, ...currentParams };\n  };\n  /**  */\n  private processor: (response: OriginalResponse | null) => Response<T>;\n  /**  */\n  private initialParams: FetchParams;\n  private extraResponse: Record<string, unknown>;\n  /**  */\n  private extraDatSource: T[] = [];\n  private insertExtraDataSource = false;\n  params: FetchParams = { ...DEFAULT_PARAMS };\n\n  // \n  response: Response<T> = { ...DEFAULT_RESPONSE };\n  rowKey: string;\n\n  constructor(fetch: S, options: ListProps<T> = {}) {\n    super();\n\n    if (!(fetch instanceof RequestCore)) {\n      throw new Error(\"fetch must be a instance of RequestCore\");\n    }\n\n    const {\n      debug,\n      rowKey = \"id\",\n      beforeRequest,\n      processor,\n      extraDefaultResponse,\n      extraDataSource,\n      onLoadingChange,\n      onStateChange,\n      beforeSearch,\n      afterSearch,\n    } = options;\n    this.debug = !!debug;\n    this.rowKey = rowKey;\n    this.request = fetch;\n    this.processor = (originalResponse): Response<T> => {\n      const nextResponse = {\n        ...this.response,\n        ...ListCore.commonProcessor<T>(originalResponse),\n      } as Response<T>;\n      if (processor) {\n        const r = processor<T>(nextResponse, originalResponse);\n        if (r !== undefined) {\n          return r;\n        }\n      }\n      return nextResponse;\n    };\n    if (beforeRequest !== undefined) {\n      this.beforeRequest = beforeRequest;\n    }\n    this.initialParams = { ...DEFAULT_PARAMS } as FetchParams;\n    this.extraResponse = {\n      ...extraDefaultResponse,\n    };\n    this.extraDatSource = options.extraDataSource ?? [];\n    if (onLoadingChange) {\n      this.onLoadingChange(onLoadingChange);\n    }\n    if (onStateChange) {\n      this.onStateChange(onStateChange);\n    }\n    if (beforeSearch) {\n      this.onBeforeSearch(beforeSearch);\n    }\n    if (afterSearch) {\n      this.onAfterSearch(afterSearch);\n    }\n    this.initialize(options);\n  }\n  private initialize(options: ListProps<T>) {\n    const { search, dataSource, page, pageSize, initial } = options;\n\n    if (search !== undefined) {\n      this.initialParams = {\n        ...this.initialParams,\n        ...search,\n      };\n      this.extraResponse.search = search;\n    }\n    if (dataSource !== undefined) {\n      this.extraResponse.dataSource = dataSource;\n    }\n    if (page !== undefined) {\n      this.initialParams.page = page;\n      this.extraResponse.page = page;\n    }\n    if (pageSize !== undefined) {\n      this.initialParams.pageSize = pageSize;\n      this.extraResponse.pageSize = pageSize;\n    }\n    if (initial !== undefined) {\n      this.extraResponse.initial = initial;\n    }\n    this.params = { ...this.initialParams };\n    this.response = {\n      ...ListCore.defaultResponse(),\n      ...this.extraResponse,\n    };\n    const { page: p, pageSize: ps, ...restParams } = this.params;\n    const responseFromPlugin: { search: any; page?: number; pageSize?: number } = {\n      search: restParams,\n    };\n    if (p) {\n      responseFromPlugin.page = p;\n    }\n    if (ps) {\n      responseFromPlugin.pageSize = ps;\n    }\n    this.response = {\n      ...this.response,\n      ...responseFromPlugin,\n      search: {\n        ...this.response.search,\n      },\n    };\n  }\n  /**\n   * \n   * @param {import('./typing').FetchParams} nextParams \n   */\n  setParams(nextParams: Partial<FetchParams> | ((p: FetchParams) => FetchParams)) {\n    let result = {\n      ...this.params,\n      ...nextParams,\n    };\n    if (typeof nextParams === \"function\") {\n      result = nextParams(this.params);\n    }\n    this.params = result as FetchParams;\n    this.emit(Events.ParamsChange, { ...this.params });\n  }\n  setDataSource(dataSources: T[]) {\n    this.response.dataSource = dataSources;\n    this.emit(Events.StateChange, { ...this.response });\n  }\n  /**\n   * \n   * \n   * @param {import('./typing').FetchParams} nextParams - \n   */\n  async fetch(params: Partial<FetchParams>, ...restArgs: any[]) {\n    // const [params, ...restArgs] = args;\n    this.response.loading = true;\n    this.emit(Events.LoadingChange, true);\n    this.emit(Events.StateChange, { ...this.response });\n    const mergedParams = {\n      ...this.params,\n      ...params,\n    };\n    let processedParams = this.beforeRequest({ ...mergedParams }, this.params);\n    if (processedParams === undefined) {\n      processedParams = mergedParams;\n    }\n    const processedArgs = [processedParams, ...restArgs] as Parameters<S[\"service\"]>;\n    const res = await this.request.run(...processedArgs);\n    this.response.error = null;\n    this.response.loading = false;\n    this.response.search = omit({ ...mergedParams }, [\"page\", \"pageSize\"]);\n    if (this.response.initial) {\n      this.response.initial = false;\n    }\n    this.params = { ...processedParams };\n    this.emit(Events.LoadingChange, false);\n    this.emit(Events.ParamsChange, { ...this.params });\n    this.emit(Events.Completed);\n    if (res.error) {\n      return Result.Err(res.error);\n    }\n    const originalResponse = res.data;\n    let response = this.processor(originalResponse);\n    const responseIsEmpty = response.dataSource === undefined;\n    if (responseIsEmpty) {\n      response.dataSource = [];\n    }\n    // console.log(\"[DOMAIN]list/fetch - before this.extraDataSource.length\", this.extraDatSource);\n    if (this.extraDatSource.length !== 0 && this.insertExtraDataSource === false) {\n      this.insertExtraDataSource = true;\n      response.dataSource = [...this.extraDatSource, ...response.dataSource];\n    }\n    if (params.page === 1 && response.dataSource.length === 0) {\n      response.empty = true;\n    }\n    // console.log(response.next_marker);\n    // @ts-ignore\n    if (response.next_marker) {\n      // @ts-ignore\n      this.params.next_marker = response.next_marker;\n    }\n    // console.log(...this.log('3afterProcessor', response));\n    return Result.Ok(response);\n  }\n  /**\n   * \n   */\n  async init(params = {}) {\n    const res = await this.fetch({\n      ...this.initialParams,\n      ...params,\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    // console.log(\"[DOMAIN]list/init - before Event.StateChange\", this.response.dataSource);\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"init\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  /**  state change */\n  async initAny() {\n    if (!this.response.initial) {\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Ok(this.response);\n    }\n    return this.init();\n  }\n  /**\n   * \n   */\n  async next() {\n    const { page, ...restParams } = this.params;\n    const res = await this.fetch({\n      ...restParams,\n      page: page + 1,\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"next\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  /**\n   * \n   */\n  async prev() {\n    const { page, ...restParams } = this.params;\n    const res = await this.fetch({\n      ...restParams,\n      page: (() => {\n        if (page <= DEFAULT_CURRENT_PAGE) {\n          return DEFAULT_CURRENT_PAGE;\n        }\n        return page - 1;\n      })(),\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"prev\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  nextWithCursor() {}\n  /** page  */\n  async loadMoreForce() {\n    const { page, ...restParams } = this.params;\n    const res = await this.fetch({\n      ...restParams,\n      page: page + 1,\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    if (res.data.dataSource.length === 0) {\n      this.params.page -= 1;\n    }\n    const prevItems = this.response.dataSource;\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.response.dataSource = prevItems.concat(res.data.dataSource);\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceAdded, [...res.data.dataSource]);\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"load_more\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  /**\n   * \n   */\n  async loadMore() {\n    if (this.response.loading || this.response.noMore) {\n      return;\n    }\n    const { page, ...restParams } = this.params;\n    const res = await this.fetch({\n      ...restParams,\n      page: page + 1,\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    const prevItems = this.response.dataSource;\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.response.dataSource = prevItems.concat(res.data.dataSource);\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceAdded, [...res.data.dataSource]);\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"load_more\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  /**\n   * \n   * @param {number} page - \n   * @param {number} [pageSize] - \n   */\n  async goto(targetPage: number, targetPageSize: number) {\n    const { page, pageSize, ...restParams } = this.params;\n    const res = await this.fetch({\n      ...restParams,\n      page: (() => {\n        if (targetPage <= DEFAULT_CURRENT_PAGE) {\n          return DEFAULT_CURRENT_PAGE;\n        }\n        return targetPage;\n      })(),\n      pageSize: (() => {\n        if (targetPageSize !== undefined) {\n          return targetPageSize;\n        }\n        return pageSize;\n      })(),\n    });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"goto\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  async search(...args: Parameters<S[\"service\"]>) {\n    this.emit(Events.BeforeSearch);\n    const res = await this.fetch({\n      ...this.initialParams,\n      ...args[0],\n    });\n    this.emit(Events.AfterSearch, { params: args[0] });\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    // this.emit(Events.DataSourceAdded, [...res.data.dataSource]);\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"search\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  searchDebounce = debounce(800, (...args: Parameters<S[\"service\"]>) => {\n    return this.search(...args);\n  });\n  /**\n   * \n   */\n  async reset(params: Partial<FetchParams> = {}) {\n    /**  fetch  this.params  params this.params  */\n    this.params = { ...this.initialParams };\n    const res = await this.fetch(params);\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"reset\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  /**\n   * PC \n   */\n  async reload() {\n    const r = await this.fetch({});\n\n    return r;\n  }\n  /**\n   *  1\n   */\n  async refresh() {\n    const { page, ...restParams } = this.params;\n    this.response.refreshing = true;\n    this.emit(Events.StateChange, { ...this.response });\n    const res = await this.fetch({\n      ...restParams,\n      page: 1,\n      next_marker: \"\",\n    });\n    this.response.refreshing = false;\n    if (res.error) {\n      // this.tip({ icon: \"error\", text: [res.error.message] });\n      this.response.error = res.error;\n      this.emit(Events.Error, res.error);\n      this.emit(Events.StateChange, { ...this.response });\n      return Result.Err(res.error);\n    }\n    this.response = {\n      ...this.response,\n      ...res.data,\n    };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"refresh\",\n    });\n    return Result.Ok({ ...this.response });\n  }\n  clear() {\n    this.response = {\n      ...DEFAULT_RESPONSE,\n    };\n    this.params = { ...DEFAULT_PARAMS };\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"clear\",\n    });\n  }\n  deleteItem(fn: (item: T) => boolean) {\n    const { dataSource } = this.response;\n    const nextDataSource = dataSource.filter((item) => {\n      return !fn(item);\n    });\n    this.response.total = nextDataSource.length;\n    this.response.dataSource = nextDataSource;\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  /**\n   * \n   * @param {T[]} items \n   */\n  async deleteItems(items: T[]) {\n    const { dataSource } = this.response;\n    const nextDataSource = dataSource.filter((item) => {\n      return !items.includes(item);\n    });\n    this.response.total = nextDataSource.length;\n    this.response.dataSource = nextDataSource;\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  modifyItem(fn: (item: T) => T) {\n    const { dataSource } = this.response;\n    const nextDataSource: T[] = [];\n    for (let i = 0; i < dataSource.length; i += 1) {\n      const item = dataSource[i];\n      let r = fn(item);\n      if (!r) {\n        r = item;\n      }\n      nextDataSource.push(r);\n    }\n    this.response.dataSource = nextDataSource;\n    // console.log(\"[DOMAIN]list/index - modifyItem\", nextDataSource[0]);\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  replaceDataSource(dataSource: T[]) {\n    this.response.dataSource = dataSource;\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  /**\n   *  dataSource\n   * @param fn\n   */\n  modifyDataSource(fn: (v: T) => T) {\n    this.response.dataSource = this.response.dataSource.map((item) => {\n      return fn(item);\n    });\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  /**\n   *  response\n   * @param fn\n   */\n  modifyResponse(fn: (v: Response<T>) => Response<T>) {\n    this.response = fn({ ...this.response });\n    this.emit(Events.StateChange, { ...this.response });\n    this.emit(Events.DataSourceChange, {\n      dataSource: [...this.response.dataSource],\n      reason: \"manually\",\n    });\n  }\n  /**\n   *  params\n   */\n  modifyParams(fn: (v: FetchParams) => FetchParams) {\n    this.params = fn(this.params);\n    this.emit(Events.ParamsChange, { ...this.params });\n  }\n  /**\n   *  search\n   */\n  modifySearch(fn: (v: FetchParams) => FetchParams) {\n    this.params = {\n      ...fn(this.params),\n      page: this.params.page,\n      pageSize: this.params.pageSize,\n    };\n    this.emit(Events.ParamsChange, { ...this.params });\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onLoadingChange(handler: Handler<TheTypesOfEvents<T>[Events.LoadingChange]>) {\n    return this.on(Events.LoadingChange, handler);\n  }\n  onBeforeSearch(handler: Handler<TheTypesOfEvents<T>[Events.BeforeSearch]>) {\n    return this.on(Events.BeforeSearch, handler);\n  }\n  onAfterSearch(handler: Handler<TheTypesOfEvents<T>[Events.AfterSearch]>) {\n    return this.on(Events.AfterSearch, handler);\n  }\n  onDataSourceChange(handler: Handler<TheTypesOfEvents<T>[Events.DataSourceChange]>) {\n    return this.on(Events.DataSourceChange, handler);\n  }\n  onDataSourceAdded(handler: Handler<TheTypesOfEvents<T>[Events.DataSourceAdded]>) {\n    return this.on(Events.DataSourceAdded, handler);\n  }\n  onError(handler: Handler<TheTypesOfEvents<T>[Events.Error]>) {\n    return this.on(Events.Error, handler);\n  }\n  onComplete(handler: Handler<TheTypesOfEvents<T>[Events.Completed]>) {\n    return this.on(Events.Completed, handler);\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  Change,\n  StateChange,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.Change]: T[];\n  [Events.StateChange]: MultipleSelectionState<T>;\n};\ntype SelectionProps<T> = {\n  defaultValue: T[];\n  options: { label: string; value: T }[];\n  onChange?: (v: T[]) => void;\n};\ntype MultipleSelectionState<T> = {\n  value: T[];\n  options: { label: string; value: T }[];\n};\nexport class MultipleSelectionCore<T> extends BaseDomain<TheTypesOfEvents<T>> {\n  shape = \"multiple-select\" as const;\n\n  value: T[] = [];\n  defaultValue: T[] = [];\n\n  options: { label: string; value: T }[] = [];\n\n  get state(): MultipleSelectionState<T> {\n    return {\n      value: this.value,\n      options: this.options,\n    };\n  }\n\n  constructor(props: SelectionProps<T>) {\n    super(props);\n\n    const { defaultValue, options, onChange } = props;\n    this.defaultValue = defaultValue;\n    this.value = defaultValue;\n    this.options = options;\n\n    if (onChange) {\n      this.onChange(onChange);\n    }\n  }\n\n  setValue(value: T[]) {\n    this.value = value;\n    this.emit(Events.Change, [...this.value]);\n  }\n  toggle(value: T) {\n    if (this.value.includes(value)) {\n      this.remove(value);\n      return;\n    }\n    this.select(value);\n  }\n  select(value: T) {\n    if (this.value.includes(value)) {\n      return;\n    }\n    this.value.push(value);\n    this.emit(Events.Change, [...this.value]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  remove(value: T) {\n    if (!this.value.includes(value)) {\n      return;\n    }\n    this.value = this.value.filter((v) => v !== value);\n    this.emit(Events.Change, [...this.value]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  isEmpty() {\n    return this.value.length === 0;\n  }\n  clear() {\n    this.value = [];\n    this.emit(Events.Change, [...this.value]);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n\n  onChange(handler: Handler<TheTypesOfEvents<T>[Events.Change]>) {\n    return this.on(Events.Change, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","// @ts-nocheck\nvar d={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},m={L:1,M:0,Q:3,H:2},C={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo(o){let t=o<<10;for(;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(o<<10|t)^h.G15_MASK},getBCHTypeNumber(o){let t=o<<12;for(;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return o<<12|t},getBCHDigit(o){let t=0;for(;o!=0;)t++,o>>>=1;return t},getPatternPosition(o){return h.PATTERN_POSITION_TABLE[o-1]},getMask(o,t,r){switch(o){case C.PATTERN000:return(t+r)%2==0;case C.PATTERN001:return t%2==0;case C.PATTERN010:return r%3==0;case C.PATTERN011:return(t+r)%3==0;case C.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case C.PATTERN101:return t*r%2+t*r%3==0;case C.PATTERN110:return(t*r%2+t*r%3)%2==0;case C.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error(`bad maskPattern:${o}`)}},getErrorCorrectPolynomial(o){let t=new E([1],0);for(let r=0;r<o;r++)t=t.multiply(new E([1,g.gexp(r)],0));return t},getLengthInBits(o,t){if(t>=1&&t<10)switch(o){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:return 8;case d.MODE_KANJI:return 8;default:throw new Error(`mode:${o}`)}else if(t<27)switch(o){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw new Error(`mode:${o}`)}else if(t<41)switch(o){case d.MODE_NUMBER:return 14;case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw new Error(`mode:${o}`)}else throw new Error(`type:${t}`)},getLostPoint(o){let t=o.getModuleCount(),r=0;for(var e=0;e<t;e++)for(var n=0;n<t;n++){let a=0,l=o.isDark(e,n);for(let u=-1;u<=1;u++)if(!(e+u<0||t<=e+u))for(let f=-1;f<=1;f++)n+f<0||t<=n+f||u==0&&f==0||l==o.isDark(e+u,n+f)&&a++;a>5&&(r+=3+a-5)}for(let a=0;a<t-1;a+=1)for(let l=0;l<t-1;l+=1){let u=0;o.isDark(a,l)&&u++,o.isDark(a+1,l)&&u++,o.isDark(a,l+1)&&u++,o.isDark(a+1,l+1)&&u++,(u==0||u==4)&&(r+=3)}for(var e=0;e<t;e++)for(var n=0;n<t-6;n++)o.isDark(e,n)&&!o.isDark(e,n+1)&&o.isDark(e,n+2)&&o.isDark(e,n+3)&&o.isDark(e,n+4)&&!o.isDark(e,n+5)&&o.isDark(e,n+6)&&(r+=40);for(var n=0;n<t;n++)for(var e=0;e<t-6;e++)o.isDark(e,n)&&!o.isDark(e+1,n)&&o.isDark(e+2,n)&&o.isDark(e+3,n)&&o.isDark(e+4,n)&&!o.isDark(e+5,n)&&o.isDark(e+6,n)&&(r+=40);let s=0;for(var n=0;n<t;n++)for(var e=0;e<t;e++)o.isDark(e,n)&&s++;let i=Math.abs(100*s/t/t-50)/5;return r+=i*10,r}},g={glog(o){if(o<1)throw new Error(`glog(${o})`);return g.LOG_TABLE[o]},gexp(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return g.EXP_TABLE[o]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};(()=>{for(let o=0;o<8;o+=1)g.EXP_TABLE[o]=1<<o;for(let o=8;o<256;o+=1)g.EXP_TABLE[o]=g.EXP_TABLE[o-4]^g.EXP_TABLE[o-5]^g.EXP_TABLE[o-6]^g.EXP_TABLE[o-8];for(let o=0;o<255;o+=1)g.LOG_TABLE[g.EXP_TABLE[o]]=o})();var E=class o{num;constructor(t,r){if(t.length===void 0)throw new Error(`${t.length}/${r}`);let e=0;for(;e<t.length&&t[e]===0;)e++;this.num=new Array(t.length-e+r);for(let n=0;n<t.length-e;n+=1)this.num[n]=t[n+e]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){let r=new Array(this.getLength()+t.getLength()-1);for(let e=0;e<this.getLength();e++)for(let n=0;n<t.getLength();n++)r[e+n]^=g.gexp(g.glog(this.get(e))+g.glog(t.get(n)));return new o(r,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;let r=g.glog(this.get(0))-g.glog(t.get(0)),e=new Array(this.getLength());for(let n=0;n<this.getLength();n++)e[n]=this.get(n);for(let n=0;n<t.getLength();n++)e[n]^=g.gexp(g.glog(t.get(n))+r);return new o(e,0).mod(t)}},_=class{mode;parsedData;data;constructor(t){this.mode=d.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(let r=0,e=this.data.length;r<e;r++){let n=[],s=this.data.charCodeAt(r);s>65536?(n[0]=240|(s&1835008)>>>18,n[1]=128|(s&258048)>>>12,n[2]=128|(s&4032)>>>6,n[3]=128|s&63):s>2048?(n[0]=224|(s&61440)>>>12,n[1]=128|(s&4032)>>>6,n[2]=128|s&63):s>128?(n[0]=192|(s&1984)>>>6,n[1]=128|s&63):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let r=0,e=this.parsedData.length;r<e;r++)t.put(this.parsedData[r],8)}},P=class o{static PAD0=236;static PAD1=17;static createData=function(t,r,e){let n=A.getRSBlocks(t,r),s=new B;for(let a=0;a<e.length;a+=1){let l=e[a];s.put(l.mode,4),s.put(l.getLength(),h.getLengthInBits(l.mode,t)),l.write(s)}let i=0;for(let a=0;a<n.length;a+=1)i+=n[a].dataCount;if(s.getLengthInBits()>i*8)throw new Error(`code length overflow. (${s.getLengthInBits()}>${i*8})`);for(s.getLengthInBits()+4<=i*8&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(!1);for(;!(s.getLengthInBits()>=i*8||(s.put(o.PAD0,8),s.getLengthInBits()>=i*8));)s.put(o.PAD1,8);return o.createBytes(s,n)};static createBytes=function(t,r){let e=0,n=0,s=0,i=new Array(r.length),a=new Array(r.length);for(let c=0;c<r.length;c+=1){let b=r[c].dataCount,M=r[c].totalCount-b;n=Math.max(n,b),s=Math.max(s,M),i[c]=new Array(b);for(let p=0;p<i[c].length;p+=1)i[c][p]=255&t.buffer[p+e];e+=b;let T=h.getErrorCorrectPolynomial(M),R=new E(i[c],T.getLength()-1).mod(T);a[c]=new Array(T.getLength()-1);for(let p=0;p<a[c].length;p+=1){let k=p+R.getLength()-a[c].length;a[c][p]=k>=0?R.get(k):0}}let l=0;for(let c=0;c<r.length;c+=1)l+=r[c].totalCount;let u=new Array(l),f=0;for(let c=0;c<n;c+=1)for(let b=0;b<r.length;b+=1)c<i[b].length&&(u[f++]=i[b][c]);for(var L=0;L<s;L++)for(var w=0;w<r.length;w++)L<a[w].length&&(u[f++]=a[w][L]);return u};typeNumber;errorCorrectLevel;modules=[];moduleCount;dataCache;dataList;constructor(t,r){this.typeNumber=t,this.errorCorrectLevel=r,this.modules=[],this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){let r=new _(t);this.dataList.push(r),this.dataCache=null}isDark(t,r){if(t<0||this.moduleCount<=t||r<0||this.moduleCount<=r)throw new Error(`${t},${r}`);return this.modules[t][r]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++)this.modules[e][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)}setupPositionProbePattern(t,r){for(let e=-1;e<=7;e++)if(!(t+e<=-1||this.moduleCount<=t+e))for(let n=-1;n<=7;n++)r+n<=-1||this.moduleCount<=r+n||(e>=0&&e<=6&&(n==0||n==6)||n>=0&&n<=6&&(e==0||e==6)||e>=2&&e<=4&&n>=2&&n<=4?this.modules[t+e][r+n]=!0:this.modules[t+e][r+n]=!1)}getBestMaskPattern(){let t=0,r=0;for(let e=0;e<8;e++){this.makeImpl(!0,e);let n=h.getLostPoint(this);(e==0||t>n)&&(t=n,r=e)}return r}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){let t=h.getPatternPosition(this.typeNumber);for(let r=0;r<t.length;r++)for(let e=0;e<t.length;e++){let n=t[r],s=t[e];if(this.modules[n][s]==null)for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[n+i][s+a]=!0:this.modules[n+i][s+a]=!1}}setupTypeNumber(t){let r=h.getBCHTypeNumber(this.typeNumber);for(var e=0;e<18;e++){var n=!t&&(r>>e&1)==1;this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=n}for(var e=0;e<18;e++){var n=!t&&(r>>e&1)==1;this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=n}}setupTypeInfo(t,r){let e=this.errorCorrectLevel<<3|r,n=h.getBCHTypeInfo(e);for(var s=0;s<15;s++){var i=!t&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!t&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!t}mapData(t,r){let e=-1,n=this.moduleCount-1,s=7,i=0;for(let a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(let l=0;l<2;l++)if(this.modules[n][a-l]==null){let u=!1;i<t.length&&(u=(t[i]>>>s&1)==1),h.getMask(r,n,a-l)&&(u=!u),this.modules[n][a-l]=u,s--,s==-1&&(i++,s=7)}if(n+=e,n<0||this.moduleCount<=n){n-=e,e=-e;break}}}},A=class o{static RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];static getRSBlocks=function(t,r){let e=o.getRsBlockTable(t,r);if(e==null)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${r}`);let n=e.length/3,s=[];for(let i=0;i<n;i++){let a=e[i*3+0],l=e[i*3+1],u=e[i*3+2];for(let f=0;f<a;f++)s.push(new o(l,u))}return s};static getRsBlockTable=function(t,r){switch(r){case m.L:return o.RS_BLOCK_TABLE[(t-1)*4+0];case m.M:return o.RS_BLOCK_TABLE[(t-1)*4+1];case m.Q:return o.RS_BLOCK_TABLE[(t-1)*4+2];case m.H:return o.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};totalCount;dataCount;constructor(t,r){this.totalCount=t,this.dataCount=r}},B=class{length;buffer;constructor(){this.buffer=[],this.length=0}get(t){let r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)==1}put(t,r){for(let e=0;e<r;e++)this.putBit((t>>>r-e-1&1)==1)}getLengthInBits(){return this.length}putBit(t){let r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},D=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function x(o,t){let r=1,e=v(o);for(let n=0,s=D.length;n<=s;n++){let i=0;switch(t){case m.L:i=D[n][0];break;case m.M:i=D[n][1];break;case m.Q:i=D[n][2];break;case m.H:i=D[n][3];break}if(e<=i)break;r++}if(r>D.length)throw new Error(\"Too long data\");return r}function v(o){let t=encodeURI(o).toString().replace(/\\%[0-9a-fA-F]{2}/g,\"a\");return t.length+(t.length!=o?3:0)}var y=class{static CorrectLevel=m;_htOption;_oQRCode=null;constructor(t){this._htOption={width:256,height:256,typeNumber:4,colorDark:\"#000000\",colorLight:\"#ffffff\",correctLevel:m.H,text:\"\"};let r=typeof t==\"string\"?{text:t}:t||{};for(let e in r)this._htOption[e]=r[e];this._oQRCode=null}fetchModel(t,r={}){return[void 0,null,\"\"].includes(t)?(console.error(\"\\u4E8C\\u7EF4\\u7801\\u5185\\u5BB9\\u4E0D\\u80FD\\u4E3A\\u7A7A\"),null):(this._oQRCode=new P(x(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._oQRCode)}};export{y as QRCode};\n","/**\n * \n */\nimport { QRCode } from \"./core\";\n\ntype CanvasDrawingProps = {\n  width: number;\n  height: number;\n\n  ctx: CanvasRenderingContext2D;\n};\ninterface QRCode {\n  getModuleCount(): number;\n  isDark(x: number, y: number): boolean;\n}\n/**\n * Drawing QRCode by using canvas\n *\n * @constructor\n * @param {Object} htOption QRCode Options\n */\nexport class CanvasDrawing {\n  /** canvas  */\n  ctx: CanvasRenderingContext2D;\n  /**  */\n  isPainted = false;\n\n  options: {\n    width: number;\n    height: number;\n  };\n\n  constructor(options: CanvasDrawingProps) {\n    const { ctx } = options;\n    this.options = options;\n    this.ctx = ctx;\n  }\n\n  /**\n   *  logo\n   */\n  //   async drawLogo(img) {\n  //     const ctx = this.ctx;\n  //     return new Promise((resolve, reject) => {\n  //       const image = document.createElement(\"img\");\n  //       image.src = img;\n  //       image.crossOrigin = \"anonymous\";\n  //       image.onload = (event) => {\n  //         const { target } = event;\n  //         // (256 / 2) - (48 / 2) === 104\n  //         const size = 54;\n  //         const x = 256 / 2 - size / 2;\n  //         ctx.drawImage(image, x, x, size, size);\n  //         resolve();\n  //       };\n  //       image.onerror = () => {\n  //         resolve(Result.Err(\"Logo \"));\n  //       };\n  //     });\n  //   }\n  /**\n   * Draw the QRCode\n   *\n   * @param {QRCode} model\n   */\n  draw(model: QRCode) {\n    const { ctx } = this;\n    const { options } = this;\n    const nCount = model.getModuleCount();\n    const nWidth = options.width / nCount;\n    const nHeight = options.height / nCount;\n    const nRoundedWidth = Math.round(nWidth);\n    const nRoundedHeight = Math.round(nHeight);\n    console.log(\"count\", nCount, nRoundedWidth, nRoundedHeight);\n\n    this.clear();\n\n    for (let row = 0; row < nCount; row++) {\n      for (let col = 0; col < nCount; col++) {\n        const isDark = model.isDark(row, col);\n        const nLeft = col * nWidth;\n        const nTop = row * nHeight;\n        ctx.strokeStyle = isDark ? \"#000000\" : \"#ffffff\";\n        ctx.lineWidth = 1;\n        ctx.fillStyle = isDark ? \"#000000\" : \"#ffffff\";\n        ctx.fillRect(nLeft, nTop, nWidth, nHeight);\n        // console.log(Math.floor(nLeft), Math.floor(nTop), isDark, ctx.fillStyle);\n        ctx.strokeRect(Math.floor(nLeft) + 0.5, Math.floor(nTop) + 0.5, nRoundedWidth, nRoundedHeight);\n        ctx.strokeRect(Math.ceil(nLeft) - 0.5, Math.ceil(nTop) - 0.5, nRoundedWidth, nRoundedHeight);\n      }\n    }\n    this.isPainted = true;\n  }\n\n  /**\n   * Make the image from Canvas if the browser supports Data URI.\n   */\n  // makeImage() {\n  //   if (this._bIsPainted) {\n  //     _safeSetDataURI.call(this, _onMakeImage);\n  //   }\n  // }\n\n  /**\n   * Clear the QRCode\n   */\n  clear() {\n    this.ctx.clearRect(0, 0, this.options.width, this.options.height);\n    this.isPainted = false;\n  }\n\n  /**\n   * @private\n   * @param {Number} nNumber\n   */\n  round(nNumber: number) {\n    if (!nNumber) {\n      return nNumber;\n    }\n\n    return Math.floor(nNumber * 1000) / 1000;\n  }\n}\n\nexport async function createQRCode(text: string, options: CanvasDrawingProps) {\n  const { width, height } = options;\n  const drawer = new CanvasDrawing(options);\n  // @ts-ignore\n  const model: QRCode = await new QRCode({ width, height }).fetchModel(text, options);\n  drawer.draw(model);\n}\n","import { debounce } from \"@/utils/lodash/debounce\";\n\nimport { BaseDomain, Handler } from \"@/domains/base\";\n\nenum Events {\n  StateChange,\n}\ntype TheTypesOfEvents<T> = {\n  [Events.StateChange]: StorageCoreState<T>;\n};\n\ntype StorageCoreProps<T> = {\n  key: string;\n  values: T;\n  defaultValues: T;\n  client: {\n    setItem: (key: string, value: string) => void;\n    getItem: (key: string) => void;\n  };\n};\ntype StorageCoreState<T> = {\n  values: T;\n};\n\nexport class StorageCore<T extends Record<string, unknown>> extends BaseDomain<TheTypesOfEvents<T>> {\n  key: string;\n  values: T;\n  defaultValues: T;\n  client: StorageCoreProps<T>[\"client\"];\n\n  get state() {\n    return {\n      values: this.values,\n    };\n  }\n\n  constructor(props: Partial<{ _name: string }> & StorageCoreProps<T>) {\n    super(props);\n\n    const { key, client, defaultValues, values } = props;\n    this.key = key;\n    this.values = values;\n    this.values = {\n      ...defaultValues,\n      ...values,\n    };\n    this.defaultValues = defaultValues;\n    this.client = client;\n  }\n\n  get<K extends keyof T>(key: K, defaultValue?: T[K]) {\n    const v = this.values[key];\n    // console.log(\"[DOMAIN]storage/index - get\", key, v, this.values);\n    if (v === undefined) {\n      if (defaultValue) {\n        // @ts-ignore\n        return defaultValue[key] as T[K];\n      }\n      throw new Error(\"the default value no existing\");\n    }\n    return v as T[K];\n  }\n  set = debounce(100, <K extends keyof T>(key: K, values: T[K]) => {\n    // console.log(\"cache set\", key, values);\n    const nextValues = {\n      ...this.values,\n      [key]: values,\n    };\n    this.values = nextValues;\n    this.client.setItem(this.key, JSON.stringify(this.values));\n    this.emit(Events.StateChange, { ...this.state });\n  }) as (key: keyof T, value: unknown) => void;\n  merge = <K extends keyof T>(\n    key: K,\n    values: Partial<T[K]>,\n    extra: Partial<{ reverse: boolean; limit: number }> = {}\n  ) => {\n    // console.log(\"[]merge\", key, values);\n    const prevValues = this.get(key) || {};\n    if (Array.isArray(prevValues)) {\n      let nextValues = extra.reverse\n        ? [...(values as unknown as Array<unknown>), ...prevValues]\n        : [...prevValues, ...(values as unknown as Array<unknown>)];\n      if (extra.limit) {\n        nextValues = nextValues.slice(0, extra.limit);\n      }\n      this.set(key, nextValues);\n      return nextValues;\n    }\n    if (typeof prevValues === \"object\" && typeof values === \"object\") {\n      const nextValues = {\n        ...prevValues,\n        ...values,\n      };\n      this.set(key, nextValues);\n      return nextValues;\n    }\n    console.warn(\"the params of merge must be object\");\n    return prevValues;\n  };\n  clear<K extends keyof T>(key: K) {\n    const v = this.values[key];\n    if (v === undefined) {\n      return null;\n    }\n    this.values = {\n      ...this.values,\n      [key]: this.defaultValues[key],\n    };\n    this.client.setItem(this.key, JSON.stringify(this.values));\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  remove<K extends keyof T>(key: K) {\n    this.clear(key);\n  }\n\n  onStateChange(handler: Handler<TheTypesOfEvents<T>[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n}\n","export class CurSystem {\n  connection: string = \"unknown\";\n  constructor() {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    this.connection = this.query_network();\n  }\n  query_network() {\n    // @ts-ignore\n    if (navigator.connection) {\n      // @ts-ignore\n      return navigator.connection.type;\n    }\n    const ua = navigator.userAgent;\n    const regExp = /NetType\\/(\\S*)/;\n    const matches = ua.match(regExp);\n    if (!matches) {\n      return \"unknown\";\n    }\n    return matches[1];\n  }\n}\n\nexport const system = new CurSystem();\n","export class TimerCore {\n  timer: null | NodeJS.Timeout = null;\n\n  interval(fn: Function, delay: number) {\n    if (this.timer !== null) {\n      return;\n    }\n    setInterval(() => {\n      fn();\n    }, delay);\n  }\n  clear() {\n    if (this.timer === null) {\n      return;\n    }\n    clearInterval(this.timer);\n    this.timer = null;\n  }\n}\n","/**\n * @file \n */\nimport { BaseDomain, Handler } from \"@/domains/base\";\nimport { Application } from \"@/domains/app\";\nimport { Result } from \"@/domains/result/index\";\n\n/**  */\nenum MediaResolutionTypes {\n  /**  */\n  LD = \"LD\",\n  /**  */\n  SD = \"SD\",\n  /**  */\n  HD = \"HD\",\n  /**  */\n  FHD = \"FHD\",\n}\n\nenum Events {\n  Connected,\n  Mounted,\n  /**  */\n  UrlChange,\n  /**  */\n  CurrentTimeChange,\n  BeforeAdjustCurrentTime,\n  /**  */\n  TargetTimeChange,\n  AfterAdjustCurrentTime,\n  /**  */\n  ResolutionChange,\n  /**  */\n  VolumeChange,\n  /**  */\n  RateChange,\n  /**  */\n  SizeChange,\n  /**  */\n  Preload,\n  Ready,\n  Loaded,\n  /**  */\n  SourceLoaded,\n  /**  */\n  CanPlay,\n  /**  */\n  Play,\n  /**  */\n  Progress,\n  /**  */\n  Pause,\n  BeforeLoadStart,\n  /**  */\n  BeforeEnded,\n  CanSetCurrentTime,\n  /**  */\n  End,\n  Resize,\n  /**  */\n  ExitFullscreen,\n  /**  */\n  Error,\n  StateChange,\n}\ntype TheTypesOfEvents = {\n  [Events.Connected]: void;\n  [Events.Mounted]: boolean;\n  [Events.UrlChange]: { url: string; thumbnail?: string };\n  [Events.CurrentTimeChange]: { currentTime: number };\n  [Events.BeforeAdjustCurrentTime]: void;\n  [Events.TargetTimeChange]: number;\n  [Events.AfterAdjustCurrentTime]: { time: number };\n  [Events.ResolutionChange]: {\n    type: MediaResolutionTypes;\n    text: string;\n  };\n  [Events.VolumeChange]: { volume: number };\n  [Events.CanSetCurrentTime]: void;\n  [Events.RateChange]: { rate: number };\n  [Events.SizeChange]: { width: number; height: number };\n  [Events.ExitFullscreen]: void;\n  [Events.Ready]: void;\n  [Events.BeforeLoadStart]: void;\n  // EpisodeProfile\n  [Events.SourceLoaded]: Partial<{\n    width: number;\n    height: number;\n    url: string;\n    currentTime: number;\n  }>;\n  [Events.Loaded]: void;\n  [Events.CanPlay]: void;\n  [Events.Play]: void;\n  [Events.Pause]: { currentTime: number; duration: number };\n  [Events.Progress]: {\n    currentTime: number;\n    duration: number;\n    progress: number;\n  };\n  [Events.Preload]: { url: string };\n  [Events.BeforeEnded]: void;\n  [Events.End]: {\n    current_time: number;\n    duration: number;\n  };\n  [Events.Error]: Error;\n  [Events.Resize]: { width: number; height: number };\n  [Events.StateChange]: PlayerState;\n};\n\ntype PlayerProps = {\n  app: Application<any>;\n};\ntype PlayerState = {\n  playing: boolean;\n  poster?: string;\n  width: number;\n  height: number;\n  ready: boolean;\n  rate: number;\n  volume: number;\n  currentTime: number;\n  prepareFullscreen: boolean;\n  subtitle: null | {\n    label: string;\n    lang: string;\n    src: string;\n  };\n  error?: string;\n};\n\nexport class VideoPlayerCore extends BaseDomain<TheTypesOfEvents> {\n  /**  */\n  metadata: { url: string; thumbnail?: string } | null = null;\n  static Events = Events;\n\n  $app: Application<any>;\n\n  private _timer: null | number = null;\n  _canPlay = false;\n  _ended = false;\n  _duration = 0;\n  _currentTime = 0;\n  _curVolume = 0.5;\n  _curRate = 1;\n  get currentTime() {\n    return this._currentTime;\n  }\n  url = \"\";\n  playing = false;\n  paused = false;\n  poster?: string;\n  subtitle: PlayerState[\"subtitle\"] = null;\n  _mounted = false;\n  _connected = false;\n  /**  */\n  _target_current_time = 0;\n  _subtitleVisible = false;\n  prepareFullscreen = false;\n  _progress = 0;\n  virtualProgress = 0;\n  errorMsg = \"\";\n  private _passPoint = false;\n  private _size: { width: number; height: number } = { width: 0, height: 0 };\n  private _abstractNode: {\n    $node: unknown;\n    play: () => void;\n    pause: () => void;\n    load: (url: string) => void;\n    canPlayType: (type: string) => boolean;\n    setCurrentTime: (v: number) => void;\n    setVolume: (v: number) => void;\n    setRate: (v: number) => void;\n    enableFullscreen: () => void;\n    disableFullscreen: () => void;\n    requestFullscreen: () => void;\n    exitFullscreen: () => void;\n    showSubtitle: () => void;\n    hideSubtitle: () => void;\n    showAirplay: () => void;\n    pictureInPicture: () => void;\n  } | null = null;\n\n  get state(): PlayerState {\n    return {\n      playing: this.playing,\n      poster: this.poster,\n      width: this._size.width,\n      height: this._size.height,\n      ready: this._canPlay,\n      error: this.errorMsg,\n      rate: this._curRate,\n      volume: this._curVolume,\n      currentTime: this._currentTime,\n      subtitle: this.subtitle,\n      prepareFullscreen: this.prepareFullscreen,\n    };\n  }\n\n  constructor(props: { unique_id?: string; app: Application<any>; volume?: number; rate?: number }) {\n    super(props);\n\n    const { app, volume, rate } = props;\n    if (volume) {\n      this._curVolume = volume;\n    }\n    if (rate) {\n      this._curRate = rate;\n    }\n    this.$app = app;\n  }\n\n  bindAbstractNode(node: VideoPlayerCore[\"_abstractNode\"]) {\n    this._abstractNode = node;\n    console.log(\"[DOMAIN]player/index - bindAbstractNode\", this.unique_id, node, this.pendingRate);\n    if (this._abstractNode) {\n      if (this.pendingRate) {\n        this.changeRate(this.pendingRate);\n        this.pendingRate = null;\n      }\n      this._abstractNode.setVolume(this._curVolume);\n    }\n  }\n  /**  */\n  hasPlayed = false;\n  /**  */\n  async play() {\n    console.log(\"[DOMAIN]player/index - play\", this._abstractNode, this.playing);\n    if (this._abstractNode === null) {\n      return;\n    }\n    if (this.playing) {\n      return;\n    }\n    this._abstractNode.play();\n    this.hasPlayed = true;\n    this._abstractNode.setRate(this._curRate);\n    this.playing = true;\n    this.paused = false;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  async pause() {\n    if (this._abstractNode === null) {\n      return;\n    }\n    this._abstractNode.pause();\n    this.playing = false;\n    this.paused = true;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  changeVolume(v: number) {\n    if (this._abstractNode === null) {\n      return;\n    }\n    this._curVolume = v;\n    this._abstractNode.setVolume(v);\n    this.emit(Events.VolumeChange, { volume: v });\n  }\n  pendingRate: null | number = null;\n  changeRate(v: number) {\n    if (this._abstractNode === null) {\n      this.pendingRate = v;\n      return;\n    }\n    this._curRate = v;\n    console.log(\"[DOMAIN]player/index - changeRate\", v);\n    this._abstractNode.setRate(v);\n    this.emit(Events.RateChange, { rate: v });\n  }\n  showAirplay() {\n    if (this._abstractNode === null) {\n      return;\n    }\n    this._abstractNode.showAirplay();\n  }\n  pictureInPicture() {\n    if (this._abstractNode === null) {\n      return;\n    }\n    this._abstractNode.pictureInPicture();\n  }\n  toggleSubtitle() {\n    this._subtitleVisible = !this._subtitleVisible;\n  }\n  setPoster(url: string | null) {\n    if (url === null) {\n      return;\n    }\n    this.poster = url;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  /**  */\n  setCurrentTime(currentTime: number | null = 0) {\n    console.log(\"[DOMAIN]player/index - setCurrentTime\", this._abstractNode, currentTime);\n    if (this._abstractNode === null) {\n      return;\n    }\n    this._currentTime = currentTime || 0;\n    this._abstractNode.setCurrentTime(currentTime || 0);\n  }\n  speedUp() {\n    let target = this._currentTime + 10;\n    if (this._duration && target >= this._duration) {\n      target = this._duration;\n    }\n    this.setCurrentTime(target);\n  }\n  rewind() {\n    let target = this._currentTime - 10;\n    if (target <= 0) {\n      target = 0;\n    }\n    this.setCurrentTime(target);\n  }\n  setSize(size: { width: number; height: number }) {\n    if (\n      this._size.width !== 0 &&\n      this._size.width === size.width &&\n      this._size.height !== 0 &&\n      this._size.height === size.height\n    ) {\n      return;\n    }\n    const app = this.$app;\n    const { width, height } = size;\n    const h = Math.ceil((height / width) * app.screen.width);\n    console.log(\"[DOMAIN]player/index - setSize\", app.screen.width, h);\n    if (Number.isNaN(h)) {\n      return;\n    }\n    this._size = {\n      width: app.screen.width,\n      height: h > app.screen.height ? app.screen.height : h,\n    };\n    this.emit(Events.SizeChange, { ...this._size });\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setResolution(values: { type: MediaResolutionTypes; text: string }) {\n    this.emit(Events.ResolutionChange, values);\n  }\n  clearSubtitle() {\n    // console.log(\"[DOMAIN]player - clearSubtitle\");\n    this.subtitle = null;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  showSubtitle(subtitle: { src: string; label: string; lang: string }) {\n    this.subtitle = subtitle;\n    this.emit(Events.StateChange, { ...this.state });\n    const $video = this._abstractNode;\n    if (!$video) {\n      return;\n    }\n    setTimeout(() => {\n      this._subtitleVisible = true;\n      $video.showSubtitle();\n    }, 800);\n  }\n  toggleSubtitleVisible() {\n    console.log(\"[DOMAIN]player/index - toggleSubtitleVisible\", this._abstractNode, this._subtitleVisible);\n    if (!this._abstractNode) {\n      return;\n    }\n    if (this._subtitleVisible) {\n      this._subtitleVisible = false;\n      this._abstractNode.hideSubtitle();\n      return;\n    }\n    this._subtitleVisible = true;\n    this._abstractNode.showSubtitle();\n  }\n  requestFullScreen() {\n    const $video = this._abstractNode;\n    if (!$video) {\n      return;\n    }\n    if (this.$app.env.android) {\n      this.play();\n      $video.requestFullscreen();\n      return;\n    }\n    // \n    this.pause();\n    $video.enableFullscreen();\n    this.play();\n  }\n  exitFullscreen = () => {\n    const $video = this._abstractNode;\n    if (!$video) {\n      return;\n    }\n    $video.exitFullscreen();\n  };\n  loadSource(video: { url: string }) {\n    this.metadata = video;\n    this._canPlay = false;\n    this.errorMsg = \"\";\n    this.emit(Events.UrlChange, video);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  preloadSource(url: string) {\n    this.emit(Events.Preload, { url });\n  }\n  canPlayType(type: string) {\n    if (!this._abstractNode) {\n      return false;\n    }\n    return this._abstractNode.canPlayType(type);\n  }\n  _pending_url = \"\";\n  load(url: string) {\n    console.log(\"[DOMAIN]player - load\", this.unique_id, url, this._abstractNode);\n    this._canPlay = false;\n    if (!this._abstractNode) {\n      this._pending_url = url;\n      return;\n    }\n    if (url && url === this.url) {\n      return;\n    }\n    this.url = url;\n    this._abstractNode.load(url);\n  }\n  startAdjustCurrentTime() {\n    this.emit(Events.BeforeAdjustCurrentTime);\n  }\n  /** 0.x */\n  adjustProgressManually(percent: number) {\n    const targetTime = percent * this._duration;\n    this.virtualProgress = percent;\n    this.emit(Events.TargetTimeChange, targetTime);\n  }\n  adjustCurrentTime(targetTime: number) {\n    if (this.hasPlayed && !this.playing) {\n      this.play();\n    }\n    let time = targetTime;\n    if (time < 0) {\n      time = 0;\n    }\n    if (time > this._duration) {\n      time = this._duration;\n    }\n    this.setCurrentTime(time);\n    this.emit(Events.AfterAdjustCurrentTime, { time });\n  }\n  async screenshot(): Promise<Result<string>> {\n    return Result.Err(\" screenshot \");\n  }\n  node() {\n    if (!this._abstractNode) {\n      return null;\n    }\n    return this._abstractNode.$node;\n  }\n  updated = false;\n  handleTimeUpdate({ currentTime, duration }: { currentTime: number; duration: number }) {\n    // if (!this.startLoad) {\n    //   this.emit(Events.BeforeLoadStart);\n    // }\n    if (this.startLoad && !this.updated) {\n      this.emit(Events.CanSetCurrentTime);\n      this.updated = true;\n    }\n    if (this._currentTime === currentTime) {\n      return;\n    }\n    this._currentTime = currentTime;\n    if (typeof duration === \"number\" && !Number.isNaN(duration)) {\n      this._duration = duration;\n    }\n    const progress = Math.floor((currentTime / this._duration) * 100);\n    this._progress = progress;\n    this.emit(Events.Progress, {\n      currentTime: this._currentTime,\n      duration: this._duration,\n      progress: this._progress,\n    });\n    // console.log(\"[DOMAIN]Player - time update\", currentTime, this._duration);\n    if (currentTime + 10 >= this._duration) {\n      if (this._passPoint) {\n        return;\n      }\n      this.emit(Events.BeforeEnded);\n      this._passPoint = true;\n      return;\n    }\n    this._passPoint = false;\n  }\n  enableFullscreen() {\n    const $video = this._abstractNode;\n    if (!$video) {\n      return;\n    }\n    this.prepareFullscreen = true;\n    $video.enableFullscreen();\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  disableFullscreen() {\n    const $video = this._abstractNode;\n    if (!$video) {\n      return;\n    }\n    this.prepareFullscreen = false;\n    $video.disableFullscreen();\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  setMounted() {\n    console.log(\"[DOMAIN]player/index - setMounted - before\", this._mounted, this._pending_url);\n    this._mounted = true;\n    if (this._pending_url && this._abstractNode) {\n      const u = this._pending_url;\n      this._pending_url = \"\";\n      this.load(u);\n    }\n    this.emit(Events.Mounted);\n    this.emit(Events.Ready);\n  }\n  setConnected() {\n    console.log(\"[DOMAIN]player/index - setConnected - before\", this._mounted, this._pending_url);\n    this._mounted = true;\n    if (this._pending_url && this._abstractNode) {\n      const u = this._pending_url;\n      this._pending_url = \"\";\n      this.load(u);\n    }\n    this.emit(Events.Connected);\n  }\n  setInvalid(msg: string) {\n    this.errorMsg = msg;\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  isFullscreen = false;\n  /** ------  video  start -------- */\n  handleFullscreenChange(isFullscreen: boolean) {\n    this.isFullscreen = isFullscreen;\n    if (isFullscreen === false) {\n      this.emit(Events.ExitFullscreen);\n    }\n  }\n  handlePause({ currentTime, duration }: { currentTime: number; duration: number }) {\n    this.emit(Events.Pause, { currentTime, duration });\n  }\n  handleVolumeChange(cur_volume: number) {\n    this._curVolume = cur_volume;\n    this.emit(Events.VolumeChange, { volume: cur_volume });\n  }\n  handleResize(size: { width: number; height: number }) {\n    // const { width, height } = size;\n    // const h = Math.ceil((height / width) * this._app.size.width);\n    // this._size = {\n    //   width: this._app.size.width,\n    //   height: h,\n    // };\n    // this.emit(Events.Resize, this._size);\n    // this.emit(Events.StateChange, { ...this.state });\n  }\n  startLoad = false;\n  handleStartLoad() {\n    this.startLoad = true;\n  }\n  /**  */\n  handleEnded() {\n    this.playing = false;\n    this._ended = true;\n    this.emit(Events.End, {\n      current_time: this._currentTime,\n      duration: this._duration,\n    });\n  }\n  handleLoadedmetadata(values: { width: number; height: number; duration: number }) {\n    const { width, height } = values;\n    this.setSize({ width, height });\n    this._duration = values.duration;\n    this.emit(Events.SourceLoaded);\n  }\n  handleLoad() {\n    this.emit(Events.Loaded);\n  }\n  handleCanPlay() {\n    if (this._canPlay) {\n      return;\n    }\n    this._canPlay = true;\n    this.emit(Events.CanPlay);\n    this.emit(Events.StateChange, { ...this.state });\n  }\n  handlePlay() {\n    // this.emit(Events.Play);\n  }\n  handlePlaying() {\n    this.hasPlayed = true;\n  }\n  handleError(msg: string) {\n    // console.log(\"[DOMAIN]Player - throwError\", msg);\n    // this.errorMsg = msg;\n    this.emit(Events.Error, new Error(msg));\n  }\n\n  onReady(handler: Handler<TheTypesOfEvents[Events.Ready]>) {\n    return this.on(Events.Ready, handler);\n  }\n  onBeforeStartLoad(handler: Handler<TheTypesOfEvents[Events.BeforeLoadStart]>) {\n    return this.on(Events.BeforeLoadStart, handler);\n  }\n  onLoaded(handler: Handler<TheTypesOfEvents[Events.Loaded]>) {\n    return this.on(Events.Loaded, handler);\n  }\n  onProgress(handler: Handler<TheTypesOfEvents[Events.Progress]>) {\n    return this.on(Events.Progress, handler);\n  }\n  onCanPlay(handler: Handler<TheTypesOfEvents[Events.CanPlay]>) {\n    return this.on(Events.CanPlay, handler);\n  }\n  onUrlChange(handler: Handler<TheTypesOfEvents[Events.UrlChange]>) {\n    return this.on(Events.UrlChange, handler);\n  }\n  onExitFullscreen(handler: Handler<TheTypesOfEvents[Events.ExitFullscreen]>) {\n    return this.on(Events.ExitFullscreen, handler);\n  }\n  onPreload(handler: Handler<TheTypesOfEvents[Events.Preload]>) {\n    return this.on(Events.Preload, handler);\n  }\n  onBeforeEnded(handler: Handler<TheTypesOfEvents[Events.BeforeEnded]>) {\n    return this.on(Events.BeforeEnded, handler);\n  }\n  onSizeChange(handler: Handler<TheTypesOfEvents[Events.SizeChange]>) {\n    return this.on(Events.SizeChange, handler);\n  }\n  onVolumeChange(handler: Handler<TheTypesOfEvents[Events.VolumeChange]>) {\n    return this.on(Events.VolumeChange, handler);\n  }\n  onRateChange(handler: Handler<TheTypesOfEvents[Events.RateChange]>) {\n    return this.on(Events.RateChange, handler);\n  }\n  onPause(handler: Handler<TheTypesOfEvents[Events.Pause]>) {\n    return this.on(Events.Pause, handler);\n  }\n  onResolutionChange(handler: Handler<TheTypesOfEvents[Events.ResolutionChange]>) {\n    return this.on(Events.ResolutionChange, handler);\n  }\n  onCanSetCurrentTime(handler: Handler<TheTypesOfEvents[Events.CanSetCurrentTime]>) {\n    return this.on(Events.CanSetCurrentTime, handler);\n  }\n  beforeAdjustCurrentTime(handler: Handler<TheTypesOfEvents[Events.BeforeAdjustCurrentTime]>) {\n    return this.on(Events.BeforeAdjustCurrentTime, handler);\n  }\n  afterAdjustCurrentTime(handler: Handler<TheTypesOfEvents[Events.AfterAdjustCurrentTime]>) {\n    return this.on(Events.AfterAdjustCurrentTime, handler);\n  }\n  onPlay(handler: Handler<TheTypesOfEvents[Events.Play]>) {\n    return this.on(Events.Play, handler);\n  }\n  onSourceLoaded(handler: Handler<TheTypesOfEvents[Events.SourceLoaded]>) {\n    return this.on(Events.SourceLoaded, handler);\n  }\n  onTargetTimeChange(handler: Handler<TheTypesOfEvents[Events.TargetTimeChange]>) {\n    return this.on(Events.TargetTimeChange, handler);\n  }\n  onCurrentTimeChange(handler: Handler<TheTypesOfEvents[Events.CurrentTimeChange]>) {\n    return this.on(Events.CurrentTimeChange, handler);\n  }\n  onEnd(handler: Handler<TheTypesOfEvents[Events.End]>) {\n    return this.on(Events.End, handler);\n  }\n  onError(handler: Handler<TheTypesOfEvents[Events.Error]>) {\n    return this.on(Events.Error, handler);\n  }\n  onStateChange(handler: Handler<TheTypesOfEvents[Events.StateChange]>) {\n    return this.on(Events.StateChange, handler);\n  }\n  onMounted(handler: Handler<TheTypesOfEvents[Events.Mounted]>) {\n    return this.on(Events.Mounted, handler);\n  }\n  onConnected(handler: Handler<TheTypesOfEvents[Events.Connected]>) {\n    return this.on(Events.Connected, handler);\n  }\n}\n"],"mappings":"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,GAAE,EAAE,GAAE,CAAC,GAAE,EAAE,GAAE,CAAC,GAAE,EAAE,GAAE,CAAC,GAAE,EAAE,GAAE,CAAC,GAAE,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,KAAI,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG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E,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,IAAG,GAAE,KAAI,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,IAAG,GAAE,KAAI,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,IAAG,GAAE,KAAI,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,IAAG,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,GAAE,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,IAAG,KAAI,GAAG,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,KAAI,KAAI,GAAE,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAAE,CAAC,GAAE,KAAI,KAAI,IAAG,KAAI,GAAG,GAAE,CAAC,IAAG,IAAG,IAAG,IAAG,IAAG,EAAE,GAA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","names":["isNumber","m","x","isNaN","_","concatty","slicy","Empty","undefined","doEval","stringToPath","getBaseIntrinsic","markOverflow","isOverflow","getMaxIndex","setMaxIndex","compactQueue","arrayToObject","merge","m","encode","compact","isRegExp","isBuffer","combine","maybeMap","isNonNullishPrimitive","v","stringify","value","normalizeStringifyOptions","splitKeyIntoSegments","normalizeParseOptions","parse","qs","base","parse","o","h","d","y","t","e","n","m","r","v","i","s","u","g","D","_","a","M","f","l","$","c","_","e","d","t","o","r","e","t","n","i","d","h","m","y","v","all","Map","on","type","handler","handlers","get","push","set","off","splice","indexOf","emit","evt","slice","map","uid","handler","listeners","handler","_a","v","handler","btn","handler","v","handler","v","x","y","handler","handler","_a","handler","x","y","handler","handler","_a","v","x","y","handler","handler","Events","v","keys","handler","ImageStep","handler","btn","target","v","handler","_a","handler","x","y","_a","handler","_a","v","handler","v","handler","x","y","h","y","handler","x","y","_a","v","handler","handler","handler","handler","handler","disabled","checked","v","handler","OrientationTypes","Events","v","handler","_a","parse","qs","h","handler","dayjs","relative_time","visible","v","handler","Events","_a","m","theViewNeedDestroy","v","handler","h","handler","handler","h","r","data","_a","handler","v","handler","o","_a","v","handler","Events","v","h","handler"]}