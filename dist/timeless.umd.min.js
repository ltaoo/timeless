"use strict";(()=>{var ao=Object.create;var ut=Object.defineProperty,lo=Object.defineProperties,uo=Object.getOwnPropertyDescriptor,ho=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertyNames,lt=Object.getOwnPropertySymbols,fo=Object.getPrototypeOf,$t=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable;var Nt=(s,t,e)=>t in s?ut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,u=(s,t)=>{for(var e in t||(t={}))$t.call(t,e)&&Nt(s,e,t[e]);if(lt)for(var e of lt(t))Wn.call(t,e)&&Nt(s,e,t[e]);return s},B=(s,t)=>lo(s,ho(t));var re=(s,t)=>{var e={};for(var n in s)$t.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&lt)for(var n of lt(s))t.indexOf(n)<0&&Wn.call(s,n)&&(e[n]=s[n]);return e};var P=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),po=(s,t)=>{for(var e in t)ut(s,e,{get:t[e],enumerable:!0})},mo=(s,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of co(t))!$t.call(s,r)&&r!==e&&ut(s,r,{get:()=>t[r],enumerable:!(n=uo(t,r))||n.enumerable});return s};var ze=(s,t,e)=>(e=s!=null?ao(fo(s)):{},mo(t||!s||!s.__esModule?ut(e,"default",{value:s,enumerable:!0}):e,s));var o=(s,t,e)=>Nt(s,typeof t!="symbol"?t+"":t,e);var k=(s,t,e)=>new Promise((n,r)=>{var i=h=>{try{l(e.next(h))}catch(d){r(d)}},a=h=>{try{l(e.throw(h))}catch(d){r(d)}},l=h=>h.done?n(h.value):Promise.resolve(h.value).then(i,a);l((e=e.apply(s,t)).next())});var Pe=P((Gd,Cr)=>{"use strict";Cr.exports=TypeError});var wr=P(()=>{});var Ze=P((Xd,Kr)=>{var rn=typeof Map=="function"&&Map.prototype,Yt=Object.getOwnPropertyDescriptor&&rn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gt=rn&&Yt&&typeof Yt.get=="function"?Yt.get:null,Pr=rn&&Map.prototype.forEach,sn=typeof Set=="function"&&Set.prototype,Gt=Object.getOwnPropertyDescriptor&&sn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vt=sn&&Gt&&typeof Gt.get=="function"?Gt.get:null,Or=sn&&Set.prototype.forEach,Fo=typeof WeakMap=="function"&&WeakMap.prototype,Je=Fo?WeakMap.prototype.has:null,Bo=typeof WeakSet=="function"&&WeakSet.prototype,Qe=Bo?WeakSet.prototype.has:null,No=typeof WeakRef=="function"&&WeakRef.prototype,xr=No?WeakRef.prototype.deref:null,$o=Boolean.prototype.valueOf,Vo=Object.prototype.toString,qo=Function.prototype.toString,Uo=String.prototype.match,on=String.prototype.slice,Te=String.prototype.replace,Ko=String.prototype.toUpperCase,Rr=String.prototype.toLowerCase,Fr=RegExp.prototype.test,_r=Array.prototype.concat,ae=Array.prototype.join,zo=Array.prototype.slice,Dr=Math.floor,Xt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jt=Object.getOwnPropertySymbols,Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ie||!0)?Symbol.toStringTag:null,Br=Object.prototype.propertyIsEnumerable,kr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function Ar(s,t){if(s===1/0||s===-1/0||s!==s||s&&s>-1e3&&s<1e3||Fr.call(/e/,t))return t;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof s=="number"){var n=s<0?-Dr(-s):Dr(s);if(n!==s){var r=String(n),i=on.call(t,r.length+1);return Te.call(r,e,"$&_")+"."+Te.call(Te.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Te.call(t,e,"$&_")}var en=wr(),Mr=en.custom,Hr=Vr(Mr)?Mr:null,Nr={__proto__:null,double:'"',single:"'"},jo={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Kr.exports=function s(t,e,n,r){var i=e||{};if(fe(i,"quoteStyle")&&!fe(Nr,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fe(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=fe(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fe(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fe(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Ur(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return l?Ar(t,h):h}if(typeof t=="bigint"){var d=String(t)+"n";return l?Ar(t,d):d}var f=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=f&&f>0&&typeof t=="object")return tn(t)?"[Array]":"[Object]";var c=ha(i,n);if(typeof r=="undefined")r=[];else if(qr(r,t)>=0)return"[Circular]";function p(y,v,b){if(v&&(r=zo.call(r),r.push(v)),b){var E={depth:i.depth};return fe(i,"quoteStyle")&&(E.quoteStyle=i.quoteStyle),s(y,E,n+1,r)}return s(y,i,n+1,r)}if(typeof t=="function"&&!Ir(t)){var m=ta(t),g=mt(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+ae.call(g,", ")+" }":"")}if(Vr(t)){var w=Ie?Te.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Zt.call(t);return typeof t=="object"&&!Ie?Ge(w):w}if(aa(t)){for(var H="<"+Rr.call(String(t.nodeName)),C=t.attributes||[],L=0;L<C.length;L++)H+=" "+C[L].name+"="+$r(Wo(C[L].value),"double",i);return H+=">",t.childNodes&&t.childNodes.length&&(H+="..."),H+="</"+Rr.call(String(t.nodeName))+">",H}if(tn(t)){if(t.length===0)return"[]";var x=mt(t,p);return c&&!ua(x)?"["+nn(x,c)+"]":"[ "+ae.call(x,", ")+" ]"}if(Go(t)){var N=mt(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!Br.call(t,"cause")?"{ ["+String(t)+"] "+ae.call(_r.call("[cause]: "+p(t.cause),N),", ")+" }":N.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ae.call(N,", ")+" }"}if(typeof t=="object"&&a){if(Hr&&typeof t[Hr]=="function"&&en)return en(t,{depth:f-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(na(t)){var G=[];return Pr&&Pr.call(t,function(y,v){G.push(p(v,t,!0)+" => "+p(y,t))}),Lr("Map",gt.call(t),G,c)}if(ia(t)){var X=[];return Or&&Or.call(t,function(y){X.push(p(y,t))}),Lr("Set",vt.call(t),X,c)}if(ra(t))return Qt("WeakMap");if(oa(t))return Qt("WeakSet");if(sa(t))return Qt("WeakRef");if(Qo(t))return Ge(p(Number(t)));if(Zo(t))return Ge(p(Xt.call(t)));if(Xo(t))return Ge($o.call(t));if(Jo(t))return Ge(p(String(t)));if(typeof window!="undefined"&&t===window)return"{ [object Window] }";if(typeof globalThis!="undefined"&&t===globalThis||typeof global!="undefined"&&t===global)return"{ [object globalThis] }";if(!Yo(t)&&!Ir(t)){var se=mt(t,p),$=kr?kr(t)===Object.prototype:t instanceof Object||t.constructor===Object,M=t instanceof Object?"":"null prototype",Z=!$&&Xe&&Object(t)===t&&Xe in t?on.call(Ee(t),8,-1):M?"Object":"",S=$||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",O=S+(Z||M?"["+ae.call(_r.call([],Z||[],M||[]),": ")+"] ":"");return se.length===0?O+"{}":c?O+"{"+nn(se,c)+"}":O+"{ "+ae.call(se,", ")+" }"}return String(t)};function $r(s,t,e){var n=e.quoteStyle||t,r=Nr[n];return r+s+r}function Wo(s){return Te.call(String(s),/"/g,"&quot;")}function Oe(s){return!Xe||!(typeof s=="object"&&(Xe in s||typeof s[Xe]!="undefined"))}function tn(s){return Ee(s)==="[object Array]"&&Oe(s)}function Yo(s){return Ee(s)==="[object Date]"&&Oe(s)}function Ir(s){return Ee(s)==="[object RegExp]"&&Oe(s)}function Go(s){return Ee(s)==="[object Error]"&&Oe(s)}function Jo(s){return Ee(s)==="[object String]"&&Oe(s)}function Qo(s){return Ee(s)==="[object Number]"&&Oe(s)}function Xo(s){return Ee(s)==="[object Boolean]"&&Oe(s)}function Vr(s){if(Ie)return s&&typeof s=="object"&&s instanceof Symbol;if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||!Zt)return!1;try{return Zt.call(s),!0}catch(t){}return!1}function Zo(s){if(!s||typeof s!="object"||!Xt)return!1;try{return Xt.call(s),!0}catch(t){}return!1}var ea=Object.prototype.hasOwnProperty||function(s){return s in this};function fe(s,t){return ea.call(s,t)}function Ee(s){return Vo.call(s)}function ta(s){if(s.name)return s.name;var t=Uo.call(qo.call(s),/^function\s*([\w$]+)/);return t?t[1]:null}function qr(s,t){if(s.indexOf)return s.indexOf(t);for(var e=0,n=s.length;e<n;e++)if(s[e]===t)return e;return-1}function na(s){if(!gt||!s||typeof s!="object")return!1;try{gt.call(s);try{vt.call(s)}catch(t){return!0}return s instanceof Map}catch(t){}return!1}function ra(s){if(!Je||!s||typeof s!="object")return!1;try{Je.call(s,Je);try{Qe.call(s,Qe)}catch(t){return!0}return s instanceof WeakMap}catch(t){}return!1}function sa(s){if(!xr||!s||typeof s!="object")return!1;try{return xr.call(s),!0}catch(t){}return!1}function ia(s){if(!vt||!s||typeof s!="object")return!1;try{vt.call(s);try{gt.call(s)}catch(t){return!0}return s instanceof Set}catch(t){}return!1}function oa(s){if(!Qe||!s||typeof s!="object")return!1;try{Qe.call(s,Qe);try{Je.call(s,Je)}catch(t){return!0}return s instanceof WeakSet}catch(t){}return!1}function aa(s){return!s||typeof s!="object"?!1:typeof HTMLElement!="undefined"&&s instanceof HTMLElement?!0:typeof s.nodeName=="string"&&typeof s.getAttribute=="function"}function Ur(s,t){if(s.length>t.maxStringLength){var e=s.length-t.maxStringLength,n="... "+e+" more character"+(e>1?"s":"");return Ur(on.call(s,0,t.maxStringLength),t)+n}var r=jo[t.quoteStyle||"single"];r.lastIndex=0;var i=Te.call(Te.call(s,r,"\\$1"),/[\x00-\x1f]/g,la);return $r(i,"single",t)}function la(s){var t=s.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+Ko.call(t.toString(16))}function Ge(s){return"Object("+s+")"}function Qt(s){return s+" { ? }"}function Lr(s,t,e,n){var r=n?nn(e,n):ae.call(e,", ");return s+" ("+t+") {"+r+"}"}function ua(s){for(var t=0;t<s.length;t++)if(qr(s[t],`
`)>=0)return!1;return!0}function ha(s,t){var e;if(s.indent==="	")e="	";else if(typeof s.indent=="number"&&s.indent>0)e=ae.call(Array(s.indent+1)," ");else return null;return{base:e,prev:ae.call(Array(t+1),e)}}function nn(s,t){if(s.length===0)return"";var e=`
`+t.prev+t.base;return e+ae.call(s,","+e)+`
`+t.prev}function mt(s,t){var e=tn(s),n=[];if(e){n.length=s.length;for(var r=0;r<s.length;r++)n[r]=fe(s,r)?t(s[r],s):""}var i=typeof Jt=="function"?Jt(s):[],a;if(Ie){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var h in s)fe(s,h)&&(e&&String(Number(h))===h&&h<s.length||Ie&&a["$"+h]instanceof Symbol||(Fr.call(/[^\w$]/,h)?n.push(t(h,s)+": "+t(s[h],s)):n.push(h+": "+t(s[h],s))));if(typeof Jt=="function")for(var d=0;d<i.length;d++)Br.call(s,i[d])&&n.push("["+t(i[d])+"]: "+t(s[i[d]],s));return n}});var jr=P((Zd,zr)=>{"use strict";var ca=Ze(),da=Pe(),yt=function(s,t,e){for(var n=s,r;(r=n.next)!=null;n=r)if(r.key===t)return n.next=r.next,e||(r.next=s.next,s.next=r),r},fa=function(s,t){if(s){var e=yt(s,t);return e&&e.value}},pa=function(s,t,e){var n=yt(s,t);n?n.value=e:s.next={key:t,next:s.next,value:e}},ma=function(s,t){return s?!!yt(s,t):!1},ga=function(s,t){if(s)return yt(s,t,!0)};zr.exports=function(){var t,e={assert:function(n){if(!e.has(n))throw new da("Side channel does not contain "+ca(n))},delete:function(n){var r=t&&t.next,i=ga(t,n);return i&&r&&r===i&&(t=void 0),!!i},get:function(n){return fa(t,n)},has:function(n){return ma(t,n)},set:function(n,r){t||(t={next:void 0}),pa(t,n,r)}};return e}});var an=P((ef,Wr)=>{"use strict";Wr.exports=Object});var Gr=P((tf,Yr)=>{"use strict";Yr.exports=Error});var Qr=P((nf,Jr)=>{"use strict";Jr.exports=EvalError});var Zr=P((rf,Xr)=>{"use strict";Xr.exports=RangeError});var ts=P((sf,es)=>{"use strict";es.exports=ReferenceError});var rs=P((of,ns)=>{"use strict";ns.exports=SyntaxError});var is=P((af,ss)=>{"use strict";ss.exports=URIError});var as=P((lf,os)=>{"use strict";os.exports=Math.abs});var us=P((uf,ls)=>{"use strict";ls.exports=Math.floor});var cs=P((hf,hs)=>{"use strict";hs.exports=Math.max});var fs=P((cf,ds)=>{"use strict";ds.exports=Math.min});var ms=P((df,ps)=>{"use strict";ps.exports=Math.pow});var vs=P((ff,gs)=>{"use strict";gs.exports=Math.round});var Ts=P((pf,ys)=>{"use strict";ys.exports=Number.isNaN||function(t){return t!==t}});var bs=P((mf,Es)=>{"use strict";var va=Ts();Es.exports=function(t){return va(t)||t===0?t:t<0?-1:1}});var Cs=P((gf,Ss)=>{"use strict";Ss.exports=Object.getOwnPropertyDescriptor});var ln=P((vf,ws)=>{"use strict";var Tt=Cs();if(Tt)try{Tt([],"length")}catch(s){Tt=null}ws.exports=Tt});var Os=P((yf,Ps)=>{"use strict";var Et=Object.defineProperty||!1;if(Et)try{Et({},"a",{value:1})}catch(s){Et=!1}Ps.exports=Et});var Rs=P((Tf,xs)=>{"use strict";xs.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;t[e]=r;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,e);if(l.value!==r||l.enumerable!==!0)return!1}return!0}});var ks=P((Ef,Ds)=>{"use strict";var _s=typeof Symbol!="undefined"&&Symbol,ya=Rs();Ds.exports=function(){return typeof _s!="function"||typeof Symbol!="function"||typeof _s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ya()}});var un=P((bf,As)=>{"use strict";As.exports=typeof Reflect!="undefined"&&Reflect.getPrototypeOf||null});var hn=P((Sf,Ms)=>{"use strict";var Ta=an();Ms.exports=Ta.getPrototypeOf||null});var Ls=P((Cf,Is)=>{"use strict";var Ea="Function.prototype.bind called on incompatible ",ba=Object.prototype.toString,Sa=Math.max,Ca="[object Function]",Hs=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},wa=function(t,e){for(var n=[],r=e||0,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n},Pa=function(s,t){for(var e="",n=0;n<s.length;n+=1)e+=s[n],n+1<s.length&&(e+=t);return e};Is.exports=function(t){var e=this;if(typeof e!="function"||ba.apply(e)!==Ca)throw new TypeError(Ea+e);for(var n=wa(arguments,1),r,i=function(){if(this instanceof r){var f=e.apply(this,Hs(n,arguments));return Object(f)===f?f:this}return e.apply(t,Hs(n,arguments))},a=Sa(0,e.length-n.length),l=[],h=0;h<a;h++)l[h]="$"+h;if(r=Function("binder","return function ("+Pa(l,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var d=function(){};d.prototype=e.prototype,r.prototype=new d,d.prototype=null}return r}});var et=P((wf,Fs)=>{"use strict";var Oa=Ls();Fs.exports=Function.prototype.bind||Oa});var bt=P((Pf,Bs)=>{"use strict";Bs.exports=Function.prototype.call});var cn=P((Of,Ns)=>{"use strict";Ns.exports=Function.prototype.apply});var Vs=P((xf,$s)=>{"use strict";$s.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply});var Us=P((Rf,qs)=>{"use strict";var xa=et(),Ra=cn(),_a=bt(),Da=Vs();qs.exports=Da||xa.call(_a,Ra)});var dn=P((_f,Ks)=>{"use strict";var ka=et(),Aa=Pe(),Ma=bt(),Ha=Us();Ks.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Aa("a function is required");return Ha(ka,Ma,t)}});var Js=P((Df,Gs)=>{"use strict";var Ia=dn(),zs=ln(),Ws;try{Ws=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var fn=!!Ws&&zs&&zs(Object.prototype,"__proto__"),Ys=Object,js=Ys.getPrototypeOf;Gs.exports=fn&&typeof fn.get=="function"?Ia([fn.get]):typeof js=="function"?function(t){return js(t==null?t:Ys(t))}:!1});var ti=P((kf,ei)=>{"use strict";var Qs=un(),Xs=hn(),Zs=Js();ei.exports=Qs?function(t){return Qs(t)}:Xs?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Xs(t)}:Zs?function(t){return Zs(t)}:null});var ri=P((Af,ni)=>{"use strict";var La=Function.prototype.call,Fa=Object.prototype.hasOwnProperty,Ba=et();ni.exports=Ba.call(La,Fa)});var wt=P((Mf,ui)=>{"use strict";var A,Na=an(),$a=Gr(),Va=Qr(),qa=Zr(),Ua=ts(),Ne=rs(),Be=Pe(),Ka=is(),za=as(),ja=us(),Wa=cs(),Ya=fs(),Ga=ms(),Ja=vs(),Qa=bs(),ai=Function,pn=function(s){try{return ai('"use strict"; return ('+s+").constructor;")()}catch(t){}},tt=ln(),Xa=Os(),mn=function(){throw new Be},Za=tt?(function(){try{return arguments.callee,mn}catch(s){try{return tt(arguments,"callee").get}catch(t){return mn}}})():mn,Le=ks()(),z=ti(),el=hn(),tl=un(),li=cn(),nt=bt(),Fe={},nl=typeof Uint8Array=="undefined"||!z?A:z(Uint8Array),xe={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?A:ArrayBuffer,"%ArrayIteratorPrototype%":Le&&z?z([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":Fe,"%AsyncGenerator%":Fe,"%AsyncGeneratorFunction%":Fe,"%AsyncIteratorPrototype%":Fe,"%Atomics%":typeof Atomics=="undefined"?A:Atomics,"%BigInt%":typeof BigInt=="undefined"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$a,"%eval%":eval,"%EvalError%":Va,"%Float16Array%":typeof Float16Array=="undefined"?A:Float16Array,"%Float32Array%":typeof Float32Array=="undefined"?A:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?A:FinalizationRegistry,"%Function%":ai,"%GeneratorFunction%":Fe,"%Int8Array%":typeof Int8Array=="undefined"?A:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?A:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Le&&z?z(z([][Symbol.iterator]())):A,"%JSON%":typeof JSON=="object"?JSON:A,"%Map%":typeof Map=="undefined"?A:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Le||!z?A:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Na,"%Object.getOwnPropertyDescriptor%":tt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?A:Promise,"%Proxy%":typeof Proxy=="undefined"?A:Proxy,"%RangeError%":qa,"%ReferenceError%":Ua,"%Reflect%":typeof Reflect=="undefined"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?A:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Le||!z?A:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Le&&z?z(""[Symbol.iterator]()):A,"%Symbol%":Le?Symbol:A,"%SyntaxError%":Ne,"%ThrowTypeError%":Za,"%TypedArray%":nl,"%TypeError%":Be,"%Uint8Array%":typeof Uint8Array=="undefined"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?A:Uint32Array,"%URIError%":Ka,"%WeakMap%":typeof WeakMap=="undefined"?A:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?A:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?A:WeakSet,"%Function.prototype.call%":nt,"%Function.prototype.apply%":li,"%Object.defineProperty%":Xa,"%Object.getPrototypeOf%":el,"%Math.abs%":za,"%Math.floor%":ja,"%Math.max%":Wa,"%Math.min%":Ya,"%Math.pow%":Ga,"%Math.round%":Ja,"%Math.sign%":Qa,"%Reflect.getPrototypeOf%":tl};if(z)try{null.error}catch(s){si=z(z(s)),xe["%Error.prototype%"]=si}var si,rl=function s(t){var e;if(t==="%AsyncFunction%")e=pn("async function () {}");else if(t==="%GeneratorFunction%")e=pn("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=pn("async function* () {}");else if(t==="%AsyncGenerator%"){var n=s("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var r=s("%AsyncGenerator%");r&&z&&(e=z(r.prototype))}return xe[t]=e,e},ii={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},rt=et(),St=ri(),sl=rt.call(nt,Array.prototype.concat),il=rt.call(li,Array.prototype.splice),oi=rt.call(nt,String.prototype.replace),Ct=rt.call(nt,String.prototype.slice),ol=rt.call(nt,RegExp.prototype.exec),al=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ll=/\\(\\)?/g,ul=function(t){var e=Ct(t,0,1),n=Ct(t,-1);if(e==="%"&&n!=="%")throw new Ne("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Ne("invalid intrinsic syntax, expected opening `%`");var r=[];return oi(t,al,function(i,a,l,h){r[r.length]=l?oi(h,ll,"$1"):a||i}),r},hl=function(t,e){var n=t,r;if(St(ii,n)&&(r=ii[n],n="%"+r[0]+"%"),St(xe,n)){var i=xe[n];if(i===Fe&&(i=rl(n)),typeof i=="undefined"&&!e)throw new Be("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new Ne("intrinsic "+t+" does not exist!")};ui.exports=function(t,e){if(typeof t!="string"||t.length===0)throw new Be("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Be('"allowMissing" argument must be a boolean');if(ol(/^%?[^%]*%?$/,t)===null)throw new Ne("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ul(t),r=n.length>0?n[0]:"",i=hl("%"+r+"%",e),a=i.name,l=i.value,h=!1,d=i.alias;d&&(r=d[0],il(n,sl([0,1],d)));for(var f=1,c=!0;f<n.length;f+=1){var p=n[f],m=Ct(p,0,1),g=Ct(p,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new Ne("property names with quotes must have matching quotes");if((p==="constructor"||!c)&&(h=!0),r+="."+p,a="%"+r+"%",St(xe,a))l=xe[a];else if(l!=null){if(!(p in l)){if(!e)throw new Be("base intrinsic for "+t+" exists, but the property is not available.");return}if(tt&&f+1>=n.length){var w=tt(l,p);c=!!w,c&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[p]}else c=St(l,p),l=l[p];c&&!h&&(xe[a]=l)}}return l}});var gn=P((Hf,di)=>{"use strict";var hi=wt(),ci=dn(),cl=ci([hi("%String.prototype.indexOf%")]);di.exports=function(t,e){var n=hi(t,!!e);return typeof n=="function"&&cl(t,".prototype.")>-1?ci([n]):n}});var vn=P((If,pi)=>{"use strict";var dl=wt(),st=gn(),fl=Ze(),pl=Pe(),fi=dl("%Map%",!0),ml=st("Map.prototype.get",!0),gl=st("Map.prototype.set",!0),vl=st("Map.prototype.has",!0),yl=st("Map.prototype.delete",!0),Tl=st("Map.prototype.size",!0);pi.exports=!!fi&&function(){var t,e={assert:function(n){if(!e.has(n))throw new pl("Side channel does not contain "+fl(n))},delete:function(n){if(t){var r=yl(t,n);return Tl(t)===0&&(t=void 0),r}return!1},get:function(n){if(t)return ml(t,n)},has:function(n){return t?vl(t,n):!1},set:function(n,r){t||(t=new fi),gl(t,n,r)}};return e}});var gi=P((Lf,mi)=>{"use strict";var El=wt(),Ot=gn(),bl=Ze(),Pt=vn(),Sl=Pe(),$e=El("%WeakMap%",!0),Cl=Ot("WeakMap.prototype.get",!0),wl=Ot("WeakMap.prototype.set",!0),Pl=Ot("WeakMap.prototype.has",!0),Ol=Ot("WeakMap.prototype.delete",!0);mi.exports=$e?function(){var t,e,n={assert:function(r){if(!n.has(r))throw new Sl("Side channel does not contain "+bl(r))},delete:function(r){if($e&&r&&(typeof r=="object"||typeof r=="function")){if(t)return Ol(t,r)}else if(Pt&&e)return e.delete(r);return!1},get:function(r){return $e&&r&&(typeof r=="object"||typeof r=="function")&&t?Cl(t,r):e&&e.get(r)},has:function(r){return $e&&r&&(typeof r=="object"||typeof r=="function")&&t?Pl(t,r):!!e&&e.has(r)},set:function(r,i){$e&&r&&(typeof r=="object"||typeof r=="function")?(t||(t=new $e),wl(t,r,i)):Pt&&(e||(e=Pt()),e.set(r,i))}};return n}:Pt});var yn=P((Ff,vi)=>{"use strict";var xl=Pe(),Rl=Ze(),_l=jr(),Dl=vn(),kl=gi(),Al=kl||Dl||_l;vi.exports=function(){var t,e={assert:function(n){if(!e.has(n))throw new xl("Side channel does not contain "+Rl(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,r){t||(t=Al()),t.set(n,r)}};return e}});var xt=P((Bf,yi)=>{"use strict";var Ml=String.prototype.replace,Hl=/%20/g,Tn={RFC1738:"RFC1738",RFC3986:"RFC3986"};yi.exports={default:Tn.RFC3986,formatters:{RFC1738:function(s){return Ml.call(s,Hl,"+")},RFC3986:function(s){return String(s)}},RFC1738:Tn.RFC1738,RFC3986:Tn.RFC3986}});var wn=P((Nf,bi)=>{"use strict";var Il=xt(),Ll=yn(),En=Object.prototype.hasOwnProperty,Re=Array.isArray,_t=Ll(),Ti=function(t,e){return _t.set(t,e),t},Rt=function(t){return _t.has(t)},Sn=function(t){return _t.get(t)},Ei=function(t,e){_t.set(t,e)},le=(function(){for(var s=[],t=0;t<256;++t)s.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return s})(),Fl=function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(Re(n)){for(var r=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&r.push(n[i]);e.obj[e.prop]=r}}},Cn=function(t,e){for(var n=e&&e.plainObjects?{__proto__:null}:{},r=0;r<t.length;++r)typeof t[r]!="undefined"&&(n[r]=t[r]);return n},Bl=function s(t,e,n){if(!e)return t;if(typeof e!="object"&&typeof e!="function"){if(Re(t))t.push(e);else if(t&&typeof t=="object")if(Rt(t)){var r=Sn(t)+1;t[r]=e,Ei(t,r)}else(n&&(n.plainObjects||n.allowPrototypes)||!En.call(Object.prototype,e))&&(t[e]=!0);else return[t,e];return t}if(!t||typeof t!="object"){if(Rt(e)){for(var i=Object.keys(e),a=n&&n.plainObjects?{__proto__:null,0:t}:{0:t},l=0;l<i.length;l++){var h=parseInt(i[l],10);a[h+1]=e[i[l]]}return Ti(a,Sn(e)+1)}return[t].concat(e)}var d=t;return Re(t)&&!Re(e)&&(d=Cn(t,n)),Re(t)&&Re(e)?(e.forEach(function(f,c){if(En.call(t,c)){var p=t[c];p&&typeof p=="object"&&f&&typeof f=="object"?t[c]=s(p,f,n):t.push(f)}else t[c]=f}),t):Object.keys(e).reduce(function(f,c){var p=e[c];return En.call(f,c)?f[c]=s(f[c],p,n):f[c]=p,f},d)},Nl=function(t,e){return Object.keys(e).reduce(function(n,r){return n[r]=e[r],n},t)},$l=function(s,t,e){var n=s.replace(/\+/g," ");if(e==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(r){return n}},bn=1024,Vl=function(t,e,n,r,i){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var l="",h=0;h<a.length;h+=bn){for(var d=a.length>=bn?a.slice(h,h+bn):a,f=[],c=0;c<d.length;++c){var p=d.charCodeAt(c);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===Il.RFC1738&&(p===40||p===41)){f[f.length]=d.charAt(c);continue}if(p<128){f[f.length]=le[p];continue}if(p<2048){f[f.length]=le[192|p>>6]+le[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=le[224|p>>12]+le[128|p>>6&63]+le[128|p&63];continue}c+=1,p=65536+((p&1023)<<10|d.charCodeAt(c)&1023),f[f.length]=le[240|p>>18]+le[128|p>>12&63]+le[128|p>>6&63]+le[128|p&63]}l+=f.join("")}return l},ql=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],a=i.obj[i.prop],l=Object.keys(a),h=0;h<l.length;++h){var d=l[h],f=a[d];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(e.push({obj:a,prop:d}),n.push(f))}return Fl(e),t},Ul=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Kl=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},zl=function(t,e,n,r){if(Rt(t)){var i=Sn(t)+1;return t[i]=e,Ei(t,i),t}var a=[].concat(t,e);return a.length>n?Ti(Cn(a,{plainObjects:r}),a.length-1):a},jl=function(t,e){if(Re(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)};bi.exports={arrayToObject:Cn,assign:Nl,combine:zl,compact:ql,decode:$l,encode:Vl,isBuffer:Kl,isOverflow:Rt,isRegExp:Ul,maybeMap:jl,merge:Bl}});var xi=P(($f,Oi)=>{"use strict";var Ci=yn(),Dt=wn(),it=xt(),Wl=Object.prototype.hasOwnProperty,wi={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},ue=Array.isArray,Yl=Array.prototype.push,Pi=function(s,t){Yl.apply(s,ue(t)?t:[t])},Gl=Date.prototype.toISOString,Si=it.default,U={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Dt.encode,encodeValuesOnly:!1,filter:void 0,format:Si,formatter:it.formatters[Si],indices:!1,serializeDate:function(t){return Gl.call(t)},skipNulls:!1,strictNullHandling:!1},Jl=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Pn={},Ql=function s(t,e,n,r,i,a,l,h,d,f,c,p,m,g,w,H,C,L){for(var x=t,N=L,G=0,X=!1;(N=N.get(Pn))!==void 0&&!X;){var se=N.get(t);if(G+=1,typeof se!="undefined"){if(se===G)throw new RangeError("Cyclic object value");X=!0}typeof N.get(Pn)=="undefined"&&(G=0)}if(typeof f=="function"?x=f(e,x):x instanceof Date?x=m(x):n==="comma"&&ue(x)&&(x=Dt.maybeMap(x,function(F){return F instanceof Date?m(F):F})),x===null){if(a)return d&&!H?d(e,U.encoder,C,"key",g):e;x=""}if(Jl(x)||Dt.isBuffer(x)){if(d){var $=H?e:d(e,U.encoder,C,"key",g);return[w($)+"="+w(d(x,U.encoder,C,"value",g))]}return[w(e)+"="+w(String(x))]}var M=[];if(typeof x=="undefined")return M;var Z;if(n==="comma"&&ue(x))H&&d&&(x=Dt.maybeMap(x,d)),Z=[{value:x.length>0?x.join(",")||null:void 0}];else if(ue(f))Z=f;else{var S=Object.keys(x);Z=c?S.sort(c):S}var O=h?String(e).replace(/\./g,"%2E"):String(e),y=r&&ue(x)&&x.length===1?O+"[]":O;if(i&&ue(x)&&x.length===0)return y+"[]";for(var v=0;v<Z.length;++v){var b=Z[v],E=typeof b=="object"&&b&&typeof b.value!="undefined"?b.value:x[b];if(!(l&&E===null)){var _=p&&h?String(b).replace(/\./g,"%2E"):String(b),D=ue(x)?typeof n=="function"?n(y,_):y:y+(p?"."+_:"["+_+"]");L.set(t,G);var I=Ci();I.set(Pn,L),Pi(M,s(E,D,n,r,i,a,l,h,n==="comma"&&H&&ue(x)?null:d,f,c,p,m,g,w,H,C,I))}}return M},Xl=function(t){if(!t)return U;if(typeof t.allowEmptyArrays!="undefined"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys!="undefined"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder!="undefined"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=t.charset||U.charset;if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=it.default;if(typeof t.format!="undefined"){if(!Wl.call(it.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=it.formatters[n],i=U.filter;(typeof t.filter=="function"||ue(t.filter))&&(i=t.filter);var a;if(t.arrayFormat in wi?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=U.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof t.allowDots=="undefined"?t.encodeDotInKeys===!0?!0:U.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:U.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:U.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:U.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter=="undefined"?U.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:U.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:U.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:U.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:U.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:U.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:U.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:U.strictNullHandling}};Oi.exports=function(s,t){var e=s,n=Xl(t),r,i;typeof n.filter=="function"?(i=n.filter,e=i("",e)):ue(n.filter)&&(i=n.filter,r=i);var a=[];if(typeof e!="object"||e===null)return"";var l=wi[n.arrayFormat],h=l==="comma"&&n.commaRoundTrip;r||(r=Object.keys(e)),n.sort&&r.sort(n.sort);for(var d=Ci(),f=0;f<r.length;++f){var c=r[f],p=e[c];n.skipNulls&&p===null||Pi(a,Ql(p,c,l,h,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var m=a.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""}});var ki=P((Vf,Di)=>{"use strict";var be=wn(),kt=Object.prototype.hasOwnProperty,Ri=Array.isArray,q={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:be.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Zl=function(s){return s.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},_i=function(s,t,e){if(s&&typeof s=="string"&&t.comma&&s.indexOf(",")>-1)return s.split(",");if(t.throwOnLimitExceeded&&e>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return s},eu="utf8=%26%2310003%3B",tu="utf8=%E2%9C%93",nu=function(t,e){var n={__proto__:null},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=e.parameterLimit===1/0?void 0:e.parameterLimit,a=r.split(e.delimiter,e.throwOnLimitExceeded?i+1:i);if(e.throwOnLimitExceeded&&a.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var l=-1,h,d=e.charset;if(e.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===tu?d="utf-8":a[h]===eu&&(d="iso-8859-1"),l=h,h=a.length);for(h=0;h<a.length;++h)if(h!==l){var f=a[h],c=f.indexOf("]="),p=c===-1?f.indexOf("="):c+1,m,g;if(p===-1?(m=e.decoder(f,q.decoder,d,"key"),g=e.strictNullHandling?null:""):(m=e.decoder(f.slice(0,p),q.decoder,d,"key"),m!==null&&(g=be.maybeMap(_i(f.slice(p+1),e,Ri(n[m])?n[m].length:0),function(H){return e.decoder(H,q.decoder,d,"value")}))),g&&e.interpretNumericEntities&&d==="iso-8859-1"&&(g=Zl(String(g))),f.indexOf("[]=")>-1&&(g=Ri(g)?[g]:g),m!==null){var w=kt.call(n,m);w&&e.duplicates==="combine"?n[m]=be.combine(n[m],g,e.arrayLimit,e.plainObjects):(!w||e.duplicates==="last")&&(n[m]=g)}}return n},ru=function(s,t,e,n){var r=0;if(s.length>0&&s[s.length-1]==="[]"){var i=s.slice(0,-1).join("");r=Array.isArray(t)&&t[i]?t[i].length:0}for(var a=n?t:_i(t,e,r),l=s.length-1;l>=0;--l){var h,d=s[l];if(d==="[]"&&e.parseArrays)be.isOverflow(a)?h=a:h=e.allowEmptyArrays&&(a===""||e.strictNullHandling&&a===null)?[]:be.combine([],a,e.arrayLimit,e.plainObjects);else{h=e.plainObjects?{__proto__:null}:{};var f=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,c=e.decodeDotInKeys?f.replace(/%2E/g,"."):f,p=parseInt(c,10);!e.parseArrays&&c===""?h={0:a}:!isNaN(p)&&d!==c&&String(p)===c&&p>=0&&e.parseArrays&&p<=e.arrayLimit?(h=[],h[p]=a):c!=="__proto__"&&(h[c]=a)}a=h}return a},su=function(t,e){var n=e.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t;if(e.depth<=0)return!e.plainObjects&&kt.call(Object.prototype,n)&&!e.allowPrototypes?void 0:[n];var r=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=r.exec(n),l=a?n.slice(0,a.index):n,h=[];if(l){if(!e.plainObjects&&kt.call(Object.prototype,l)&&!e.allowPrototypes)return;h.push(l)}for(var d=0;(a=i.exec(n))!==null&&d<e.depth;){d+=1;var f=a[1].slice(1,-1);if(!e.plainObjects&&kt.call(Object.prototype,f)&&!e.allowPrototypes)return;h.push(a[1])}if(a){if(e.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+e.depth+" and strictDepth is true");h.push("["+n.slice(a.index)+"]")}return h},iu=function(t,e,n,r){if(t){var i=su(t,n);if(i)return ru(i,e,n,r)}},ou=function(t){if(!t)return q;if(typeof t.allowEmptyArrays!="undefined"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys!="undefined"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder!="undefined"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded!="undefined"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var e=typeof t.charset=="undefined"?q.charset:t.charset,n=typeof t.duplicates=="undefined"?q.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof t.allowDots=="undefined"?t.decodeDotInKeys===!0?!0:q.allowDots:!!t.allowDots;return{allowDots:r,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:q.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:q.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:q.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:q.arrayLimit,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:q.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:q.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:q.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:q.decoder,delimiter:typeof t.delimiter=="string"||be.isRegExp(t.delimiter)?t.delimiter:q.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:q.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:q.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:q.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:q.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:q.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:q.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}};Di.exports=function(s,t){var e=ou(t);if(s===""||s===null||typeof s=="undefined")return e.plainObjects?{__proto__:null}:{};for(var n=typeof s=="string"?nu(s,e):s,r=e.plainObjects?{__proto__:null}:{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],h=iu(l,n[l],e,typeof s=="string");r=be.merge(r,h,e)}return e.allowSparse===!0?r:be.compact(r)}});var Mi=P((qf,Ai)=>{"use strict";var au=xi(),lu=ki(),uu=xt();Ai.exports={formats:uu,parse:lu,stringify:au}});var Ii=P((Uf,Hi)=>{"use strict";Hi.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var Bi=P(On=>{"use strict";var hu=Object.prototype.hasOwnProperty,cu;function Li(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch(t){return null}}function Fi(s){try{return encodeURIComponent(s)}catch(t){return null}}function du(s){for(var t=/([^=?#&]+)=?([^&]*)/g,e={},n;n=t.exec(s);){var r=Li(n[1]),i=Li(n[2]);r===null||i===null||r in e||(e[r]=i)}return e}function fu(s,t){t=t||"";var e=[],n,r;typeof t!="string"&&(t="?");for(r in s)if(hu.call(s,r)){if(n=s[r],!n&&(n===null||n===cu||isNaN(n))&&(n=""),r=Fi(r),n=Fi(n),r===null||n===null)continue;e.push(r+"="+n)}return e.length?t+e.join("&"):""}On.stringify=fu;On.parse=du});var ji=P((zf,zi)=>{"use strict";var $i=Ii(),At=Bi(),pu=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Vi=/[\n\r\t]/g,mu=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,qi=/:\d+$/,gu=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,vu=/^[a-zA-Z]:/;function Rn(s){return(s||"").toString().replace(pu,"")}var xn=[["#","hash"],["?","query"],function(t,e){return he(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ni={hash:1,query:1};function Ui(s){var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t={};var e=t.location||{};s=s||e;var n={},r=typeof s,i;if(s.protocol==="blob:")n=new ce(unescape(s.pathname),{});else if(r==="string"){n=new ce(s,{});for(i in Ni)delete n[i]}else if(r==="object"){for(i in s)i in Ni||(n[i]=s[i]);n.slashes===void 0&&(n.slashes=mu.test(s.href))}return n}function he(s){return s==="file:"||s==="ftp:"||s==="http:"||s==="https:"||s==="ws:"||s==="wss:"}function Ki(s,t){s=Rn(s),s=s.replace(Vi,""),t=t||{};var e=gu.exec(s),n=e[1]?e[1].toLowerCase():"",r=!!e[2],i=!!e[3],a=0,l;return r?i?(l=e[2]+e[3]+e[4],a=e[2].length+e[3].length):(l=e[2]+e[4],a=e[2].length):i?(l=e[3]+e[4],a=e[3].length):l=e[4],n==="file:"?a>=2&&(l=l.slice(2)):he(n)?l=e[4]:n?r&&(l=l.slice(2)):a>=2&&he(t.protocol)&&(l=e[4]),{protocol:n,slashes:r||he(n),slashesCount:a,rest:l}}function yu(s,t){if(s==="")return t;for(var e=(t||"/").split("/").slice(0,-1).concat(s.split("/")),n=e.length,r=e[n-1],i=!1,a=0;n--;)e[n]==="."?e.splice(n,1):e[n]===".."?(e.splice(n,1),a++):a&&(n===0&&(i=!0),e.splice(n,1),a--);return i&&e.unshift(""),(r==="."||r==="..")&&e.push(""),e.join("/")}function ce(s,t,e){if(s=Rn(s),s=s.replace(Vi,""),!(this instanceof ce))return new ce(s,t,e);var n,r,i,a,l,h,d=xn.slice(),f=typeof t,c=this,p=0;for(f!=="object"&&f!=="string"&&(e=t,t=null),e&&typeof e!="function"&&(e=At.parse),t=Ui(t),r=Ki(s||"",t),n=!r.protocol&&!r.slashes,c.slashes=r.slashes||n&&t.slashes,c.protocol=r.protocol||t.protocol||"",s=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||vu.test(s))||!r.slashes&&(r.protocol||r.slashesCount<2||!he(c.protocol)))&&(d[3]=[/(.*)/,"pathname"]);p<d.length;p++){if(a=d[p],typeof a=="function"){s=a(s,c);continue}i=a[0],h=a[1],i!==i?c[h]=s:typeof i=="string"?(l=i==="@"?s.lastIndexOf(i):s.indexOf(i),~l&&(typeof a[2]=="number"?(c[h]=s.slice(0,l),s=s.slice(l+a[2])):(c[h]=s.slice(l),s=s.slice(0,l)))):(l=i.exec(s))&&(c[h]=l[1],s=s.slice(0,l.index)),c[h]=c[h]||n&&a[3]&&t[h]||"",a[4]&&(c[h]=c[h].toLowerCase())}e&&(c.query=e(c.query)),n&&t.slashes&&c.pathname.charAt(0)!=="/"&&(c.pathname!==""||t.pathname!=="")&&(c.pathname=yu(c.pathname,t.pathname)),c.pathname.charAt(0)!=="/"&&he(c.protocol)&&(c.pathname="/"+c.pathname),$i(c.port,c.protocol)||(c.host=c.hostname,c.port=""),c.username=c.password="",c.auth&&(l=c.auth.indexOf(":"),~l?(c.username=c.auth.slice(0,l),c.username=encodeURIComponent(decodeURIComponent(c.username)),c.password=c.auth.slice(l+1),c.password=encodeURIComponent(decodeURIComponent(c.password))):c.username=encodeURIComponent(decodeURIComponent(c.auth)),c.auth=c.password?c.username+":"+c.password:c.username),c.origin=c.protocol!=="file:"&&he(c.protocol)&&c.host?c.protocol+"//"+c.host:"null",c.href=c.toString()}function Tu(s,t,e){var n=this;switch(s){case"query":typeof t=="string"&&t.length&&(t=(e||At.parse)(t)),n[s]=t;break;case"port":n[s]=t,$i(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[s]="");break;case"hostname":n[s]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[s]=t,qi.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!e;break;case"pathname":case"hash":if(t){var r=s==="pathname"?"/":"#";n[s]=t.charAt(0)!==r?r+t:t}else n[s]=t;break;case"username":case"password":n[s]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<xn.length;a++){var l=xn[a];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&he(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Eu(s){(!s||typeof s!="function")&&(s=At.stringify);var t,e=this,n=e.host,r=e.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var i=r+(e.protocol&&e.slashes||he(e.protocol)?"//":"");return e.username?(i+=e.username,e.password&&(i+=":"+e.password),i+="@"):e.password?(i+=":"+e.password,i+="@"):e.protocol!=="file:"&&he(e.protocol)&&!n&&e.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||qi.test(e.hostname)&&!e.port)&&(n+=":"),i+=n+e.pathname,t=typeof e.query=="object"?s(e.query):e.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),e.hash&&(i+=e.hash),i}ce.prototype={set:Tu,toString:Eu};ce.extractProtocol=Ki;ce.location=Ui;ce.trimLeft=Rn;ce.qs=At;zi.exports=ce});var An=P((Dn,kn)=>{(function(s,t){typeof Dn=="object"&&typeof kn!="undefined"?kn.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis!="undefined"?globalThis:s||self).dayjs=t()})(Dn,(function(){"use strict";var s=1e3,t=6e4,e=36e5,n="millisecond",r="second",i="minute",a="hour",l="day",h="week",d="month",f="quarter",c="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,H={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var y=["th","st","nd","rd"],v=O%100;return"["+O+(y[(v-20)%10]||y[v]||y[0])+"]"}},C=function(O,y,v){var b=String(O);return!b||b.length>=y?O:""+Array(y+1-b.length).join(v)+O},L={s:C,z:function(O){var y=-O.utcOffset(),v=Math.abs(y),b=Math.floor(v/60),E=v%60;return(y<=0?"+":"-")+C(b,2,"0")+":"+C(E,2,"0")},m:function O(y,v){if(y.date()<v.date())return-O(v,y);var b=12*(v.year()-y.year())+(v.month()-y.month()),E=y.clone().add(b,d),_=v-E<0,D=y.clone().add(b+(_?-1:1),d);return+(-(b+(v-E)/(_?E-D:D-E))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:c,w:h,d:l,D:p,h:a,m:i,s:r,ms:n,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},x="en",N={};N[x]=H;var G="$isDayjsObject",X=function(O){return O instanceof Z||!(!O||!O[G])},se=function O(y,v,b){var E;if(!y)return x;if(typeof y=="string"){var _=y.toLowerCase();N[_]&&(E=_),v&&(N[_]=v,E=_);var D=y.split("-");if(!E&&D.length>1)return O(D[0])}else{var I=y.name;N[I]=y,E=I}return!b&&E&&(x=E),E||!b&&x},$=function(O,y){if(X(O))return O.clone();var v=typeof y=="object"?y:{};return v.date=O,v.args=arguments,new Z(v)},M=L;M.l=se,M.i=X,M.w=function(O,y){return $(O,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var Z=(function(){function O(v){this.$L=se(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[G]=!0}var y=O.prototype;return y.parse=function(v){this.$d=(function(b){var E=b.date,_=b.utc;if(E===null)return new Date(NaN);if(M.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var D=E.match(g);if(D){var I=D[2]-1||0,F=(D[7]||"0").substring(0,3);return _?new Date(Date.UTC(D[1],I,D[3]||1,D[4]||0,D[5]||0,D[6]||0,F)):new Date(D[1],I,D[3]||1,D[4]||0,D[5]||0,D[6]||0,F)}}return new Date(E)})(v),this.init()},y.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},y.$utils=function(){return M},y.isValid=function(){return this.$d.toString()!==m},y.isSame=function(v,b){var E=$(v);return this.startOf(b)<=E&&E<=this.endOf(b)},y.isAfter=function(v,b){return $(v)<this.startOf(b)},y.isBefore=function(v,b){return this.endOf(b)<$(v)},y.$g=function(v,b,E){return M.u(v)?this[b]:this.set(E,v)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(v,b){var E=this,_=!!M.u(b)||b,D=M.p(v),I=function(we,J){var me=M.w(E.$u?Date.UTC(E.$y,J,we):new Date(E.$y,J,we),E);return _?me:me.endOf(l)},F=function(we,J){return M.w(E.toDate()[we].apply(E.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(J)),E)},K=this.$W,W=this.$M,ne=this.$D,De="set"+(this.$u?"UTC":"");switch(D){case c:return _?I(1,0):I(31,11);case d:return _?I(1,W):I(0,W+1);case h:var Ce=this.$locale().weekStart||0,Ue=(K<Ce?K+7:K)-Ce;return I(_?ne-Ue:ne+(6-Ue),W);case l:case p:return F(De+"Hours",0);case a:return F(De+"Minutes",1);case i:return F(De+"Seconds",2);case r:return F(De+"Milliseconds",3);default:return this.clone()}},y.endOf=function(v){return this.startOf(v,!1)},y.$set=function(v,b){var E,_=M.p(v),D="set"+(this.$u?"UTC":""),I=(E={},E[l]=D+"Date",E[p]=D+"Date",E[d]=D+"Month",E[c]=D+"FullYear",E[a]=D+"Hours",E[i]=D+"Minutes",E[r]=D+"Seconds",E[n]=D+"Milliseconds",E)[_],F=_===l?this.$D+(b-this.$W):b;if(_===d||_===c){var K=this.clone().set(p,1);K.$d[I](F),K.init(),this.$d=K.set(p,Math.min(this.$D,K.daysInMonth())).$d}else I&&this.$d[I](F);return this.init(),this},y.set=function(v,b){return this.clone().$set(v,b)},y.get=function(v){return this[M.p(v)]()},y.add=function(v,b){var E,_=this;v=Number(v);var D=M.p(b),I=function(W){var ne=$(_);return M.w(ne.date(ne.date()+Math.round(W*v)),_)};if(D===d)return this.set(d,this.$M+v);if(D===c)return this.set(c,this.$y+v);if(D===l)return I(1);if(D===h)return I(7);var F=(E={},E[i]=t,E[a]=e,E[r]=s,E)[D]||1,K=this.$d.getTime()+v*F;return M.w(K,this)},y.subtract=function(v,b){return this.add(-1*v,b)},y.format=function(v){var b=this,E=this.$locale();if(!this.isValid())return E.invalidDate||m;var _=v||"YYYY-MM-DDTHH:mm:ssZ",D=M.z(this),I=this.$H,F=this.$m,K=this.$M,W=E.weekdays,ne=E.months,De=E.meridiem,Ce=function(J,me,Ke,at){return J&&(J[me]||J(b,_))||Ke[me].slice(0,at)},Ue=function(J){return M.s(I%12||12,J,"0")},we=De||function(J,me,Ke){var at=J<12?"AM":"PM";return Ke?at.toLowerCase():at};return _.replace(w,(function(J,me){return me||(function(Ke){switch(Ke){case"YY":return String(b.$y).slice(-2);case"YYYY":return M.s(b.$y,4,"0");case"M":return K+1;case"MM":return M.s(K+1,2,"0");case"MMM":return Ce(E.monthsShort,K,ne,3);case"MMMM":return Ce(ne,K);case"D":return b.$D;case"DD":return M.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return Ce(E.weekdaysMin,b.$W,W,2);case"ddd":return Ce(E.weekdaysShort,b.$W,W,3);case"dddd":return W[b.$W];case"H":return String(I);case"HH":return M.s(I,2,"0");case"h":return Ue(1);case"hh":return Ue(2);case"a":return we(I,F,!0);case"A":return we(I,F,!1);case"m":return String(F);case"mm":return M.s(F,2,"0");case"s":return String(b.$s);case"ss":return M.s(b.$s,2,"0");case"SSS":return M.s(b.$ms,3,"0");case"Z":return D}return null})(J)||D.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(v,b,E){var _,D=this,I=M.p(b),F=$(v),K=(F.utcOffset()-this.utcOffset())*t,W=this-F,ne=function(){return M.m(D,F)};switch(I){case c:_=ne()/12;break;case d:_=ne();break;case f:_=ne()/3;break;case h:_=(W-K)/6048e5;break;case l:_=(W-K)/864e5;break;case a:_=W/e;break;case i:_=W/t;break;case r:_=W/s;break;default:_=W}return E?_:M.a(_)},y.daysInMonth=function(){return this.endOf(d).$D},y.$locale=function(){return N[this.$L]},y.locale=function(v,b){if(!v)return this.$L;var E=this.clone(),_=se(v,b,!0);return _&&(E.$L=_),E},y.clone=function(){return M.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},O})(),S=Z.prototype;return $.prototype=S,[["$ms",n],["$s",r],["$m",i],["$H",a],["$W",l],["$M",d],["$y",c],["$D",p]].forEach((function(O){S[O[1]]=function(y){return this.$g(y,O[0],O[1])}})),$.extend=function(O,y){return O.$i||(O(y,Z,$),O.$i=!0),$},$.locale=se,$.isDayjs=X,$.unix=function(O){return $(1e3*O)},$.en=N[x],$.Ls=N,$.p={},$}))});var Yi=P((Mn,Hn)=>{(function(s,t){typeof Mn=="object"&&typeof Hn!="undefined"?Hn.exports=t(An()):typeof define=="function"&&define.amd?define(["dayjs"],t):(s=typeof globalThis!="undefined"?globalThis:s||self).dayjs_locale_zh_cn=t(s.dayjs)})(Mn,(function(s){"use strict";function t(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var e=t(s),n={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(r,i){return i==="W"?r+"\u5468":r+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(r,i){var a=100*r+i;return a<600?"\u51CC\u6668":a<900?"\u65E9\u4E0A":a<1100?"\u4E0A\u5348":a<1300?"\u4E2D\u5348":a<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return e.default.locale(n,null,!0),n}))});var Gi=P((In,Ln)=>{(function(s,t){typeof In=="object"&&typeof Ln!="undefined"?Ln.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis!="undefined"?globalThis:s||self).dayjs_plugin_relativeTime=t()})(In,(function(){"use strict";return function(s,t,e){s=s||{};var n=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(l,h,d,f){return n.fromToBase(l,h,d,f)}e.en.relativeTime=r,n.fromToBase=function(l,h,d,f,c){for(var p,m,g,w=d.$locale().relativeTime||r,H=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=H.length,L=0;L<C;L+=1){var x=H[L];x.d&&(p=f?e(l).diff(d,x.d,!0):d.diff(l,x.d,!0));var N=(s.rounding||Math.round)(Math.abs(p));if(g=p>0,N<=x.r||!x.r){N<=1&&L>0&&(x=H[L-1]);var G=w[x.l];c&&(N=c(""+N)),m=typeof G=="string"?G.replace("%d",N):G(N,h,x.l,g);break}}if(h)return m;var X=g?w.future:w.past;return typeof X=="function"?X(m):X.replace("%s",m)},n.to=function(l,h){return i(l,h,this,!0)},n.from=function(l,h){return i(l,h,this)};var a=function(l){return l.$u?e.utc():e()};n.toNow=function(l){return this.to(a(this),l)},n.fromNow=function(l){return this.from(a(this),l)}}}))});function Vt(s){return{all:s=s||new Map,on:function(t,e){var n=s.get(t);n?n.push(e):s.set(t,[e])},off:function(t,e){var n=s.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):s.set(t,[]))},emit:function(t,e){var n=s.get(t);n&&n.slice().map(function(r){r(e)}),(n=s.get("*"))&&n.slice().map(function(r){r(t,e)})}}}function go(){let s=0;return function(){return s+=1,s}}var Yn=go(),vo=(e=>(e.Loading="__loading",e.Destroy="__destroy",e))(vo||{});function ht(){let s=Vt(),t=[];return{off(e,n){s.off(e,n)},on(e,n){let r=()=>{t=t.filter(i=>i!==r),this.off(e,n)};return t.push(r),s.on(e,n),r},uid:Yn,emit(e,n){s.emit(e,n)},destroy(){for(let e=0;e<t.length;e+=1){let n=t[e];n()}this.emit("__destroy",null)}}}var T=class{constructor(t={}){o(this,"unique_id","BaseDomain");o(this,"debug",!1);o(this,"_emitter",Vt());o(this,"listeners",{});let{unique_id:e,debug:n}=t;e&&(this.unique_id=e)}uid(){return Yn()}log(...t){return this.debug?[`%c CORE %c ${this.unique_id} %c`,"color:white;background:#dfa639;border-top-left-radius:2px;border-bottom-left-radius:2px;","color:white;background:#19be6b;border-top-right-radius:2px;border-bottom-right-radius:2px;","color:#19be6b;",...t]:[]}errorTip(...t){this.debug&&console.log(`%c CORE %c ${this.unique_id} %c`,"color:white;background:red;border-top-left-radius:2px;border-bottom-left-radius:2px;","color:white;background:#19be6b;border-top-right-radius:2px;border-bottom-right-radius:2px;","color:#19be6b;",...t)}off(t,e){this._emitter.off(t,e)}offEvent(t){let e=this.listeners[t]||[];for(let n=0;n<e.length;n+=1){let r=e[n];r()}}on(t,e){let n=()=>{let i=this.listeners[t]||[];this.listeners[t]=i.filter(a=>a!==n),this.off(t,e)},r=this.listeners[t]||[];return r.push(n),this.listeners[t]=r,this._emitter.on(t,e),n}emit(t,e){this._emitter.emit(t,e)}destroy(){Object.keys(this.listeners).map(t=>{let e=this.listeners[t]||[];for(let n=0;n<e.length;n+=1){let r=e[n];r()}}),this.emit("__destroy")}onDestroy(t){return this.on("__destroy",t)}get[Symbol.toStringTag](){return"Domain"}};function Lu(s,t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{Object.defineProperty(s.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n)||Object.create(null))})})}var ct=class extends T{constructor(e={}){super(e);o(this,"value",null);let{defaultValue:n,onChange:r}=e;n&&(this.value=n),r&&this.onStateChange(r)}get state(){return this.value}select(e){this.value=e,this.emit(0,this.value)}patch(e){this.value=u(u({},this.value),e),this.emit(0,this.value)}isEmpty(){return this.value===null}clear(){this.value=null,this.emit(0)}onStateChange(e){return this.on(0,e)}};var ke=class extends T{constructor(e={}){super(e);o(this,"id",this.uid());o(this,"cur");o(this,"state",{text:"Click it",loading:!1,disabled:!1});e.disabled!==void 0&&(this.state.disabled=e.disabled),this.cur=new ct,e.onClick&&this.onClick(()=>{var n;(n=e.onClick)==null||n.call(e,this.cur.value)})}click(){this.state.loading||this.state.disabled||this.emit(0)}disable(){this.state.disabled=!0,this.emit(1,u({},this.state))}enable(){this.state.disabled=!1,this.emit(1,u({},this.state))}bind(e){return this.cur.select(e),this}setLoading(e){this.state.loading!==e&&(this.state.loading=e,this.emit(1,u({},this.state)))}onClick(e){this.on(0,e)}onStateChange(e){this.on(1,e)}},Gn=class extends T{constructor(e={}){super(e);o(this,"btns",[]);o(this,"cur",null);let{onClick:n}=e;n&&this.onClick(n)}bind(e){let n=this.btns.find(i=>i.cur.value===e);if(n)return n;let r=new ke({onClick:i=>{this.cur=r,this.emit(0,i)}});return r.bind(e),this.btns.push(r),r}clear(){this.cur=null}setLoading(e){if(this.cur===null){for(let n=0;n<this.btns.length;n+=1)this.btns[n].setLoading(e);return}this.cur.setLoading(e)}click(){this.cur!==null&&this.cur.click()}onClick(e){this.on(0,e)}onStateChange(e){this.on(1,e)}};var Y=class extends T{constructor(e={}){super(e);o(this,"name","PresenceCore");o(this,"debug",!1);o(this,"animationName","none");o(this,"mounted",!1);o(this,"enter",!1);o(this,"visible",!1);o(this,"exit",!1);let{mounted:n=!1,visible:r=!1}=e;this.mounted=n,this.visible=r,r&&(this.mounted=!0)}get state(){return{mounted:this.mounted,enter:this.enter,visible:this.visible,exit:this.exit,text:this.exit?"exit":this.enter?"enter":this.visible?"visible":"unknown"}}toggle(){if(this.visible){this.hide();return}this.show()}show(){this.mounted===!1&&(this.mounted=!0),this.exit=!1,this.enter=!0,this.visible=!0,this.emit(0,u({},this.state)),setTimeout(()=>{this.emit(2)},180)}hide(e={}){let{destroy:n=!0}=e;if(n===!1){this.exit=!0,this.enter=!1,this.emit(0,u({},this.state)),setTimeout(()=>{this.visible=!1,this.emit(4),this.emit(0,u({},this.state))},180);return}this.exit=!0,this.enter=!1,this.emit(0,u({},this.state)),setTimeout(()=>{this.visible=!1,this.emit(4),this.emit(0,u({},this.state)),this.unmount()},180)}unmount(){this.mounted=!1,this.enter=!1,this.visible=!1,this.exit=!1,this.emit(6),this.emit(0,u({},this.state))}reset(){this.mounted=!1,this.enter=!1,this.visible=!1,this.exit=!1,this.emit(0,u({},this.state))}onTmpShow(e){return this.on(3,e)}onTmpHidden(e){return this.on(5,e)}onShow(e){return this.on(2,e)}onHidden(e){return this.on(4,e)}onUnmounted(e){return this.on(6,e)}onStateChange(e){return this.on(0,e)}onPresentChange(e){return this.on(1,e)}get[Symbol.toStringTag](){return"Presence"}};var je=class extends T{constructor(e={}){super(e);o(this,"shape","checkbox");o(this,"label");o(this,"disabled");o(this,"checked");o(this,"defaultChecked");o(this,"presence");o(this,"prev_checked",!1);let{label:n="",disabled:r=!1,checked:i=!1,onChange:a}=e;this.label=n,this.disabled=r,this.checked=i,this.defaultChecked=i,this.presence=new Y,a&&this.onChange(a)}get state(){return{label:this.label,checked:this.checked,value:this.checked,disabled:this.disabled}}get value(){return this.state.value}get defaultValue(){return this.defaultChecked}toggle(){let e=this.checked;(()=>{if(e){this.presence.hide();return}this.presence.show()})(),this.checked=!0,e&&(this.checked=!1),this.prev_checked=e,this.emit(1,this.checked),this.emit(0,u({},this.state))}check(){this.checked!==!0&&(this.presence.show(),this.prev_checked=this.checked,this.checked=!0,this.emit(0,u({},this.state)))}uncheck(){this.checked!==!1&&(this.presence.hide(),this.prev_checked=this.checked,this.checked=!1,this.emit(0,u({},this.state)))}reset(){this.checked=this.defaultChecked}setValue(e){this.checked=e}onChange(e){return this.on(1,e)}onStateChange(e){return this.on(0,e)}};var ge=class extends T{constructor(e={}){super(e);o(this,"unique_id","PopperCore");o(this,"debug",!0);o(this,"placement","bottom");o(this,"strategy","absolute");o(this,"middleware",[]);o(this,"reference",null);o(this,"floating",null);o(this,"container",null);o(this,"arrow",null);o(this,"state",{strategy:"absolute",x:0,y:0,isPlaced:!1,placedSide:"bottom",placedAlign:"center",reference:!1});o(this,"_enter",!1);o(this,"_focus",!1);let{_name:n,side:r="bottom",align:i="center",strategy:a="absolute",middleware:l=[]}=e;n&&(this.unique_id=n),this.strategy=a,this.placement=r+(i!=="center"?"-"+i:"")}setReference(e,n={}){this.reference!==null&&!n.force||(this.reference=e,this.state.reference=!0,this.emit(0,e),this.emit(5,u({},this.state)))}updateReference(e){this.reference=e}removeReference(){this.reference!==null&&(this.state.reference=!1,this.reference=null,this.emit(5,u({},this.state)))}setFloating(e){e!==null&&(this.floating=e,this.emit(1,e))}setArrow(e){this.arrow=e}setContainer(e){}setConfig(e){}setState(e){this.state.x=e.x,this.state.y=e.y,this.state.isPlaced=!0,this.emit(5,u({},this.state))}place2(e){let n=this.reference;if(!n)return;let r=n.getRect(),{clientHeight:i,clientWidth:a}=window.document.documentElement,l={x:r.x,y:r.y+r.height+4};i-l.y<e.height+24&&(l.y=r.y-e.height-4),a-l.x<e.width+24&&(l.x=r.x+r.width-e.width-4),l.y<=0&&(l.y=12),this.setState(l)}place(){return k(this,null,function*(){if(this.middleware=[],this.reference===null||this.floating===null)return;let e=yield this.computePosition(),{x:n,y:r,middlewareData:i}=e,[a,l]=yo(this.placement);this.state={x:n,y:r,strategy:this.strategy,isPlaced:!0,placedSide:a,placedAlign:l,reference:!0},this.emit(5,u({},this.state))})}computePosition(){return k(this,null,function*(){let{placement:n,strategy:r}=this,i=n,a=this.reference.getRect(),l=this.floating.getRect(),h={reference:a,floating:l},{x:d,y:f}=this.computeCoordsFromPlacement(h,n,!0),c={};for(let p=0;p<this.middleware.length;p++){let{name:m,fn:g}=this.middleware[p],{x:w,y:H,data:C,reset:L}=yield g({x:d,y:f,initialPlacement:n,placement:i,strategy:r,middlewareData:c,rects:h,elements:{reference:a,floating:l}});d=w!=null?w:d,f=H!=null?H:f,c=B(u({},c),{[m]:u(u({},c[m]),C)})}return{x:d,y:f,placement:i,strategy:r,middlewareData:c}})}computeCoordsFromPlacement(e,n,r){let{reference:i,floating:a}=e;console.log("computeCoordsFromPlacement",i,a);let l=i.x+i.width/2-a.width/2,h=i.y+i.height/2-a.height/2,d=To(n),f=Eo(d),c=i[f]/2-a[f]/2,p=Jn(n),m=d==="x",g;switch(p){case"top":g={x:l,y:i.y-a.height};break;case"bottom":g={x:l,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:h};break;case"left":g={x:i.x-a.width,y:h};break;default:g={x:i.x,y:i.y}}switch(bo(n)){case"start":g[d]-=c*(r&&m?-1:1);break;case"end":g[d]+=c*(r&&m?-1:1);break;default:}return g}handleEnter(){this._enter!==!0&&(this._enter=!0,this.emit(3))}handleLeave(){this._enter!==!1&&(this._enter=!1,this.emit(4))}reset(){this._enter=!1,this._focus=!1}onReferenceMounted(e){return this.on(0,e)}onFloatingMounted(e){return this.on(1,e)}onContainerChange(e){return this.on(6,e)}onEnter(e){return this.on(3,e)}onLeave(e){return this.on(4,e)}onPlaced(e){return this.on(2,e)}onStateChange(e){return this.on(5,e)}get[Symbol.toStringTag](){return"PopperCore"}};function yo(s){let[t,e="center"]=s.split("-");return[t,e]}function Jn(s){return s.split("-")[0]}function To(s){return["top","bottom"].includes(Jn(s))?"x":"y"}function Eo(s){return s==="y"?"height":"width"}function bo(s){return s.split("-")[1]}var ve=class extends T{constructor(e={}){super(e);o(this,"name","DismissableLayerCore");o(this,"layers",new Set);o(this,"layersWithOutsidePointerEventsDisabled",new Set);o(this,"branches",new Set);o(this,"isPointerInside",!1);o(this,"state",{})}handlePointerOutside(e){}pointerDown(){this.isPointerInside=!0}handlePointerDownOnTop(e){if(this.isPointerInside===!0){this.isPointerInside=!1;return}this.emit(2),this.emit(3),this.emit(0)}onDismiss(e){return this.on(0,e)}};var Ae=class extends T{constructor(e={}){super(e);o(this,"_name","MenuCore");o(this,"debug",!1);o(this,"popper");o(this,"presence");o(this,"layer");o(this,"open_timer",null);o(this,"state",{open:!1,hover:!1,items:[]});o(this,"items",[]);o(this,"cur_sub",null);o(this,"cur_item",null);o(this,"inside",!1);o(this,"in_sub_menu",!1);o(this,"maybe_hide_sub",!1);o(this,"hide_sub_timer",null);let{_name:n,items:r=[],side:i,align:a,strategy:l}=e;n&&(this._name=n),this.state.items=r,this.items=r,this.popper=new ge({side:i,align:a,strategy:l,_name:n?`${n}__popper`:"menu__popper"}),this.presence=new Y,this.layer=new ve,this.listen_items(r),this.popper.onEnter(()=>{this.state.hover=!0,this.emit(4)}),this.popper.onLeave(()=>{this.state.hover=!1,this.emit(5)}),this.layer.onDismiss(()=>{this.hide()}),this.presence.onHidden(()=>{this.reset(),this.cur_item&&this.cur_item.blur(),this.cur_sub&&this.cur_sub.hide()})}toggle(){let{open:e}=this.state;if(console.log("[DOMAIN]ui/dropdown-menu - toggle",e),e){this.hide();return}this.show()}show(){this.state.open||(this.state.open=!0,this.presence.show(),this.popper.place(),this.emit(0),this.emit(6,u({},this.state)))}hide(){this.state.open!==!1&&(this.state.open=!1,this.presence.hide(),this.emit(1),this.emit(6,u({},this.state)))}listen_item(e){if(e.onEnter(()=>{var r;console.log("[DOMAIN]ui/menu/index - item.onEnter",e.label,e.menu,(r=this.cur_item)==null?void 0:r.label),this.emit(2,e),e.menu&&e.menu.show(),this.cur_item&&this.cur_item!==e&&(this.cur_item.blur(),this.cur_item.menu&&this.cur_item.menu.hide()),this.cur_item=e}),e.onLeave(()=>{var r;if(console.log("[DOMAIN]ui/menu/index - item.onLeave",e.label,{open:e._open,focused:e._focused},(r=e.menu)==null?void 0:r.state),this.emit(3,e),e.blur(),e.menu){let i=setTimeout(()=>{e.menu.hide()},0);e.menu.onEnter(()=>{console.log("[DOMAIN]ui/menu/index - item.menu.onEnter"),i&&clearTimeout(i)});return}}),!e.menu)return;let n=e.menu}listen_items(e){for(let n=0;n<e.length;n+=1)this.listen_item(e[n])}setItems(e){console.log("[DOMAIN]ui/menu - set items",e),this.state.items=e,this.items=e,this.listen_items(e),this.emit(6,u({},this.state))}checkNeedHideSubMenu(e){}reset(){this.in_sub_menu=!1,this.cur_sub=null,this.maybe_hide_sub=!1,this.hide_sub_timer=null,this.state.open=!1,this.presence.reset(),this.popper.reset();for(let e=0;e<this.items.length;e+=1)this.items[e].reset()}unmount(){super.destroy(),this.layer.destroy(),this.popper.destroy(),this.presence.unmount();for(let e=0;e<this.items.length;e+=1)this.items[e].unmount();this.reset()}onShow(e){return this.on(0,e)}onHide(e){return this.on(1,e)}onEnterItem(e){return this.on(2,e)}onLeaveItem(e){return this.on(3,e)}onEnter(e){return this.on(4,e)}onLeave(e){return this.on(5,e)}onStateChange(e){return this.on(6,e)}get[Symbol.toStringTag](){return"Menu"}},Qn=["Enter"," "],So=["ArrowDown","PageUp","Home"],Co=["ArrowUp","PageDown","End"],yh=[...So,...Co],Th={ltr:[...Qn,"ArrowRight"],rtl:[...Qn,"ArrowLeft"]};var Xn=class extends T{constructor(e){super(e);o(this,"menu");o(this,"state",{items:[]});let{_name:n,items:r=[]}=e;this.state.items=r,this.menu=new Ae(B(u({},e),{_name:n?`${n}__menu`:"menu-in-context-menu",side:"right",align:"start"}))}show(e={}){let{x:n,y:r}=e;this.updateReference(B(u({},this.menu.popper.reference),{getRect:()=>({width:5,height:5,left:n,top:r,x:n,y:r})})),this.menu.show()}hide(){console.log("[]ContextMenuCore - hide"),this.menu.hide()}setReference(e){this.menu.popper.setReference(e)}updateReference(e){this.menu.popper.updateReference(e)}setItems(e){this.state.items=e,this.emit(0,u({},this.state))}onStateChange(e){this.on(0,e)}onShow(e){this.on(1,e)}onHide(e){this.on(2,e)}};var Zn=class extends T{constructor(e={}){super(e);o(this,"open",!1);o(this,"title","");o(this,"footer",!0);o(this,"closeable",!0);o(this,"mask",!0);o(this,"present",new Y);o(this,"okBtn",new ke);o(this,"cancelBtn",new ke);let{title:n,footer:r=!0,open:i=!1,mask:a=!0,closeable:l=!0,onOk:h,onCancel:d,onUnmounted:f}=e;n&&(this.title=n),this.footer=r,this.closeable=l,this.mask=a,this.open=i,i&&this.present.show(),h&&this.onOk(h),d&&this.onCancel(d),f&&this.onUnmounted(f),this.present.onShow(()=>k(this,null,function*(){this.open=!0,this.emit(5,!0),this.emit(1),this.emit(10,u({},this.state))})),this.present.onHidden(()=>k(this,null,function*(){this.open=!1,this.emit(6),this.emit(3),this.emit(5,!1),this.emit(10,u({},this.state))})),this.present.onUnmounted(()=>{this.emit(4)}),this.present.onStateChange(()=>{this.emit(10,u({},this.state))}),this.okBtn.onClick(()=>{this.ok()}),this.cancelBtn.onClick(()=>{this.hide()})}get state(){return{open:this.open,title:this.title,footer:this.footer,closeable:this.closeable,mask:this.mask,enter:this.present.state.enter,visible:this.present.state.visible,exit:this.present.state.exit}}toggle(){if(this.open){this.present.hide();return}this.present.show()}show(){this.open||this.present.show()}hide(e={}){this.present.hide(e)}ok(){this.emit(7)}cancel(){this.emit(6)}setTitle(e){this.title=e,this.emit(10,u({},this.state))}onShow(e){return this.on(1,e)}onHidden(e){return this.on(3,e)}onUnmounted(e){return this.on(4,e)}onVisibleChange(e){return this.on(5,e)}onOk(e){return this.on(7,e)}onCancel(e){return this.on(6,e)}onStateChange(e){return this.on(10,e)}get[Symbol.toStringTag](){return"Dialog"}};var er=class extends T{constructor(e={}){super(e);o(this,"open",!1);o(this,"disabled",!1);o(this,"menu");o(this,"subs",[]);o(this,"items",[]);let{_name:n,side:r,align:i,items:a=[],onHidden:l}=e;this.items=a,this.menu=new Ae({side:r,align:i,items:a,_name:n?`${n}__menu`:"menu-in-dropdown"}),this.menu.onHide(()=>{this.menu.reset(),l&&l()}),this.menu.presence.onStateChange(()=>{this.emit(0,u({},this.state))})}get state(){var e,n,r;return{items:this.items,open:this.open,disabled:this.disabled,enter:(e=this.menu.presence)==null?void 0:e.state.enter,visible:(n=this.menu.presence)==null?void 0:n.state.visible,exit:(r=this.menu.presence)==null?void 0:r.state.exit}}listenItems(e){for(let n=0;n<e.length;n+=1){let r=e[n]}}setItems(e){this.items=e,this.emit(0,u({},this.state))}showMenuItem(e){let n=this.items.find(r=>r.label===e);n&&n.show()}toggle(e){if(e){let{x:n,y:r,width:i=8,height:a=8}=e;this.menu.popper.updateReference({getRect(){return{width:i,height:a,x:n,y:r}}})}this.menu.toggle()}hide(){this.menu.hide()}unmount(){super.destroy(),this.menu.unmount()}onStateChange(e){this.on(0,e)}};var tr=class extends T{constructor(e={}){super(e);o(this,"name","FocusScopeCore");o(this,"state",{paused:!1})}pause(){this.state.paused=!0,this.emit(0,u({},this.state))}resume(){this.state.paused=!1,this.emit(0,u({},this.state))}focusin(){this.emit(1)}focusout(){this.emit(2)}onFocusin(e){this.on(1,e)}onFocusout(e){this.on(2,e)}onStateChange(e){this.on(0,e)}};var ye=class extends Error{constructor(e,n,r=null){super(e.join(`
`));o(this,"messages");o(this,"code");o(this,"data",null);this.messages=e,this.code=n,this.data=r}};var R={Ok:s=>({data:s,error:null}),Err:(s,t,e=null)=>({data:e,code:t,error:Array.isArray(s)?new ye(s,t,e):typeof s=="string"?new ye([s],t,e):s instanceof ye?s:typeof s=="object"?new ye([s.message],t,e):s?s.error:new ye(["\u672A\u77E5\u9519\u8BEF"],t,e)})};function Gh(s){let{fields:t}=s,e=t,n={},r=!1,i={get value(){return n},get fields(){return Object.values(e)},get inline(){return r}},a;(w=>(w[w.Input=0]="Input",w[w.Submit=1]="Submit",w[w.Change=2]="Change",w[w.StateChange=3]="StateChange"))(a||(a={}));let l=ht();function h(c,p){n[c]=p}function d(c,p){n[c]=p,l.emit(2,u({},i.value))}let f=Object.keys(e);for(let c=0;c<f.length;c+=1){let p=e[f[c]];h(p.name,p.$input.value),p.$input.onChange(m=>{console.log("[DOMAIN]ui/form/index - updateValues",p.name,m),d(p.name,m)}),p.onShow(()=>{d(p.name,p.$input.value)}),p.onHide(()=>{delete n[p.name],l.emit(2,u({},i.value))})}return{symbol:"FormCore",shape:"form",state:i,get value(){return n},get fields(){return e},setValue(c,p={}){let m=Object.keys(e);for(let g=0;g<m.length;g+=1)e[m[g]].$input.setValue(c[m[g]],{silence:!0});n=c,p.silence||l.emit(2,i.value)},setInline(c){r=c,l.emit(3,u({},i))},input(c,p){n[c]=p,l.emit(2,i.value)},submit(){l.emit(1,i.value)},validate(){return R.Ok(n)},onSubmit(c){l.on(1,c)},onInput(c){l.on(2,c)},onChange(c){return l.on(2,c)},onStateChange(c){return l.on(3,c)}}}var wo=(r=>(r[r.Pending=0]="Pending",r[r.Loading=1]="Loading",r[r.Loaded=2]="Loaded",r[r.Failed=3]="Failed",r))(wo||{}),Me=class Me extends T{constructor(e){super();o(this,"unique_uid");o(this,"src");o(this,"width");o(this,"height");o(this,"scale",null);o(this,"fit");o(this,"step",0);o(this,"realSrc");let{unique_id:n,width:r=200,height:i=200,src:a,scale:l,fit:h="cover"}=e;this.width=r,this.height=i,this.src="",this.fit=h,this.realSrc=a,l&&(this.scale=l),n&&(this.unique_uid=n)}static url(e){return e?e.includes("http")||e.startsWith("data:image")?e:Me.prefix+e:""}get state(){return{src:this.src,step:this.step,width:this.width,height:this.height,scale:this.scale}}setURL(e){if(e){if(this.realSrc&&e!==this.realSrc){this.realSrc=e,this.handleShow();return}this.realSrc=e,this.step===2&&(this.src=Me.url(this.realSrc),this.emit(0,u({},this.state)))}}setLoaded(){this.step=2,this.emit(2),this.emit(0,u({},this.state))}handleShow(){if(!this.realSrc){this.step=3,this.emit(0,u({},this.state));return}this.step=1,this.src=Me.url(this.realSrc),this.emit(0,u({},this.state))}handleLoaded(){this.setLoaded()}handleError(){this.step=3,this.emit(0,u({},this.state)),this.emit(3)}onStateChange(e){return this.on(0,e)}onStartLoad(e){return this.on(1,e)}onLoad(e){return this.on(2,e)}onError(e){return this.on(3,e)}};o(Me,"prefix","");var qt=Me,nr=class extends T{constructor(e={}){super(e);o(this,"btns",[]);o(this,"cur",null);o(this,"scale",null);let{scale:n}=e;n&&(this.scale=n)}bind(e){let n=this.btns.find(i=>i.unique_id===e);if(n)return n;let r=new qt({src:e,scale:this.scale||void 0});return this.btns.push(r),r}select(e){let n=this.btns.find(r=>r.unique_id===e);n&&(this.cur=n)}clear(){this.cur=null}onStateChange(e){this.on(0,e)}};var Ut=class extends T{constructor(e){super(e);o(this,"shape","input");o(this,"defaultValue");o(this,"value");o(this,"placeholder");o(this,"disabled");o(this,"allowClear",!0);o(this,"autoComplete",!1);o(this,"autoFocus",!1);o(this,"ignoreEnterEvent",!1);o(this,"isFocus",!1);o(this,"type");o(this,"loading",!1);o(this,"valueUsed");o(this,"tmpType","");let{unique_id:n,defaultValue:r,placeholder:i="\u8BF7\u8F93\u5165",type:a="string",disabled:l=!1,autoFocus:h=!1,autoComplete:d=!1,ignoreEnterEvent:f=!1,onChange:c,onBlur:p,onEnter:m,onClear:g,onMounted:w}=e;n&&(this.unique_id=n),this.placeholder=i,this.type=a,this.disabled=l,this.autoComplete=d,this.ignoreEnterEvent=f,this.autoFocus=h,this.defaultValue=r,this.value=r,c&&this.onChange(c),m&&this.onEnter(()=>{m(this.value)}),e.onKeyDown&&this.onKeyDown(e.onKeyDown),p&&this.onBlur(p),g&&this.onClear(g),w&&this.onMounted(w)}get state(){return{value:this.value,placeholder:this.placeholder,disabled:this.disabled,focus:this.isFocus,loading:this.loading,type:this.type,tmpType:this.tmpType,autoComplete:this.autoComplete,autoFocus:this.autoFocus,allowClear:this.allowClear}}setMounted(){this.emit(12)}handleKeyDown(e){if(!this.ignoreEnterEvent&&e.key==="Enter"){this.handleEnter();return}this.emit(16,e)}handleEnter(){this.valueUsed=this.value,this.emit(15,this.value)}handleFocus(){this.isFocus=!0}handleBlur(){this.value!==this.valueUsed&&(this.valueUsed=this.value,this.emit(14,this.value))}handleClick(e){this.emit(18,e)}handleChange(e){if(this.type==="file"){let{target:i}=e,{files:a}=i;this.setValue(a);return}let{target:n}=e,{value:r}=n;this.setValue(r)}setValue(e,n={}){this.value=e,this.type==="number"&&(this.value=Number(e)),n.silence||(this.emit(10,e),this.emit(11,u({},this.state)))}setPlaceholder(e){this.placeholder=e,this.emit(11,u({},this.state))}setLoading(e){this.loading=e,this.emit(11,u({},this.state))}setFocus(){this.isFocus=!0,this.emit(11,u({},this.state))}focus(){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 focus \u65B9\u6CD5")}enable(){this.disabled=!0,this.emit(11,u({},this.state))}disable(){this.disabled=!1,this.emit(11,u({},this.state))}showText(){this.tmpType="text",this.emit(11,u({},this.state))}hideText(){this.tmpType="",this.emit(11,u({},this.state))}clear(){this.value=this.defaultValue,this.emit(17),this.emit(11,u({},this.state))}reset(){this.value=this.defaultValue,this.emit(11,u({},this.state))}enter(){this.emit(15)}onChange(e){return this.on(10,e)}onStateChange(e){return this.on(11,e)}onMounted(e){return this.on(12,e)}onFocus(e){return this.on(13,e)}onBlur(e){return this.on(14,e)}onKeyDown(e){return this.on(16,e)}onEnter(e){return this.on(15,e)}onClick(e){return this.on(18,e)}onClear(e){return this.on(17,e)}},rr=class extends T{constructor(e){super(e);o(this,"defaultValue");o(this,"list",[]);o(this,"cached",{});o(this,"values",new Map);let{defaultValue:n}=e;this.defaultValue=n}bind(e,n={}){let{defaultValue:r=this.defaultValue}=n,i=this.cached[e];if(i)return i;let a=new Ut({defaultValue:r,onChange:l=>{this.values.set(e,l),this.emit(10,[e,l])}});return this.list.push(a),this.values.set(e,r),this.cached[e]=a,a}getCur(e){let n=this.cached[e];return n||null}setValue(e){for(let n=0;n<this.list.length;n+=1)this.list[n].setValue(e)}clear(){this.list=[],this.cached={},this.values=new Map}getValueByUniqueId(e){var n;return(n=this.values.get(e))!=null?n:null}toJson(e){let n=[];for(let[r,i]of this.values){let a=e([r,i]);n.push(a)}return n}onChange(e){this.on(10,e)}onStateChange(e){this.on(11,e)}};var sr=class extends T{handleShow(){this.emit(3)}onVisible(t){return this.on(3,t)}onClick(t){return this.on(0,t)}};var dt=class extends T{constructor(e={}){super();o(this,"popper");o(this,"present");o(this,"layer");o(this,"_side");o(this,"_align");o(this,"_closeable");o(this,"visible",!1);o(this,"enter",!1);o(this,"exit",!1);let{side:n="bottom",align:r="end",strategy:i,closeable:a=!0}=e;this._side=n,this._align=r,this._closeable=a,this.popper=new ge({side:n,align:r,strategy:i}),this.present=new Y,this.layer=new ve,this.layer.onDismiss(()=>{console.log("[DOMAIN/ui]popover/index - onDismiss"),this.hide()}),this.present.onStateChange(()=>{this.emit(2,u({},this.state))}),this.popper.onStateChange(()=>{this.emit(2,u({},this.state))})}get state(){return{isPlaced:this.popper.state.isPlaced,closeable:this._closeable,x:this.popper.state.x,y:this.popper.state.y,enter:this.present.state.enter,visible:this.present.state.visible,exit:this.present.state.exit}}ready(){}destroy(){}toggle(e){console.log("[DOMAIN/ui]popover/index - toggle");let{visible:n}=this;if(n){this.hide();return}if(e){let{x:r,y:i,width:a=8,height:l=8}=e;this.popper.updateReference({getRect(){return{width:a,height:l,x:r,y:i}}})}this.show()}show(e){var n;console.log((n=this.popper.reference)==null?void 0:n.getRect()),e&&this.popper.updateReference({getRect(){let{x:r=0,y:i=0,width:a=0,height:l=0,left:h=0,top:d=0,right:f=0,bottom:c=0}=e;return{width:a,height:l,x:r,y:i,left:h,top:d,right:f,bottom:c}}}),this.visible=!0,this.present.show(),this.popper.place(),this.emit(0)}hide(){this.visible!==!1&&(this.visible=!1,this.present.hide(),this.emit(1))}unmount(){super.destroy(),this.layer.destroy(),this.popper.destroy(),this.present.unmount()}onShow(e){return this.on(0,e)}onHide(e){return this.on(1,e)}onStateChange(e){return this.on(2,e)}get[Symbol.toStringTag](){return"PopoverCore"}};var Po=100;var ir=class extends T{constructor(e){super();o(this,"_value");o(this,"_label");o(this,"_max");let{value:n,max:r,getValueLabel:i=Oo}=e,a=Ro(r)?r:Po;this._max=a;let l=_o(n,a)?n:null;this._value=l;let h=Kt(l)?i(l,a):void 0;this._label=h}get state(){var e;return{state:xo(this._value,this._max),value:(e=this._value)!=null?e:void 0,max:this._max,label:this._label}}setValue(e){this._value=e,this.emit(0,e),this.emit(1,this.state)}update(e){this._value=e,this.emit(0,e),this.emit(1,this.state)}onValueChange(e){this.on(0,e)}onStateChange(e){this.on(1,e)}};function Oo(s,t){return`${Math.round(s/t*100)}%`}function xo(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function Kt(s){return typeof s=="number"}function Ro(s){return Kt(s)&&!isNaN(s)&&s>0}function _o(s,t){return Kt(s)&&!isNaN(s)&&s<=t&&s>=0}var He=class extends T{constructor(){super(...arguments);o(this,"itemMap",new Map)}setWrap(e){}add(e,n){this.itemMap.set(e,n)}remove(e){this.itemMap.delete(e)}getItems(){return Array.from(this.itemMap.values())}};var ft=class extends T{constructor(e={}){super(e);o(this,"collection");o(this,"state",{currentTabStopId:null,orientation:"horizontal",dir:"ltr"});let{_name:n}=e;this.collection=new He}focusItem(e){this.emit(0,e)}shiftTab(){this.emit(1)}addFocusableItem(){this.emit(2)}removeFocusableItem(){this.emit(3)}onStateChange(e){this.on(4,e)}onItemFocus(e){this.on(0,e)}onItemShiftTab(e){this.on(1,e)}onFocusableItemAdd(e){this.on(2,e)}onFocusableItemRemove(e){this.on(3,e)}};function zt(s){return s.touches?{x:s.touches[0].pageX,y:s.touches[0].pageY}:s.clientX&&s.clientY?{x:s.clientX,y:s.clientY}:{x:0,y:0}}function We(s){s&&s.cancelable&&!s.defaultPrevented&&s.preventDefault&&s.preventDefault()}function or(s,t){let e=Math.abs(s);return e=.82231*t/(1+4338.47/Math.pow(e,1.14791)),Math.round(s<0?-e:e)}function ar(s,t){let e=Math.abs(s.x-t.x),n=Math.abs(s.y-t.y),r=Math.sqrt(e*e+n*n);return r!==0?Math.asin(n/r)/Math.PI*180:0}var jt=null;function Hc(s){jt=s}var lr=class extends T{constructor(e={}){super(e);o(this,"os",{android:!0,ios:!1,pc:!1,wechat:!1});o(this,"rect",{width:0,height:0,scrollTop:0,contentHeight:0});o(this,"disabled",!1);o(this,"canPullToRefresh");o(this,"canReachBottom",!0);o(this,"needHideIndicator",!1);o(this,"scrollable",!0);o(this,"pullToRefresh",{step:"pending",pullStartX:0,pullStartY:0,pullMoveX:0,pullMoveY:0,distX:0,distY:0,distResisted:0});o(this,"threshold",120);o(this,"options");o(this,"pullToRefreshOptions");o(this,"isPullToRefreshing",!1);o(this,"isLoadingMore",!1);o(this,"startPoint",null);o(this,"lastPoint",{x:0,y:0});o(this,"downHight",0);o(this,"upHight",0);o(this,"maxTouchMoveInstanceY",0);o(this,"inTouchEnd",!1);o(this,"inTopWhenPointDown",!1);o(this,"inBottomWhenPointDown",!1);o(this,"isMoveDown",!1);o(this,"isMoveUp",!1);o(this,"isScrollTo",!1);o(this,"movetype","pending");o(this,"preScrollY",0);o(this,"isUpAutoLoad",!1);o(this,"startPullToRefresh",()=>{this.isPullToRefreshing||(this.isPullToRefreshing=!0,this.downHight=this.pullToRefreshOptions.offset,this.setIndicatorHeightTransition(!0),this.changeIndicatorHeight(this.downHight),this.emit(3))});o(this,"finishPullToRefresh",()=>{this.isPullToRefreshing&&(this.downHight=0,this.changeIndicatorHeight(0),this.isPullToRefreshing=!1,this.emit(4))});o(this,"disablePullToRefresh",()=>{this.pullToRefreshOptions.isLock=!0});o(this,"enablePullToRefresh",()=>{this.pullToRefreshOptions.isLock=!1});o(this,"handleMouseDown",e=>{this.handlePointDown(e)});o(this,"handleMouseMove",e=>{this.handlePointMove(e)});o(this,"handleTouchStart",e=>{this.handlePointDown(e)});o(this,"handleTouchMove",e=>{this.handlePointMove(e)});o(this,"handlePointDown",e=>{this.isScrollTo&&We(e);let n=zt(e);if(n.x<30){this.startPoint=null,We(e);return}this.startPoint=n,this.lastPoint=this.startPoint,this.maxTouchMoveInstanceY=this.getBodyHeight()-this.pullToRefreshOptions.bottomOffset,this.inTouchEnd=!1;let r=this.getScrollTop();this.inTopWhenPointDown=r===0});o(this,"handlePointMove",e=>{if(!this.startPoint)return;let n=this.getScrollTop();n>0&&(this.inTopWhenPointDown=!1);let r=zt(e),i=r.y-this.startPoint.y;if(i>0&&n<=0&&(We(e),this.canPullToRefresh&&!this.inTouchEnd&&!this.isPullToRefreshing)){if(!this.inTopWhenPointDown)return;let a=ar(this.lastPoint,r);if(a&&a<this.pullToRefreshOptions.minAngle)return;if(this.maxTouchMoveInstanceY>0&&r.y>=this.maxTouchMoveInstanceY){this.inTouchEnd=!0,this.handleTouchEnd();return}this.downHight<this.pullToRefreshOptions.offset?this.movetype!=="pulling"&&(this.movetype==="pending"&&(this.setIndicatorHeightTransition(!1),this.os.ios&&!this.inTopWhenPointDown&&this.optimizeScroll(!0)),this.movetype,this.movetype="pulling",this.emit(0),this.isMoveDown=!0):this.movetype!=="releasing"&&(this.movetype="releasing",this.emit(1),this.isMoveDown=!0),this.downHight=or(r.y-this.startPoint.y,1e3),this.changeIndicatorHeight(this.downHight),this.emit(2,{instance:this.downHight})}if(i<0){let a=this.getScrollHeight(),l=this.getScrollClientHeight();a-l-n<=0&&We(e)}this.lastPoint=r});o(this,"handleTouchEnd",()=>{this.canPullToRefresh&&this.isMoveDown&&(this.downHight>=this.pullToRefreshOptions.offset?this.startPullToRefresh():(this.downHight=0,this.setIndicatorHeightTransition(!0),this.changeIndicatorHeight(0)),this.optimizeScroll(!1),this.movetype="pending",this.isMoveDown=!1)});o(this,"handleScrolling",()=>{let e=this.getScrollTop(),n=e-this.preScrollY>0;this.isLoadingMore||this.getScrollHeight()-this.getScrollClientHeight()-e<=this.threshold&&n&&(this.isLoadingMore=!0,this.emit(8)),this.emit(7,{scrollTop:e})});o(this,"setBounce",e=>{console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 setBounce \u65B9\u6CD5")});o(this,"hideIndicator",()=>{console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 hideIndicator \u65B9\u6CD5")});o(this,"scrollTo",(e,n=300)=>{console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 scrollTo \u65B9\u6CD5")});o(this,"destroy",()=>{console.error("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 destroy \u65B9\u6CD5")});let{os:n,offset:r=80,disabled:i=!1,onScroll:a,onReachBottom:l,onPullToRefresh:h,onPullToBack:d}=e;this.options=e,this.disabled=i,n&&(this.os=n),this.pullToRefreshOptions={isLock:!1,offset:r,bottomOffset:20,minAngle:45},this.canPullToRefresh=!!h,this.canPullToRefresh||(this.needHideIndicator=!0),this.needHideIndicator&&(this.pullToRefreshOptions.offset=9999),a&&this.onScroll(a),l&&this.onReachBottom(l),h&&this.onPullToRefresh(h),jt&&jt(this)}get state(){return{top:0,left:0,step:this.movetype,scrollTop:this.downHight,pullToRefresh:this.canPullToRefresh,scrollable:this.scrollable}}setReady(){this.emit(9)}setRect(e){this.rect=u(u({},this.rect),e)}finishLoadingMore(){this.isLoadingMore=!1}setMounted(){this.emit(9)}refreshRect(){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 refreshRect \u65B9\u6CD5")}changeIndicatorHeight(e){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 changeDownIndicatorHeight \u65B9\u6CD5")}setIndicatorHeightTransition(e){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 addDownIndicatorHeightTransition \u65B9\u6CD5")}optimizeScroll(e){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 optimizeScroll \u65B9\u6CD5")}getToBottom(){return this.getScrollHeight()-this.getScrollClientHeight()-this.getScrollTop()}getOffsetTop(e){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 getScrollHeight \u65B9\u6CD5"),0}getScrollHeight(){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 getScrollHeight \u65B9\u6CD5"),0}getScrollClientHeight(){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 getClientHeight \u65B9\u6CD5"),0}getScrollTop(){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 getScrollTop \u65B9\u6CD5"),0}addScrollTop(e){this.setScrollTop(this.getScrollTop()+e)}setScrollTop(e){console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 setScrollTop \u65B9\u6CD5")}getBodyHeight(){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 getBodyHeight \u65B9\u6CD5"),0}inDownOffset(e){return this.on(0,e)}outDownOffset(e){return this.on(1,e)}onPulling(e){return this.on(2,e)}onScroll(e){return this.on(7,e)}onReachBottom(e){return this.on(8,e)}onPullToRefresh(e){return this.canPullToRefresh=!0,this.on(3,e)}onMounted(e){return this.on(9,e)}};var Wt=class extends T{constructor(e){super(e);o(this,"shape","select");o(this,"name","SelectCore");o(this,"debug",!0);o(this,"placeholder");o(this,"options",[]);o(this,"defaultValue",null);o(this,"value",null);o(this,"disabled",!1);o(this,"open",!1);o(this,"popper");o(this,"popover");o(this,"presence",new Y);o(this,"collection");o(this,"layer");o(this,"position","popper");o(this,"triggerPos",{x:0,y:0});o(this,"reference",null);o(this,"trigger",null);o(this,"wrap",null);o(this,"content",null);o(this,"viewport",null);o(this,"selectedItem",null);o(this,"_findFirstValidItem",!1);let{defaultValue:n,placeholder:r="\u70B9\u51FB\u9009\u62E9",options:i=[],onChange:a}=e;this.options=i.map(h=>({label:h.label,value:h.value,selected:h.value===n})),this.value=n,this.defaultValue=n,this.placeholder=r,this.options.find(h=>h.value===n)&&(this.emit(0,u({},this.state)),this.emit(1,n)),this.popper=new ge,this.popover=new dt,this.layer=new ve,this.collection=new He,this.popper.onReferenceMounted(h=>{let{x:d,y:f,width:c,height:p}=h.getRect();this.reference={width:c,height:p,x:d,y:f,left:d,right:d+c,top:f,bottom:f+p}}),this.layer.onDismiss(()=>{console.log(...this.log("this.layer.onDismiss")),this.hide()}),this.presence.onStateChange(()=>this.emit(0,u({},this.state))),a&&this.onChange(a)}get state(){var e;return{options:this.options,value:this.value,value2:(e=this.options.find(n=>n.value===this.value))!=null?e:null,open:this.open,disabled:this.disabled,placeholder:this.placeholder,required:!1,dir:"ltr",styles:{},enter:this.presence.state.enter,visible:this.presence.state.visible,exit:this.presence.state.exit}}mapViewModelWithIndex(e){return this.options[e]}setTriggerPointerDownPos(e){this.triggerPos=e}setTrigger(e){this.trigger=e}setWrap(e){this.wrap=e}setContent(e){this.content=e}setViewport(e){this.viewport=e}setSelectedItem(e){this.selectedItem=e}show(){return k(this,null,function*(){this.disabled||(this.popper.place(),this.open=!0,this.emit(0,u({},this.state)))})}hide(){this.presence.hide(),this.open!==!1&&(this.open=!1,this.emit(0,u({},this.state)))}addNativeOption(){}removeNativeOption(){}select(e){if(this.value!==e){this.value=e;for(let n=0;n<this.options.length;n+=1){let r=this.options[n];r.selected=!1,r.value===e&&(r.selected=!0)}this.emit(1,e),this.emit(0,u({},this.state)),this.hide()}}focus(){this.emit(2)}setOptions(e){this.options=e.map(r=>({label:r.label,value:r.value,selected:r.value===this.value})),!(this.value===null||this.options.find(r=>r.value===this.value))&&(this.value=null,this.emit(0,u({},this.state)),this.emit(1,this.value))}setValue(e){if(e===null){this.value=null,this.emit(0,u({},this.state)),this.emit(1,e);return}this.value=e,this.options=this.options.map(n=>({label:n.label,value:n.value,selected:n.value===this.value})),this.emit(1,e),this.emit(0,u({},this.state))}clear(){this.value=null,this.emit(0,u({},this.state)),this.emit(1,this.value)}setPosition(){}onStateChange(e){return this.on(0,e)}onValueChange(e){return this.on(1,e)}onChange(e){return this.on(1,e)}onFocus(e){return this.on(2,e)}},ur=class extends T{constructor(e={}){super(e);o(this,"options",[]);o(this,"list",[]);o(this,"cached",new Map);o(this,"values",new Map);let{options:n=[]}=e;this.options=n}bind(e,n){let{defaultValue:r}=n||{defaultValue:null},i=this.cached.get(e);if(i)return i;let a=new Wt({defaultValue:r,options:this.options,onChange:l=>{this.values.set(e,l),this.emit(1,[e,l])}});return this.list.push(a),this.values.set(e,r),this.cached.set(e,a),a}setOptions(e){if(this.options=e,this.list.length!==0)for(let n=0;n<this.list.length;n+=1)this.list[n].setOptions(e)}setValue(e){for(let n=0;n<this.list.length;n+=1)this.list[n].setValue(e)}getValue(e){var n;return(n=this.values.get(e))!=null?n:null}clear(){this.list=[],this.cached=new Map,this.values=new Map}toJson(e){let n=[];for(let[r,i]of this.values){let a=e([r,i]);n.push(a)}return n}onChange(e){this.on(1,e)}onStateChange(e){this.on(0,e)}};var hr=class extends T{constructor(e={}){super(e);o(this,"roving");o(this,"prevContent",null);o(this,"contents",[]);o(this,"state",{curValue:null,orientation:"horizontal",dir:"ltr"});this.roving=new ft}selectTab(e){let n=this.contents.find(r=>r.value===e);n&&(this.prevContent&&this.prevContent.presence.hide(),n.presence.show(),this.prevContent=n,this.emit(1,e))}appendContent(e){this.contents.includes(e)||this.contents.push(e)}onStateChange(e){this.on(0,e)}onValueChange(e){this.on(1,e)}};var cr=class extends T{constructor(e={}){super(e);o(this,"name","ToastCore");o(this,"present",new Y);o(this,"delay",1200);o(this,"timer",null);o(this,"open",!1);o(this,"_mask",!1);o(this,"_icon",null);o(this,"_texts",[]);let{delay:n}=e;n&&(this.delay=n),this.present.onShow(()=>{this.open=!0,this.emit(4,!0)}),this.present.onHidden(()=>{this.open=!1,this.emit(4,!1)}),this.present.onStateChange(()=>this.emit(7,u({},this.state)))}get state(){return{mask:this._mask,icon:this._icon,texts:this._texts,enter:this.present.state.enter,visible:this.present.state.visible,exit:this.present.state.exit}}show(e){return k(this,null,function*(){let{mask:n=!1,icon:r,texts:i}=e;if(this._mask=n,this._icon=r,this._texts=i,this.emit(7,u({},this.state)),this.timer!==null){if(this.clearTimer(),this._icon==="loading")return;this.timer=setTimeout(()=>{this.hide()},this.delay);return}this.present.show(),this._icon!=="loading"&&(this.timer=setTimeout(()=>{this.hide()},this.delay))})}clearTimer(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}hide(){this.present.hide(),this.clearTimer()}onShow(e){return this.on(1,e)}onHide(e){return this.on(3,e)}onOpenChange(e){return this.on(4,e)}onStateChange(e){return this.on(7,e)}get[Symbol.toStringTag](){return"ToastCore"}};var gr={};po(gr,{calcDropPosition:()=>Ao,computeMoveNeededParams:()=>Mo,findSourceNodeByKey:()=>Ye,formatSourceNodes:()=>dr,getDraggingNodesKey:()=>ko,getOffset:()=>mr,insertToBottom:()=>Io,insertToTop:()=>Ho,isInclude:()=>pr,noop:()=>Do,traverseTreeNodes:()=>fr});function Do(){}var dr=(s,t=1,e)=>s.map((n,r)=>{let d=n,{key:i,title:a}=d,l=re(d,["key","title"]),h=B(u({},l),{key:i,title:a,pos:e===void 0?String(r):`${e}-${r}`});if(n.children&&n.children.length){let f=t+1;h.children=dr(n.children,f,h.pos)}return h});function fr(s=[],t){function e(n,r,i,a){let l=n;n&&n.length&&(l=n.filter(Boolean)),l.forEach((h,d)=>{if(!h.isTreeNode)return;let{pos:f}=h;i.push(f);let c=[];h.$children&&e(h.$children,f,c,f),t(h,d,f,h.rckey||f,c,a)})}e(s,0,[])}function pr(s,t){return s.every((e,n)=>e===t[n])}function ko(s){let t=[],e=s.pos.split("-");return fr(s.$children,(n,r,i,a)=>{let l=i.split("-");(s.pos===i||e.length<l.length)&&pr(e,l)&&t.push(a)}),t.push(s.rckey),t}function mr(s){if(!s.getClientRects().length)return{top:0,left:0};let t=s.getBoundingClientRect();if(t.width||t.height){let e=s.ownerDocument,n=e.defaultView,r=e.documentElement;return{top:t.top+n.pageYOffset-r.clientTop,left:t.left+n.pageXOffset-r.clientLeft}}return t}function Ao(s,t){let{selectHandle:e}=t.$refs,n=mr(e).top,r=e.offsetHeight,i=s.pageY,a=2;return i>n+r-a?-1:i<n+a?1:0}var Ye=(s,t,e)=>{s.forEach((n,r,i)=>n.key===t?e(n,r,i):n.children?Ye(n.children,t,e):!1)};function Mo(s,t,e,n){let r=n!==0,i,a,l;Ye(s,t,(c,p,m)=>{a=m,l=p,i=c});let h=null,d;if(!r){let c=null;return Ye(s,e,m=>{c=m}),{targetSourceNode:c,originSourceNode:i,originSourceNodeIndex:l,originSourceNodes:a}}return Ye(s,e,(c,p,m)=>{h=m,d=p}),{targetSourceNodes:h,targetSourceNodeIndex:d,originSourceNode:i,originSourceNodeIndex:l,originSourceNodes:a}}function Ho(s,t,e,n,r){return r!==t||n>s?(r.splice(n,1),t.splice(s,0,e),{targetSourceNodes:t,originSourceNodes:r}):(t.splice(s,0,e),r.splice(n,1),{targetSourceNodes:t,originSourceNodes:r})}function Io(s,t,e,n,r){let i=s+1;return r===t&&s>n&&(i=s),r.splice(n,1),t.splice(i,0,e),{targetSourceNodes:t,originSourceNodes:r}}var vr=class extends T{onStateChange(t){return this.on(0,t)}};var yr=class extends T{constructor(e){super(e);o(this,"_name","MenuItemCore");o(this,"debug",!0);o(this,"label");o(this,"tooltip");o(this,"icon");o(this,"shortcut");o(this,"menu",null);o(this,"_open",!1);o(this,"_hidden",!1);o(this,"_enter",!1);o(this,"_focused",!1);o(this,"_disabled",!1);let{_name:n,tooltip:r,label:i,icon:a,shortcut:l,disabled:h=!1,hidden:d=!1,menu:f,onClick:c}=e;this.label=i,this.tooltip=r,this.icon=a,this.shortcut=l,this._hidden=d,this._disabled=h,n&&(this._name=n),f&&(this.menu=f,f.onShow(()=>{this._open=!0,this.emit(5,u({},this.state))}),f.onHide(()=>{this._open=!1,this.emit(5,u({},this.state))})),c&&this.onClick(c.bind(this))}get state(){return{label:this.label,icon:this.icon,shortcut:this.shortcut,open:this._open,disabled:this._disabled,focused:this._focused||this._open}}get hidden(){return this._hidden}setIcon(e){this.icon=e,this.emit(5,u({},this.state))}disable(){this._disabled=!0,this.emit(5,u({},this.state))}enable(){this._disabled=!1,this.emit(5,u({},this.state))}handlePointerEnter(){this._enter||(this._enter=!0,this._focused=!0,this.emit(0),this.emit(5,u({},this.state)))}handlePointerMove(){}handlePointerLeave(){this._enter!==!1&&(this._enter=!1,this._focused=!1,this.emit(1),this.emit(5,u({},this.state)))}handleFocus(){this._focused||(this._focused=!0,this.emit(2),this.emit(5,u({},this.state)))}handleBlur(){this._focused!==!1&&(this._enter=!1,this.blur())}handleClick(){this._disabled||this.emit(4)}blur(){this._focused=!1,this.emit(3),this.emit(5,u({},this.state))}reset(){this._focused=!1,this._open=!1,this._enter=!1,this.menu&&this.menu.reset()}hide(){this._hidden=!0}show(){this._hidden=!1}unmount(){super.destroy(),this.menu&&this.menu.unmount(),this.reset()}onEnter(e){return this.on(0,e)}onLeave(e){return this.on(1,e)}onFocus(e){return this.on(2,e)}onBlur(e){return this.on(3,e)}onClick(e){return this.on(4,e)}onStateChange(e){return this.on(5,e)}get[Symbol.toStringTag](){return"MenuItem"}};var Tr=class extends T{constructor(e={}){super(e);o(this,"shape","checkbox-group");o(this,"options",[]);o(this,"disabled");o(this,"values",[]);o(this,"prevChecked",!1);let{options:n=[],disabled:r=!1,onChange:i}=e;this.disabled=r,this.options=n.map(a=>{let{label:l,value:h,checked:d,disabled:f}=a,c=new je({label:l,checked:d,disabled:f,onChange:p=>{let m=this.values.includes(h);if(p&&!m){this.checkOption(h);return}!p&&m&&this.uncheckOption(h)}});return{label:l,value:h,core:c}}),i&&this.onChange(i)}get indeterminate(){return this.values.length===this.options.length}get state(){return{values:this.values,options:this.options,disabled:this.disabled,indeterminate:this.indeterminate}}checkOption(e){console.log("[DOMAIN]domains/ui/checkbox/group - checkOption",e),this.values=this.values.concat(e),this.emit(1,[...this.values]),this.emit(0,u({},this.state))}uncheckOption(e){console.log("[DOMAIN]domains/ui/checkbox/group - uncheckOption",e),this.values=this.values.filter(n=>n!==e),this.emit(1,[...this.values]),this.emit(0,u({},this.state))}reset(){this.values=[],this.emit(1,[...this.values]),this.emit(0,u({},this.state))}setOptions(e){for(let n=0;n<this.options.length;n+=1)this.options[n].core.destroy();this.options=e.map(n=>{let{label:r,value:i,checked:a,disabled:l}=n,h=new je({label:r,checked:a,disabled:l,onChange:d=>{let f=this.values.includes(i);if(d&&!f){this.checkOption(i);return}!d&&f&&this.uncheckOption(i)}});return{label:r,value:i,core:h}}),console.log("[DOMAIN]ui/checkbox/group - setOptions",this.options.length),this.emit(0,u({},this.state))}onChange(e){return this.on(1,e)}onStateChange(e){return this.on(0,e)}};var Lo=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(Lo||{}),pt={sm:0,md:768,lg:992,xl:1200,"2xl":1536};function Er(s){return s>=pt["2xl"]?"2xl":s>=pt.xl?"xl":s>=pt.lg?"lg":s>=pt.md?"md":"sm"}var Sr=(C=>(C[C.Tip=0]="Tip",C[C.Loading=1]="Loading",C[C.HideLoading=2]="HideLoading",C[C.Error=3]="Error",C[C.Login=4]="Login",C[C.Logout=5]="Logout",C[C.ForceUpdate=6]="ForceUpdate",C[C.DeviceSizeChange=7]="DeviceSizeChange",C[C.Ready=8]="Ready",C[C.Show=9]="Show",C[C.Hidden=10]="Hidden",C[C.Resize=11]="Resize",C[C.Blur=12]="Blur",C[C.Keydown=13]="Keydown",C[C.OrientationChange=14]="OrientationChange",C[C.EscapeKeyDown=15]="EscapeKeyDown",C[C.StateChange=16]="StateChange",C))(Sr||{}),br=class extends T{constructor(e){super();o(this,"$user");o(this,"$storage");o(this,"lifetimes");o(this,"ready",!1);o(this,"screen",{width:0,height:0});o(this,"env",{wechat:!1,ios:!1,android:!1,pc:!1,weapp:!1,prod:"develop"});o(this,"orientation","vertical");o(this,"curDeviceSize","md");o(this,"height",0);o(this,"theme","system");o(this,"safeArea",!1);o(this,"Events",Sr);let{user:n,storage:r,beforeReady:i,onReady:a}=e;this.$user=n,this.$storage=r,this.lifetimes={beforeReady:i,onReady:a}}get state(){return{ready:this.ready,theme:this.theme,env:this.env,deviceSize:this.curDeviceSize,height:this.height}}start(e){return k(this,null,function*(){let{width:n,height:r}=e;this.screen=B(u({},this.screen),{width:n,height:r}),this.curDeviceSize=Er(n);let{beforeReady:i}=this.lifetimes;if(i){let a=yield i();if(a.error)return R.Err(a.error)}return this.ready=!0,this.emit(8),this.emit(16,u({},this.state)),R.Ok(null)})}setTheme(e){let n="\u8BF7\u5728 connect.web \u4E2D\u5B9E\u73B0 setTheme \u65B9\u6CD5";return console.warn(n),R.Err(n)}getTheme(){return console.warn("\u8BF7\u5728 connect.web \u4E2D\u5B9E\u73B0 getTheme \u65B9\u6CD5"),"light"}tipUpdate(){this.emit(6)}tip(e){return this.emit(0,e),e.text.join(`
`)}loading(e){return this.emit(1,e),{hideLoading:()=>{this.emit(2)}}}hideLoading(){this.emit(2)}vibrate(){}setSize(e){this.screen=e}setTitle(e){throw new Error("\u8BF7\u5B9E\u73B0 setTitle \u65B9\u6CD5")}openWindow(e){throw new Error("\u8BF7\u5B9E\u73B0 openWindow \u65B9\u6CD5")}setEnv(e){this.env=u(u({},this.env),e)}setHeight(e){this.height=e,this.emit(16,u({},this.state))}copy(e){throw new Error("\u8BF7\u5B9E\u73B0 copy \u65B9\u6CD5")}getComputedStyle(e){throw new Error("\u8BF7\u5B9E\u73B0 getComputedStyle \u65B9\u6CD5")}notify(e){console.log("\u8BF7\u5B9E\u73B0 notify \u65B9\u6CD5")}disablePointer(){throw new Error("\u8BF7\u5B9E\u73B0 disablePointer \u65B9\u6CD5")}enablePointer(){throw new Error("\u8BF7\u5B9E\u73B0 enablePointer \u65B9\u6CD5")}keydown(e){e.code==="Escape"&&this.escape(),this.emit(13,e)}escape(){this.emit(15)}resize(e){this.screen=e,this.emit(11,e)}blur(){this.emit(12)}handleScreenOrientationChange(e){if(e===0){this.orientation="vertical",this.emit(14,this.orientation);return}this.orientation="horizontal",this.emit(14,this.orientation)}handleResize(e){this.screen=e;let n=Er(e.width);n!==this.curDeviceSize&&(this.curDeviceSize=n,this.emit(7,this.curDeviceSize)),this.emit(11,e)}onReady(e){return this.on(8,e)}onDeviceSizeChange(e){return this.on(7,e)}onUpdate(e){return this.on(6,e)}onOrientationChange(e){return this.on(14,e)}onResize(e){return this.on(11,e)}onBlur(e){return this.on(12,e)}onShow(e){return this.on(9,e)}onHidden(e){return this.on(10,e)}onKeydown(e){return this.on(13,e)}onEscapeKeyDown(e){return this.on(15,e)}onTip(e){return this.on(0,e)}onLoading(e){return this.on(1,e)}onHideLoading(e){return this.on(2,e)}onStateChange(e){return this.on(16,e)}onError(e){return this.on(3,e)}};var _n=ze(Mi()),Wi=ze(ji());var ie=class ie extends T{constructor(){super(...arguments);o(this,"unique_id","NavigatorCore");o(this,"debug",!1);o(this,"name","root");o(this,"pathname","/");o(this,"query",{});o(this,"params",{});o(this,"location",{});o(this,"href","/");o(this,"histories",[]);o(this,"prevHistories",[]);o(this,"prevPathname",null);o(this,"origin","");o(this,"host","");o(this,"_pending",{pathname:"/",search:"",type:"initialize"})}static parse(e){let l=(0,Wi.default)(e),{pathname:n,query:r}=l,i=re(l,["pathname","query"]),a=_n.default.parse(r,{ignoreQueryPrefix:!0});return ie.prefix&&n.startsWith(ie.prefix)?B(u({},i),{query:a,pathname:n.replace(ie.prefix,"")}):B(u({},i),{query:a,pathname:n})}get state(){return{pathname:this.pathname,search:this._pending.search,params:this.params,query:this.query,location:this.location}}prepare(e){return k(this,null,function*(){let{host:n,pathname:r,href:i,search:a,origin:l}=e,h=r;ie.prefix&&ie.prefix.match(/^\/[a-z0-9A-Z]{1,}/)&&(h=r.replace(ie.prefix,"")),this.setPathname(h),this.origin=l,this.host=n,this.location=e;let d=bu(i);this.query=d,this._pending={pathname:h,search:a,type:"initialize"}})}start(){let{pathname:e}=this._pending;this.setPathname(e),this.histories=[{pathname:e}],this.emit(7,u({},this._pending))}setPrevPathname(e){this.prevPathname=e}setPathname(e){this.pathname=e}pushState(e){let n=(ie.prefix+e).replace(/^\/\//,"/"),r=`${this.origin}${n}`,i=new URL(r),{pathname:a,search:l}=i,h=this.pathname;this.setPrevPathname(h),this.setPathname(a),this.histories.push({pathname:a}),this.emit(0,{from:h,to:a,path:a+l,pathname:a}),this.emit(10,[...this.histories])}replaceState(e){return k(this,null,function*(){let n=`${this.origin}${ie.prefix}${e}`,r=new URL(n),{pathname:i,search:a}=r;this.setPrevPathname(this.pathname),this.setPathname(i),this.histories[this.histories.length-1]={pathname:i},this.emit(1,{from:this.prevPathname,path:i+a,pathname:i}),this.emit(10,[...this.histories])})}handlePopState({type:e,pathname:n,href:r}){if(console.log("[DOMAIN]navigator/index - handlePopState",e,this.pathname,this.prevHistories),e!=="popstate")return;let i=n,a=this.pathname;this.setPrevPathname(a),this.setPathname(i);let l=(()=>{if(this.prevHistories.length===0)return!1;let f=this.prevHistories[this.prevHistories.length-1];return(f==null?void 0:f.pathname)===i})();if(this._pending={pathname:n,search:"",type:l?"forward":"back"},l){this.setPrevPathname(this.pathname),this.setPathname(i);let f=this.prevHistories.pop();f&&(this.histories=this.histories.concat([f])),this.emit(4),this.emit(10,[...this.histories]),this.emit(2,{type:"forward",pathname:n,href:r});return}this.emit(3);let h=this.histories[this.histories.length-1];this.prevHistories=this.prevHistories.concat([h]).filter(Boolean),this.setPrevPathname(this.pathname),this.setPathname(i),console.log("[DOMAIN]navigator - before pop",this.histories.map(f=>f.pathname));let d=this.histories.slice(0,this.histories.length-1);this.histories=d.filter(Boolean),this.emit(10,[...this.histories]),this.emit(2,{type:"back",pathname:n,href:r})}onStart(e){return this.on(6,e)}onHistoryChange(e){return this.on(10,e)}onPushState(e){return this.on(0,e)}onReplaceState(e){return this.on(1,e)}onPopState(e){return this.on(2,e)}onReload(e){return this.on(5,e)}onPathnameChange(e){return this.on(7,e)}onBack(e){return this.on(3,e)}onForward(e){return this.on(4,e)}onRelaunch(e){return this.on(8,e)}onHistoriesChange(e){return this.on(10,e)}};o(ie,"prefix",null);var Mt=ie;function bu(s){let[,t]=s.split("?");return t?_n.default.parse(t):{}}var Fn=ze(An()),cp=ze(Yi()),Ji=ze(Gi());Fn.default.extend(Ji.default);Fn.default.locale("zh-cn");function oe(s){return s===null||s===void 0?"":Object.keys(s).filter(t=>s[t]!==void 0).map(t=>`${t}=${encodeURIComponent(s[t])}`).join("&")}function Qi(s=1e3){return new Promise(t=>{setTimeout(()=>{t(null)},s)})}function Bn(s,t,e){let n=!e||Object.keys(e).length===0?"":"?"+oe(e);return!s.match(/:[a-z]{1,}/)||!t||Object.keys(t).length===0?s+n:s.replace(/:([a-z]{1,})/g,(...i)=>{let[,a]=i;return String(t[a]||"")})+n}var pe=class extends T{constructor(e){super(e);o(this,"unique_id","ViewCore");o(this,"debug",!1);o(this,"id",this.uid());o(this,"name");o(this,"pathname");o(this,"title");o(this,"animation",{in:"fade-in",out:"fade-out"});o(this,"query",{});o(this,"params",{});o(this,"_showed",!1);o(this,"loaded",!1);o(this,"mounted",!0);o(this,"layered",!1);o(this,"isRoot",!1);o(this,"parent");o(this,"curView",null);o(this,"subViews",[]);o(this,"$presence",new Y);let{name:n,pathname:r,title:i,query:a={},visible:l=!1,animation:h={},parent:d=null,views:f=[]}=e;this.name=n,this.pathname=r,this.parent=d,this.title=i,this.unique_id=i,this.animation=h,this.subViews=f,f.length&&(this.curView=f[0]),this.query=a,l&&(this.mounted=!0);for(let c=0;c<f.length;c+=1){let p=f[c];p.parent=this}this.$presence.onStateChange(c=>{let{visible:p,mounted:m}=c,g=this.state.visible;g===!1&&p&&this.setShow(),g&&p===!1&&this.setHidden(),this.mounted=!!m,this.emit(13,u({},this.state))}),this.$presence.onUnmounted(()=>{this.emit(9)}),Cu(this)}get state(){return{mounted:this.mounted,visible:this.visible,layered:this.layered}}get href(){return[this.pathname,oe(this.query)].filter(Boolean).join("?")}get visible(){return this.$presence.visible}appendView(e){e.parent=this,this.subViews.length===0&&e.visible&&(this.curView=e),this.subViews.includes(e)||this.subViews.push(e),this.emit(0,[...this.subViews])}replaceViews(e){this.subViews=e,this.emit(0,[...this.subViews])}removeView(e,n={}){if(!this.subViews.includes(e)){console.warn("the view is not the child view");return}e.onUnmounted(()=>{e.destroy(),this.subViews=this.subViews.filter(r=>r!==e),n.callback&&n.callback(),this.emit(0,[...this.subViews])}),e.hide({reason:n.reason,destroy:n.destroy}),this.emit(0,[...this.subViews])}findCurView(){return this.curView?this.curView.findCurView():this}ready(){this.emit(3)}showView(e,n={}){if(e===this){console.warn("cannot show self");return}if(e.visible){console.warn("the sub view has been visible",e.name);return}(()=>{if(!this.visible){if(!this.parent){this.isRoot||console.warn("no parent");return}this.parent.showView(this,n)}})(),n.reason==="show_sibling"&&this.curView&&this.curView.hide(n),this.appendView(e),this.emit(5),this.curView=e,e.show(),this.emit(1,this.curView)}show(){if(this.visible){this.$presence.state.mounted=!0;return}this.$presence.show()}hide(e={}){if(this.visible===!1){console.warn("has been hide");return}for(let n=0;n<this.subViews.length;n+=1)this.subViews[n].hide(e);this.emit(7),this.$presence.hide({reason:e.reason,destroy:e.destroy})}setShow(){this._showed||(this._showed=!0,this.emit(6))}setHidden(){console.log("[DOMAIN]route_view/index - hidden",this.title,this._showed),this._showed=!1,this.emit(8)}mount(){this.setMounted()}unmount(){this.subViews=[],this.emit(13,u({},this.state))}setMounted(){this.mounted||(this.mounted=!0,this.emit(4))}setUnmounted(){this.mounted=!1,this.emit(9)}setLoaded(){this.loaded=!0}setUnload(){this.loaded=!1}buildUrl(e){return Bn(this.pathname,this.params,e)}buildUrlWithPrefix(e){let n=Bn(this.pathname,this.params,e);return[Mt.prefix,n].join("")}onStart(e){return this.on(12,e)}onReady(e){return this.on(3,e)}onMounted(e){return this.on(4,e)}onViewShow(e){return this.on(2,e)}onBeforeShow(e){return this.on(5,e)}onShow(e){return this.on(6,e)}onBeforeHide(e){return this.on(7,e)}onHidden(e){return this.on(8,e)}onLayered(e){return this.on(10,e)}onUncover(e){return this.on(11,e)}onUnmounted(e){return this.on(9,e)}onSubViewsChange(e){return this.on(0,e)}onCurViewChange(e){return this.on(1,e)}onMatched(e){return this.on(14,e)}onNotFound(e){return this.on(15,e)}onStateChange(e){return this.on(13,e)}},Nn=null;function Pp(s){Nn=s}function Cu(s){Nn&&Nn(s)}function Op(s){let t={refresh(){a.emit(0,u({},r))},setCurMenu(h){n=h,[].includes(h),t.refresh()}},e={},n=s.route,r={get menus(){return s.menus},get route_name(){return n}},i;(f=>(f[f.StateChange=0]="StateChange",f[f.Error=1]="Error"))(i||(i={}));let a=ht(),l=s.$history.onRouteChange(({name:h})=>{t.setCurMenu(h)});return{methods:t,ui:e,state:r,ready(){},destroy(){l(),a.destroy()},onStateChange(h){return a.on(0,h)},onError(h){return a.on(1,h)}}}var Xi=class extends T{constructor(e){super(e);o(this,"virtual",!1);o(this,"routes");o(this,"views");o(this,"stacks",[]);o(this,"cursor",-1);o(this,"$router");o(this,"$view");let{virtual:n=!1,view:r,router:i,routes:a,views:l}=e;this.$view=r,this.$router=i,this.routes=a,this.views=l,this.virtual=n}get state(){return{href:this.$router.href,stacks:this.stacks.map(e=>{let{id:n,pathname:r,title:i,query:a,visible:l}=e;return{id:[r,oe(a)].filter(Boolean).join("?"),key:r,title:i,query:JSON.stringify(a,null,2),visible:l}}),cursor:this.cursor}}push(e,n={},r={}){var c;let{ignore:i}=r;if(this.isLayout(e)){console.log("[DOMAIN]history/index - the target url is layout",e);return}let a=this.routes[e];if(!a){console.log("[DOMAIN]history/index - push 2. no matched route",e);return}let l=[a.pathname,oe(n)].filter(Boolean).join("?");if(l===this.$router.href)return;let h=this.views[l];if(h){if(this.ensureParent(h),h.query=n,!h.parent){console.log("[DOMAIN]history/index - error1");return}this.$router.href=h.href,this.$router.name=h.name,this.stacks=this.stacks.slice(0,this.cursor+1).concat(h),this.cursor+=1,h.parent.showView(h,{reason:"show_sibling",destroy:!1}),this.emit(1,{reason:"push",view:h,name:e,href:h.href,pathname:h.pathname,query:h.query,ignore:i}),this.emit(5,u({},this.state));return}let d=(()=>{let p=this.routes[e];return p||null})();if(!d)return console.log("[DOMAIN]history/index - push 2. no matched route",l),null;let f=new pe({name:d.name,pathname:d.pathname,title:d.title,query:n,animation:(c=d.options)==null?void 0:c.animation,parent:null});if(this.views[l]=f,this.ensureParent(f),!f.parent){console.log("[DOMAIN]history/index - push 3. ",d.name);return}this.$router.href=f.href,this.$router.name=f.name,this.stacks=this.stacks.slice(0,this.cursor+1).concat(f),this.cursor+=1,f.parent.showView(f,{reason:"show_sibling",destroy:!1}),this.emit(1,{reason:"push",view:f,name:e,href:f.href,pathname:f.pathname,query:f.query,ignore:i}),this.emit(5,u({},this.state))}replace(e,n={}){var d,f,c;let r=[e,oe(n)].filter(Boolean).join("?");if(r===this.$router.href){console.log("[DOMAIN]history/index - replace target url is",r,"and cur href is",this.$router.href);return}let i=this.views[r];if(i){if(this.ensureParent(i),i.query=n,!i.parent){console.log("[DOMAIN]history/index - replace 1");return}this.$router.href=i.href,this.$router.name=i.name;let p=this.stacks[this.stacks.length-1];p&&((d=p.parent)==null||d.removeView(p)),this.stacks[this.stacks.length-1]=i,i.parent.showView(i),this.emit(1,{reason:"replace",view:i,name:i.name,href:i.href,pathname:i.pathname,query:i.query}),this.emit(5,u({},this.state));return}let a=(()=>{let p=this.routes[e];return p||null})();if(!a)return console.log("[DOMAIN]history/index - replace 2. no matched route"),null;let l=new pe({name:a.name,pathname:a.pathname,title:a.title,query:n,animation:(f=a.options)==null?void 0:f.animation,parent:null});if(this.views[r]=l,this.ensureParent(l),!l.parent){console.log("[DOMAIN]history/index - replace 3. ");return}this.$router.href=l.href,this.$router.name=l.name;let h=this.stacks[this.stacks.length-1];h&&((c=h.parent)==null||c.removeView(h,{reason:"show_sibling",callback:()=>{delete this.views[r]}})),this.stacks[this.stacks.length-1]=l,l.parent.showView(l),this.emit(1,{reason:"replace",view:l,name:l.name,href:l.href,pathname:l.pathname,query:l.query}),this.emit(5,u({},this.state))}back(e={}){var l;let n=this.cursor-1,r=this.stacks[n];if(!r)return;let i=r.href;if(!r.parent)return;this.$router.href=i,this.$router.name=r.name,this.cursor=n;let a=this.stacks.slice(n+1);for(let h=0;h<a.length;h+=1){let d=a[h];(l=d.parent)==null||l.removeView(d,{reason:"back",destroy:!0,callback:()=>{delete this.views[d.href]}})}r.parent.showView(r,{reason:"back",destroy:!0}),this.emit(1,{reason:"back",view:r,name:r.name,href:r.href,pathname:r.pathname,query:r.query,data:e.data}),this.emit(3),this.emit(5,u({},this.state))}forward(){var a;let e=this.cursor+1,n=this.stacks[e];if(!n||!n.parent)return;let r=n.href;this.$router.href=r,this.$router.name=n.name,this.cursor=e;let i=this.stacks.slice(e+1);for(let l=0;l<i.length;l+=1){let h=i[l];(a=h.parent)==null||a.removeView(h,{reason:"forward",callback:()=>{delete this.views[h.href]}})}n.parent.showView(n),this.emit(1,{reason:"forward",view:n,name:n.name,href:n.href,pathname:n.pathname,query:n.query}),this.emit(4),this.emit(5,u({},this.state))}reload(){}destroyAllAndPush(e,n={},r={}){var m;let{ignore:i}=r;if(this.isLayout(e)){console.log("[DOMAIN]history/index - the target url is layout",e);return}let a=this.routes[e];if(!a){console.log("[DOMAIN]history/index - push 2. no matched route",e);return}let l=[a.pathname,oe(n)].filter(Boolean).join("?");if(l===this.$router.href)return;let h=this.views.root,d=this.views["root.home_layout"],f=Object.keys(this.views);for(let g=0;g<f.length;g+=1)(()=>{let w=f[g];this.views[w].unmount()})();this.views={root:h,"root.home_layout":d};let c=(()=>{let g=this.routes[e];return g||null})();if(!c)return console.log("[DOMAIN]history/index - push 2. no matched route",l),null;let p=new pe({name:c.name,pathname:c.pathname,title:c.title,query:n,animation:(m=c.options)==null?void 0:m.animation,parent:null});if(this.views[l]=p,this.ensureParent(p),!p.parent){console.log("[DOMAIN]history/index - push 3. ",c.name);return}this.$router.href=p.href,this.$router.name=p.name,this.stacks=this.stacks.slice(0,this.cursor+1).concat(p),this.cursor+=1,p.parent.showView(p,{reason:"show_sibling",destroy:!1}),this.emit(1,{reason:"push",view:p,name:e,href:p.href,pathname:p.pathname,query:p.query,ignore:i}),this.emit(5,u({},this.state))}ensureParent(e){let{name:n}=e;if(e.parent){if(e.parent.pathname==="/")return;this.ensureParent(e.parent);return}let r=this.routes[n];if(!r)return;let{parent:i}=r;if(this.views[i.name]){if(e.parent=this.views[i.name],i.name==="root")return;this.ensureParent(this.views[i.name]);return}let a=this.routes[i.name];if(!a)return null;let l=new pe({name:a.name,pathname:a.pathname,title:a.title,parent:null});this.views[a.name]=l,e.parent=l,this.ensureParent(l)}buildURL(e,n={}){let r=(()=>{let a=this.routes[e];return a||null})();return r?new pe({name:r.name,pathname:r.pathname,title:r.title,query:n,parent:null}).buildUrl(n):(console.log("[DOMAIN]history/index - push 2. no matched route",e),this.routes["root.notfound"].pathname)}buildURLWithPrefix(e,n={}){let r=(()=>{let a=this.routes[e];return a||null})();return r?new pe({name:r.name,pathname:r.pathname,title:r.title,query:n,parent:null}).buildUrlWithPrefix(n):(console.log("[DOMAIN]history/index - push 2. no matched route",e),this.routes["root.notfound"].pathname)}isLayout(e){let n=this.routes[e];return n?n.layout:null}handleClickLink(e){let{href:n,target:r}=e;this.emit(2,{href:n,target:r})}onTopViewChange(e){return this.on(0,e)}onRouteChange(e){return this.on(1,e)}onBack(e){return this.on(3,e)}onForward(e){return this.on(4,e)}onClickLink(e){return this.on(2,e)}onStateChange(e){return this.on(5,e)}};var Zi=class extends T{constructor(e={}){super(e);o(this,"hostname","");o(this,"headers",{});o(this,"debug",!1);let{hostname:n="",headers:r={},debug:i=!1}=e;this.hostname=n,this.headers=r,this.debug=i}get(i,a){return k(this,arguments,function*(e,n,r={}){try{let l=this.hostname,d={url:typeof e=="string"?[l,e,n?"?"+oe(n):""].join(""):e,method:"GET",id:r.id,headers:u(u({},this.headers),r.headers||{})};this.debug&&console.log("[DOMAIN]http_client - before fetch",d);let f=yield this.fetch(d);return R.Ok(f.data)}catch(l){let h=l,{message:d}=h;return R.Err(d)}})}post(i,a){return k(this,arguments,function*(e,n,r={}){let l=this.hostname,h=typeof e=="string"?[l,e].join(""):e;try{let d={url:h,method:"POST",data:n,id:r.id,headers:u(u({},this.headers),r.headers||{})};this.debug&&console.log("[DOMAIN]http_client - before fetch",d);let f=yield this.fetch(d);return R.Ok(f.data)}catch(d){let f=d,{message:c}=f;return R.Err(c)}})}fetch(e){return k(this,null,function*(){return console.log("\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 fetch \u65B9\u6CD5"),{data:{}}})}cancel(e){let n="\u8BF7\u5728 connect \u4E2D\u5B9E\u73B0 cancel \u65B9\u6CD5";return console.log(n),R.Err(n)}setHeaders(e){this.headers=e}appendHeaders(e){this.headers=u(u({},this.headers),e)}setDebug(e){this.debug=e}onStateChange(e){return this.on(0,e)}};var $n=null;function jp(s){$n=s}var Ht=class extends T{constructor(e,n={}){super({unique_id:n._name});o(this,"_name","RequestCore");o(this,"debug",!1);o(this,"defaultResponse",null);o(this,"service");o(this,"process");o(this,"client");o(this,"delay",null);o(this,"loading",!1);o(this,"initial",!0);o(this,"pending",null);o(this,"args",[]);o(this,"response",null);o(this,"error",null);o(this,"id",String(this.uid()));let{_name:r,client:i,delay:a,defaultResponse:l,loading:h,process:d,onSuccess:f,onFailed:c,onCompleted:p,onCanceled:m,onLoading:g,beforeRequest:w}=n;this.service=e,this.process=d,this.client=i,a!==void 0&&(this.delay=a),h!==void 0&&(this.loading=h),l&&(this.defaultResponse=l,this.response=l),r&&(this._name=r),f&&this.onSuccess(f),p&&this.onCompleted(p),m&&this.onCanceled(m),g&&this.onLoadingChange(g),w&&this.beforeRequest(w),$n&&$n(this),c&&this.onFailed(c,{override:!0})}get state(){return{initial:this.initial,loading:this.loading,error:this.error,response:this.response}}run(...e){return k(this,null,function*(){if(!this.service)return R.Err("\u7F3A\u5C11 service");if(typeof this.service!="function")return R.Err("service \u4E0D\u662F\u51FD\u6570");if(!this.client)return R.Err("\u7F3A\u5C11 client");if(this.pending!==null){let d=yield this.pending;this.loading=!1;let f=d.data;return this.pending=null,R.Ok(f)}this.loading=!0,this.initial=!1,this.response=this.defaultResponse,this.args=e,this.error=null,this.emit(2,!0),this.emit(7,u({},this.state)),this.emit(0);let n=null,r=(()=>{let{hostname:d="",url:f,method:c,query:p,body:m,headers:g,process:w}=this.service(...e);if(w&&(n=w),c==="GET"){let H=this.client.get(f,p,{id:this.id,headers:g});return R.Ok(H)}if(c==="POST"){let H=this.client.post(f,m,{id:this.id,headers:g});return R.Ok(H)}return R.Err(`\u672A\u77E5\u7684 method '${c}'`)})();if(r.error)return R.Err(r.error);this.pending=r.data;let[i]=yield Promise.all([this.pending,this.delay===null?null:Qi(this.delay)]);this.loading=!1;let a=n?n(i):i,l=this.process?this.process(a):a;if(this.emit(2,!1),this.emit(7,u({},this.state)),this.emit(5),this.pending=null,l.error)return l.error.code==="CANCEL"?(this.emit(6),R.Err(l.error)):(this.error=l.error,this.emit(4,l.error),this.emit(7,u({},this.state)),R.Err(l.error));let h=l.data;return this.response=h,this.emit(3,h),this.emit(7,u({},this.state)),this.emit(8,h),R.Ok(h)})}reload(){this.run(...this.args)}cancel(){if(!this.client)return R.Err("\u7F3A\u5C11 client");this.client.cancel(this.id)}clear(){this.response=null,this.emit(7,u({},this.state)),this.emit(8,this.response)}setError(e){this.error=e,this.emit(7,u({},this.state))}modifyResponse(e){if(this.response===null)return;let n=e(this.response);this.response=n,this.emit(7,u({},this.state)),this.emit(8,this.response)}onLoadingChange(e){return this.on(2,e)}beforeRequest(e){return this.on(0,e)}onSuccess(e){return this.on(3,e)}onFailed(e,n={}){return n.override&&this.offEvent(4),this.on(4,e)}onCanceled(e){return this.on(6,e)}onError(e){return this.on(4,e)}onCompleted(e){return this.on(5,e)}onStateChange(e){return this.on(7,e)}onResponseChange(e){return this.on(8,e)}};function It(s,t){let e;return function(...r){e&&clearTimeout(e),e=setTimeout(()=>{t(...r),e=null},s)}}var ot=10,_e=1,Lt=0,Ft={dataSource:[],page:_e,pageSize:ot,total:Lt,search:{},initial:!0,noMore:!1,loading:!1,refreshing:null,empty:!1,error:null},Bt={page:_e,pageSize:ot,next_marker:""};function eo(s,t){let e=u({},s);return t.forEach(n=>{delete e[n]}),e}var wu=s=>{if(s===null)return{dataSource:[],page:1,pageSize:ot,total:Lt,noMore:!1,empty:!1,error:new Error("process response fail, because response is null")};try{let t=s,{list:e,page:n=1,pageSize:r=10,total:i=0,isEnd:a}=t,l={dataSource:e,page:n,pageSize:r,total:i,noMore:!1,empty:!1,error:null};return i&&r&&n&&i<=r*n&&(l.noMore=!0),a!==void 0&&(l.noMore=a),r&&e.length<r&&(l.noMore=!0),e.length===0&&n===1&&(l.empty=!0),l}catch(t){return{dataSource:[],page:1,pageSize:ot,total:Lt,noMore:!1,empty:!1,error:new Error(`process response fail, because ${t.message}`)}}};var Ve=class Ve extends T{constructor(e,n={}){var g;super();o(this,"debug",!1);o(this,"request");o(this,"beforeRequest",(e,n)=>u(u({},n),e));o(this,"processor");o(this,"initialParams");o(this,"extraResponse");o(this,"extraDatSource",[]);o(this,"insertExtraDataSource",!1);o(this,"params",u({},Bt));o(this,"response",u({},Ft));o(this,"rowKey");o(this,"searchDebounce",It(800,(...e)=>this.search(...e)));if(!(e instanceof Ht))throw new Error("fetch must be a instance of RequestCore");let{debug:r,rowKey:i="id",beforeRequest:a,processor:l,extraDefaultResponse:h,extraDataSource:d,onLoadingChange:f,onStateChange:c,beforeSearch:p,afterSearch:m}=n;this.debug=!!r,this.rowKey=i,this.request=e,this.processor=w=>{let H=u(u({},this.response),Ve.commonProcessor(w));if(l){let C=l(H,w);if(C!==void 0)return C}return H},a!==void 0&&(this.beforeRequest=a),this.initialParams=u({},Bt),this.extraResponse=u({},h),this.extraDatSource=(g=n.extraDataSource)!=null?g:[],f&&this.onLoadingChange(f),c&&this.onStateChange(c),p&&this.onBeforeSearch(p),m&&this.onAfterSearch(m),this.initialize(n)}initialize(e){let{search:n,dataSource:r,page:i,pageSize:a,initial:l}=e;n!==void 0&&(this.initialParams=u(u({},this.initialParams),n),this.extraResponse.search=n),r!==void 0&&(this.extraResponse.dataSource=r),i!==void 0&&(this.initialParams.page=i,this.extraResponse.page=i),a!==void 0&&(this.initialParams.pageSize=a,this.extraResponse.pageSize=a),l!==void 0&&(this.extraResponse.initial=l),this.params=u({},this.initialParams),this.response=u(u({},Ve.defaultResponse()),this.extraResponse);let p=this.params,{page:h,pageSize:d}=p,c={search:re(p,["page","pageSize"])};h&&(c.page=h),d&&(c.pageSize=d),this.response=B(u(u({},this.response),c),{search:u({},this.response.search)})}setParams(e){let n=u(u({},this.params),e);typeof e=="function"&&(n=e(this.params)),this.params=n,this.emit(3,u({},this.params))}setDataSource(e){this.response.dataSource=e,this.emit(6,u({},this.response))}fetch(e,...n){return k(this,null,function*(){this.response.loading=!0,this.emit(0,!0),this.emit(6,u({},this.response));let r=u(u({},this.params),e),i=this.beforeRequest(u({},r),this.params);i===void 0&&(i=r);let a=[i,...n],l=yield this.request.run(...a);if(this.response.error=null,this.response.loading=!1,this.response.search=eo(u({},r),["page","pageSize"]),this.response.initial&&(this.response.initial=!1),this.params=u({},i),this.emit(0,!1),this.emit(3,u({},this.params)),this.emit(8),l.error)return R.Err(l.error);let h=l.data,d=this.processor(h);return d.dataSource===void 0&&(d.dataSource=[]),this.extraDatSource.length!==0&&this.insertExtraDataSource===!1&&(this.insertExtraDataSource=!0,d.dataSource=[...this.extraDatSource,...d.dataSource]),e.page===1&&d.dataSource.length===0&&(d.empty=!0),d.next_marker&&(this.params.next_marker=d.next_marker),R.Ok(d)})}init(){return k(this,arguments,function*(e={}){let n=yield this.fetch(u(u({},this.initialParams),e));return n.error?(this.response.error=n.error,this.emit(7,n.error),this.emit(6,u({},this.response)),R.Err(n.error)):(this.response=u(u({},this.response),n.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"init"}),R.Ok(u({},this.response)))})}initAny(){return k(this,null,function*(){return this.response.initial?this.init():(this.emit(6,u({},this.response)),R.Ok(this.response))})}next(){return k(this,null,function*(){let i=this.params,{page:e}=i,n=re(i,["page"]),r=yield this.fetch(B(u({},n),{page:e+1}));return r.error?(this.response.error=r.error,this.emit(7,r.error),this.emit(6,u({},this.response)),R.Err(r.error)):(this.response=u(u({},this.response),r.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"next"}),R.Ok(u({},this.response)))})}prev(){return k(this,null,function*(){let i=this.params,{page:e}=i,n=re(i,["page"]),r=yield this.fetch(B(u({},n),{page:e<=_e?_e:e-1}));return r.error?(this.response.error=r.error,this.emit(7,r.error),this.emit(6,u({},this.response)),R.Err(r.error)):(this.response=u(u({},this.response),r.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"prev"}),R.Ok(u({},this.response)))})}nextWithCursor(){}loadMoreForce(){return k(this,null,function*(){let a=this.params,{page:e}=a,n=re(a,["page"]),r=yield this.fetch(B(u({},n),{page:e+1}));if(r.error)return this.response.error=r.error,this.emit(7,r.error),this.emit(6,u({},this.response)),R.Err(r.error);r.data.dataSource.length===0&&(this.params.page-=1);let i=this.response.dataSource;return this.response=u(u({},this.response),r.data),this.response.dataSource=i.concat(r.data.dataSource),this.emit(6,u({},this.response)),this.emit(5,[...r.data.dataSource]),this.emit(4,{dataSource:[...this.response.dataSource],reason:"load_more"}),R.Ok(u({},this.response))})}loadMore(){return k(this,null,function*(){if(this.response.loading||this.response.noMore)return;let a=this.params,{page:e}=a,n=re(a,["page"]),r=yield this.fetch(B(u({},n),{page:e+1}));if(r.error)return this.response.error=r.error,this.emit(7,r.error),this.emit(6,u({},this.response)),R.Err(r.error);let i=this.response.dataSource;return this.response=u(u({},this.response),r.data),this.response.dataSource=i.concat(r.data.dataSource),this.emit(6,u({},this.response)),this.emit(5,[...r.data.dataSource]),this.emit(4,{dataSource:[...this.response.dataSource],reason:"load_more"}),R.Ok(u({},this.response))})}goto(e,n){return k(this,null,function*(){let h=this.params,{page:r,pageSize:i}=h,a=re(h,["page","pageSize"]),l=yield this.fetch(B(u({},a),{page:e<=_e?_e:e,pageSize:n!==void 0?n:i}));return l.error?(this.response.error=l.error,this.emit(7,l.error),this.emit(6,u({},this.response)),R.Err(l.error)):(this.response=u(u({},this.response),l.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"goto"}),R.Ok(u({},this.response)))})}search(...e){return k(this,null,function*(){this.emit(1);let n=yield this.fetch(u(u({},this.initialParams),e[0]));return this.emit(2,{params:e[0]}),n.error?(this.response.error=n.error,this.emit(7,n.error),this.emit(6,u({},this.response)),R.Err(n.error)):(this.response=u(u({},this.response),n.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"search"}),R.Ok(u({},this.response)))})}reset(){return k(this,arguments,function*(e={}){this.params=u({},this.initialParams);let n=yield this.fetch(e);return n.error?(this.response.error=n.error,this.emit(7,n.error),this.emit(6,u({},this.response)),R.Err(n.error)):(this.response=u(u({},this.response),n.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"reset"}),R.Ok(u({},this.response)))})}reload(){return k(this,null,function*(){return yield this.fetch({})})}refresh(){return k(this,null,function*(){let i=this.params,{page:e}=i,n=re(i,["page"]);this.response.refreshing=!0,this.emit(6,u({},this.response));let r=yield this.fetch(B(u({},n),{page:1,next_marker:""}));return this.response.refreshing=!1,r.error?(this.response.error=r.error,this.emit(7,r.error),this.emit(6,u({},this.response)),R.Err(r.error)):(this.response=u(u({},this.response),r.data),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"refresh"}),R.Ok(u({},this.response)))})}clear(){this.response=u({},Ft),this.params=u({},Bt),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"clear"})}deleteItem(e){let{dataSource:n}=this.response,r=n.filter(i=>!e(i));this.response.total=r.length,this.response.dataSource=r,this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})}deleteItems(e){return k(this,null,function*(){let{dataSource:n}=this.response,r=n.filter(i=>!e.includes(i));this.response.total=r.length,this.response.dataSource=r,this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})})}modifyItem(e){let{dataSource:n}=this.response,r=[];for(let i=0;i<n.length;i+=1){let a=n[i],l=e(a);l||(l=a),r.push(l)}this.response.dataSource=r,this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})}replaceDataSource(e){this.response.dataSource=e,this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})}modifyDataSource(e){this.response.dataSource=this.response.dataSource.map(n=>e(n)),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})}modifyResponse(e){this.response=e(u({},this.response)),this.emit(6,u({},this.response)),this.emit(4,{dataSource:[...this.response.dataSource],reason:"manually"})}modifyParams(e){this.params=e(this.params),this.emit(3,u({},this.params))}modifySearch(e){this.params=B(u({},e(this.params)),{page:this.params.page,pageSize:this.params.pageSize}),this.emit(3,u({},this.params))}onStateChange(e){return this.on(6,e)}onLoadingChange(e){return this.on(0,e)}onBeforeSearch(e){return this.on(1,e)}onAfterSearch(e){return this.on(2,e)}onDataSourceChange(e){return this.on(4,e)}onDataSourceAdded(e){return this.on(5,e)}onError(e){return this.on(7,e)}onComplete(e){return this.on(8,e)}};o(Ve,"defaultResponse",()=>u({},Ft)),o(Ve,"commonProcessor",wu);var to=Ve;var no=class extends T{constructor(e){super(e);o(this,"shape","multiple-select");o(this,"value",[]);o(this,"defaultValue",[]);o(this,"options",[]);let{defaultValue:n,options:r,onChange:i}=e;this.defaultValue=n,this.value=n,this.options=r,i&&this.onChange(i)}get state(){return{value:this.value,options:this.options}}setValue(e){this.value=e,this.emit(0,[...this.value])}toggle(e){if(this.value.includes(e)){this.remove(e);return}this.select(e)}select(e){this.value.includes(e)||(this.value.push(e),this.emit(0,[...this.value]),this.emit(1,u({},this.state)))}remove(e){this.value.includes(e)&&(this.value=this.value.filter(n=>n!==e),this.emit(0,[...this.value]),this.emit(1,u({},this.state)))}isEmpty(){return this.value.length===0}clear(){this.value=[],this.emit(0,[...this.value]),this.emit(1,u({},this.state))}onChange(e){return this.on(0,e)}onStateChange(e){return this.on(1,e)}};var ee={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},de={L:1,M:0,Q:3,H:2},Se={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},V={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo(s){let t=s<<10;for(;V.getBCHDigit(t)-V.getBCHDigit(V.G15)>=0;)t^=V.G15<<V.getBCHDigit(t)-V.getBCHDigit(V.G15);return(s<<10|t)^V.G15_MASK},getBCHTypeNumber(s){let t=s<<12;for(;V.getBCHDigit(t)-V.getBCHDigit(V.G18)>=0;)t^=V.G18<<V.getBCHDigit(t)-V.getBCHDigit(V.G18);return s<<12|t},getBCHDigit(s){let t=0;for(;s!=0;)t++,s>>>=1;return t},getPatternPosition(s){return V.PATTERN_POSITION_TABLE[s-1]},getMask(s,t,e){switch(s){case Se.PATTERN000:return(t+e)%2==0;case Se.PATTERN001:return t%2==0;case Se.PATTERN010:return e%3==0;case Se.PATTERN011:return(t+e)%3==0;case Se.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2==0;case Se.PATTERN101:return t*e%2+t*e%3==0;case Se.PATTERN110:return(t*e%2+t*e%3)%2==0;case Se.PATTERN111:return(t*e%3+(t+e)%2)%2==0;default:throw new Error(`bad maskPattern:${s}`)}},getErrorCorrectPolynomial(s){let t=new qn([1],0);for(let e=0;e<s;e++)t=t.multiply(new qn([1,j.gexp(e)],0));return t},getLengthInBits(s,t){if(t>=1&&t<10)switch(s){case ee.MODE_NUMBER:return 10;case ee.MODE_ALPHA_NUM:return 9;case ee.MODE_8BIT_BYTE:return 8;case ee.MODE_KANJI:return 8;default:throw new Error(`mode:${s}`)}else if(t<27)switch(s){case ee.MODE_NUMBER:return 12;case ee.MODE_ALPHA_NUM:return 11;case ee.MODE_8BIT_BYTE:return 16;case ee.MODE_KANJI:return 10;default:throw new Error(`mode:${s}`)}else if(t<41)switch(s){case ee.MODE_NUMBER:return 14;case ee.MODE_ALPHA_NUM:return 13;case ee.MODE_8BIT_BYTE:return 16;case ee.MODE_KANJI:return 12;default:throw new Error(`mode:${s}`)}else throw new Error(`type:${t}`)},getLostPoint(s){let t=s.getModuleCount(),e=0;for(var n=0;n<t;n++)for(var r=0;r<t;r++){let l=0,h=s.isDark(n,r);for(let d=-1;d<=1;d++)if(!(n+d<0||t<=n+d))for(let f=-1;f<=1;f++)r+f<0||t<=r+f||d==0&&f==0||h==s.isDark(n+d,r+f)&&l++;l>5&&(e+=3+l-5)}for(let l=0;l<t-1;l+=1)for(let h=0;h<t-1;h+=1){let d=0;s.isDark(l,h)&&d++,s.isDark(l+1,h)&&d++,s.isDark(l,h+1)&&d++,s.isDark(l+1,h+1)&&d++,(d==0||d==4)&&(e+=3)}for(var n=0;n<t;n++)for(var r=0;r<t-6;r++)s.isDark(n,r)&&!s.isDark(n,r+1)&&s.isDark(n,r+2)&&s.isDark(n,r+3)&&s.isDark(n,r+4)&&!s.isDark(n,r+5)&&s.isDark(n,r+6)&&(e+=40);for(var r=0;r<t;r++)for(var n=0;n<t-6;n++)s.isDark(n,r)&&!s.isDark(n+1,r)&&s.isDark(n+2,r)&&s.isDark(n+3,r)&&s.isDark(n+4,r)&&!s.isDark(n+5,r)&&s.isDark(n+6,r)&&(e+=40);let i=0;for(var r=0;r<t;r++)for(var n=0;n<t;n++)s.isDark(n,r)&&i++;let a=Math.abs(100*i/t/t-50)/5;return e+=a*10,e}},j={glog(s){if(s<1)throw new Error(`glog(${s})`);return j.LOG_TABLE[s]},gexp(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return j.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};(()=>{for(let s=0;s<8;s+=1)j.EXP_TABLE[s]=1<<s;for(let s=8;s<256;s+=1)j.EXP_TABLE[s]=j.EXP_TABLE[s-4]^j.EXP_TABLE[s-5]^j.EXP_TABLE[s-6]^j.EXP_TABLE[s-8];for(let s=0;s<255;s+=1)j.LOG_TABLE[j.EXP_TABLE[s]]=s})();var qn=class Un{constructor(t,e){o(this,"num");if(t.length===void 0)throw new Error(`${t.length}/${e}`);let n=0;for(;n<t.length&&t[n]===0;)n++;this.num=new Array(t.length-n+e);for(let r=0;r<t.length-n;r+=1)this.num[r]=t[r+n]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){let e=new Array(this.getLength()+t.getLength()-1);for(let n=0;n<this.getLength();n++)for(let r=0;r<t.getLength();r++)e[n+r]^=j.gexp(j.glog(this.get(n))+j.glog(t.get(r)));return new Un(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;let e=j.glog(this.get(0))-j.glog(t.get(0)),n=new Array(this.getLength());for(let r=0;r<this.getLength();r++)n[r]=this.get(r);for(let r=0;r<t.getLength();r++)n[r]^=j.gexp(j.glog(t.get(r))+e);return new Un(n,0).mod(t)}},Pu=class{constructor(s){o(this,"mode");o(this,"parsedData");o(this,"data");this.mode=ee.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(let t=0,e=this.data.length;t<e;t++){let n=[],r=this.data.charCodeAt(t);r>65536?(n[0]=240|(r&1835008)>>>18,n[1]=128|(r&258048)>>>12,n[2]=128|(r&4032)>>>6,n[3]=128|r&63):r>2048?(n[0]=224|(r&61440)>>>12,n[1]=128|(r&4032)>>>6,n[2]=128|r&63):r>128?(n[0]=192|(r&1984)>>>6,n[1]=128|r&63):n[0]=r,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(s){for(let t=0,e=this.parsedData.length;t<e;t++)s.put(this.parsedData[t],8)}},te,Ou=(te=class{constructor(t,e){o(this,"typeNumber");o(this,"errorCorrectLevel");o(this,"modules",[]);o(this,"moduleCount");o(this,"dataCache");o(this,"dataList");this.typeNumber=t,this.errorCorrectLevel=e,this.modules=[],this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){let e=new Pu(t);this.dataList.push(e),this.dataCache=null}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(`${t},${e}`);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=te.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(let r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(n>=0&&n<=6&&(r==0||r==6)||r>=0&&r<=6&&(n==0||n==6)||n>=2&&n<=4&&r>=2&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)}getBestMaskPattern(){let t=0,e=0;for(let n=0;n<8;n++){this.makeImpl(!0,n);let r=V.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){let t=V.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let n=0;n<t.length;n++){let r=t[e],i=t[n];if(this.modules[r][i]==null)for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a==-2||a==2||l==-2||l==2||a==0&&l==0?this.modules[r+a][i+l]=!0:this.modules[r+a][i+l]=!1}}setupTypeNumber(t){let e=V.getBCHTypeNumber(this.typeNumber);for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}}setupTypeInfo(t,e){let n=this.errorCorrectLevel<<3|e,r=V.getBCHTypeInfo(n);for(var i=0;i<15;i++){var a=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let n=-1,r=this.moduleCount-1,i=7,a=0;for(let l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(let h=0;h<2;h++)if(this.modules[r][l-h]==null){let d=!1;a<t.length&&(d=(t[a]>>>i&1)==1),V.getMask(e,r,l-h)&&(d=!d),this.modules[r][l-h]=d,i--,i==-1&&(a++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}},o(te,"PAD0",236),o(te,"PAD1",17),o(te,"createData",function(t,e,n){let r=xu.getRSBlocks(t,e),i=new Ru;for(let l=0;l<n.length;l+=1){let h=n[l];i.put(h.mode,4),i.put(h.getLength(),V.getLengthInBits(h.mode,t)),h.write(i)}let a=0;for(let l=0;l<r.length;l+=1)a+=r[l].dataCount;if(i.getLengthInBits()>a*8)throw new Error(`code length overflow. (${i.getLengthInBits()}>${a*8})`);for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(te.PAD0,8),i.getLengthInBits()>=a*8));)i.put(te.PAD1,8);return te.createBytes(i,r)}),o(te,"createBytes",function(t,e){let n=0,r=0,i=0,a=new Array(e.length),l=new Array(e.length);for(let m=0;m<e.length;m+=1){let g=e[m].dataCount,w=e[m].totalCount-g;r=Math.max(r,g),i=Math.max(i,w),a[m]=new Array(g);for(let L=0;L<a[m].length;L+=1)a[m][L]=255&t.buffer[L+n];n+=g;let H=V.getErrorCorrectPolynomial(w),C=new qn(a[m],H.getLength()-1).mod(H);l[m]=new Array(H.getLength()-1);for(let L=0;L<l[m].length;L+=1){let x=L+C.getLength()-l[m].length;l[m][L]=x>=0?C.get(x):0}}let h=0;for(let m=0;m<e.length;m+=1)h+=e[m].totalCount;let d=new Array(h),f=0;for(let m=0;m<r;m+=1)for(let g=0;g<e.length;g+=1)m<a[g].length&&(d[f++]=a[g][m]);for(var c=0;c<i;c++)for(var p=0;p<e.length;p++)c<l[p].length&&(d[f++]=l[p][c]);return d}),te),Q,xu=(Q=class{constructor(t,e){o(this,"totalCount");o(this,"dataCount");this.totalCount=t,this.dataCount=e}},o(Q,"RS_BLOCK_TABLE",[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]]),o(Q,"getRSBlocks",function(t,e){let n=Q.getRsBlockTable(t,e);if(n==null)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${e}`);let r=n.length/3,i=[];for(let a=0;a<r;a++){let l=n[a*3+0],h=n[a*3+1],d=n[a*3+2];for(let f=0;f<l;f++)i.push(new Q(h,d))}return i}),o(Q,"getRsBlockTable",function(t,e){switch(e){case de.L:return Q.RS_BLOCK_TABLE[(t-1)*4+0];case de.M:return Q.RS_BLOCK_TABLE[(t-1)*4+1];case de.Q:return Q.RS_BLOCK_TABLE[(t-1)*4+2];case de.H:return Q.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}),Q),Ru=class{constructor(){o(this,"length");o(this,"buffer");this.buffer=[],this.length=0}get(s){let t=Math.floor(s/8);return(this.buffer[t]>>>7-s%8&1)==1}put(s,t){for(let e=0;e<t;e++)this.putBit((s>>>t-e-1&1)==1)}getLengthInBits(){return this.length}putBit(s){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),s&&(this.buffer[t]|=128>>>this.length%8),this.length++}},qe=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _u(s,t){let e=1,n=Du(s);for(let r=0,i=qe.length;r<=i;r++){let a=0;switch(t){case de.L:a=qe[r][0];break;case de.M:a=qe[r][1];break;case de.Q:a=qe[r][2];break;case de.H:a=qe[r][3];break}if(n<=a)break;e++}if(e>qe.length)throw new Error("Too long data");return e}function Du(s){let t=encodeURI(s).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=s?3:0)}var Vn,ro=(Vn=class{constructor(s){o(this,"_htOption");o(this,"_oQRCode",null);this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:de.H,text:""};let t=typeof s=="string"?{text:s}:s||{};for(let e in t)this._htOption[e]=t[e];this._oQRCode=null}fetchModel(s,t={}){return[void 0,null,""].includes(s)?(console.error("\u4E8C\u7EF4\u7801\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"),null):(this._oQRCode=new Ou(_u(s,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(s),this._oQRCode.make(),this._oQRCode)}},o(Vn,"CorrectLevel",de),Vn);var Kn=class{constructor(t){o(this,"ctx");o(this,"isPainted",!1);o(this,"options");let{ctx:e}=t;this.options=t,this.ctx=e}draw(t){let{ctx:e}=this,{options:n}=this,r=t.getModuleCount(),i=n.width/r,a=n.height/r,l=Math.round(i),h=Math.round(a);console.log("count",r,l,h),this.clear();for(let d=0;d<r;d++)for(let f=0;f<r;f++){let c=t.isDark(d,f),p=f*i,m=d*a;e.strokeStyle=c?"#000000":"#ffffff",e.lineWidth=1,e.fillStyle=c?"#000000":"#ffffff",e.fillRect(p,m,i,a),e.strokeRect(Math.floor(p)+.5,Math.floor(m)+.5,l,h),e.strokeRect(Math.ceil(p)-.5,Math.ceil(m)-.5,l,h)}this.isPainted=!0}clear(){this.ctx.clearRect(0,0,this.options.width,this.options.height),this.isPainted=!1}round(t){return t&&Math.floor(t*1e3)/1e3}};function ym(s,t){return k(this,null,function*(){let{width:e,height:n}=t,r=new Kn(t),i=yield new ro({width:e,height:n}).fetchModel(s,t);r.draw(i)})}var so=class extends T{constructor(e){super(e);o(this,"key");o(this,"values");o(this,"defaultValues");o(this,"client");o(this,"set",It(100,(e,n)=>{let r=B(u({},this.values),{[e]:n});this.values=r,this.client.setItem(this.key,JSON.stringify(this.values)),this.emit(0,u({},this.state))}));o(this,"merge",(e,n,r={})=>{let i=this.get(e)||{};if(Array.isArray(i)){let a=r.reverse?[...n,...i]:[...i,...n];return r.limit&&(a=a.slice(0,r.limit)),this.set(e,a),a}if(typeof i=="object"&&typeof n=="object"){let a=u(u({},i),n);return this.set(e,a),a}return console.warn("the params of merge must be object"),i});let{key:n,client:r,defaultValues:i,values:a}=e;this.key=n,this.values=a,this.values=u(u({},i),a),this.defaultValues=i,this.client=r}get state(){return{values:this.values}}get(e,n){let r=this.values[e];if(r===void 0){if(n)return n[e];throw new Error("the default value no existing")}return r}clear(e){if(this.values[e]===void 0)return null;this.values=B(u({},this.values),{[e]:this.defaultValues[e]}),this.client.setItem(this.key,JSON.stringify(this.values)),this.emit(0,u({},this.state))}remove(e){this.clear(e)}onStateChange(e){return this.on(0,e)}};var zn=class{constructor(){o(this,"connection","unknown");typeof window!="undefined"&&(this.connection=this.query_network())}query_network(){if(navigator.connection)return navigator.connection.type;let t=navigator.userAgent,e=/NetType\/(\S*)/,n=t.match(e);return n?n[1]:"unknown"}},Om=new zn;var io=class{constructor(){o(this,"timer",null)}interval(t,e){this.timer===null&&setInterval(()=>{t()},e)}clear(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}};var oo=(S=>(S[S.Connected=0]="Connected",S[S.Mounted=1]="Mounted",S[S.UrlChange=2]="UrlChange",S[S.CurrentTimeChange=3]="CurrentTimeChange",S[S.BeforeAdjustCurrentTime=4]="BeforeAdjustCurrentTime",S[S.TargetTimeChange=5]="TargetTimeChange",S[S.AfterAdjustCurrentTime=6]="AfterAdjustCurrentTime",S[S.ResolutionChange=7]="ResolutionChange",S[S.VolumeChange=8]="VolumeChange",S[S.RateChange=9]="RateChange",S[S.SizeChange=10]="SizeChange",S[S.Preload=11]="Preload",S[S.Ready=12]="Ready",S[S.Loaded=13]="Loaded",S[S.SourceLoaded=14]="SourceLoaded",S[S.CanPlay=15]="CanPlay",S[S.Play=16]="Play",S[S.Progress=17]="Progress",S[S.Pause=18]="Pause",S[S.BeforeLoadStart=19]="BeforeLoadStart",S[S.BeforeEnded=20]="BeforeEnded",S[S.CanSetCurrentTime=21]="CanSetCurrentTime",S[S.End=22]="End",S[S.Resize=23]="Resize",S[S.ExitFullscreen=24]="ExitFullscreen",S[S.Error=25]="Error",S[S.StateChange=26]="StateChange",S))(oo||{}),jn=class extends T{constructor(e){super(e);o(this,"metadata",null);o(this,"$app");o(this,"_timer",null);o(this,"_canPlay",!1);o(this,"_ended",!1);o(this,"_duration",0);o(this,"_currentTime",0);o(this,"_curVolume",.5);o(this,"_curRate",1);o(this,"url","");o(this,"playing",!1);o(this,"paused",!1);o(this,"poster");o(this,"subtitle",null);o(this,"_mounted",!1);o(this,"_connected",!1);o(this,"_target_current_time",0);o(this,"_subtitleVisible",!1);o(this,"prepareFullscreen",!1);o(this,"_progress",0);o(this,"virtualProgress",0);o(this,"errorMsg","");o(this,"_passPoint",!1);o(this,"_size",{width:0,height:0});o(this,"_abstractNode",null);o(this,"hasPlayed",!1);o(this,"pendingRate",null);o(this,"exitFullscreen",()=>{let e=this._abstractNode;e&&e.exitFullscreen()});o(this,"_pending_url","");o(this,"updated",!1);o(this,"isFullscreen",!1);o(this,"startLoad",!1);let{app:n,volume:r,rate:i}=e;r&&(this._curVolume=r),i&&(this._curRate=i),this.$app=n}get currentTime(){return this._currentTime}get state(){return{playing:this.playing,poster:this.poster,width:this._size.width,height:this._size.height,ready:this._canPlay,error:this.errorMsg,rate:this._curRate,volume:this._curVolume,currentTime:this._currentTime,subtitle:this.subtitle,prepareFullscreen:this.prepareFullscreen}}bindAbstractNode(e){this._abstractNode=e,console.log("[DOMAIN]player/index - bindAbstractNode",this.unique_id,e,this.pendingRate),this._abstractNode&&(this.pendingRate&&(this.changeRate(this.pendingRate),this.pendingRate=null),this._abstractNode.setVolume(this._curVolume))}play(){return k(this,null,function*(){console.log("[DOMAIN]player/index - play",this._abstractNode,this.playing),this._abstractNode!==null&&(this.playing||(this._abstractNode.play(),this.hasPlayed=!0,this._abstractNode.setRate(this._curRate),this.playing=!0,this.paused=!1,this.emit(26,u({},this.state))))})}pause(){return k(this,null,function*(){this._abstractNode!==null&&(this._abstractNode.pause(),this.playing=!1,this.paused=!0,this.emit(26,u({},this.state)))})}changeVolume(e){this._abstractNode!==null&&(this._curVolume=e,this._abstractNode.setVolume(e),this.emit(8,{volume:e}))}changeRate(e){if(this._abstractNode===null){this.pendingRate=e;return}this._curRate=e,console.log("[DOMAIN]player/index - changeRate",e),this._abstractNode.setRate(e),this.emit(9,{rate:e})}showAirplay(){this._abstractNode!==null&&this._abstractNode.showAirplay()}pictureInPicture(){this._abstractNode!==null&&this._abstractNode.pictureInPicture()}toggleSubtitle(){this._subtitleVisible=!this._subtitleVisible}setPoster(e){e!==null&&(this.poster=e,this.emit(26,u({},this.state)))}setCurrentTime(e=0){console.log("[DOMAIN]player/index - setCurrentTime",this._abstractNode,e),this._abstractNode!==null&&(this._currentTime=e||0,this._abstractNode.setCurrentTime(e||0))}speedUp(){let e=this._currentTime+10;this._duration&&e>=this._duration&&(e=this._duration),this.setCurrentTime(e)}rewind(){let e=this._currentTime-10;e<=0&&(e=0),this.setCurrentTime(e)}setSize(e){if(this._size.width!==0&&this._size.width===e.width&&this._size.height!==0&&this._size.height===e.height)return;let n=this.$app,{width:r,height:i}=e,a=Math.ceil(i/r*n.screen.width);console.log("[DOMAIN]player/index - setSize",n.screen.width,a),!Number.isNaN(a)&&(this._size={width:n.screen.width,height:a>n.screen.height?n.screen.height:a},this.emit(10,u({},this._size)),this.emit(26,u({},this.state)))}setResolution(e){this.emit(7,e)}clearSubtitle(){this.subtitle=null,this.emit(26,u({},this.state))}showSubtitle(e){this.subtitle=e,this.emit(26,u({},this.state));let n=this._abstractNode;n&&setTimeout(()=>{this._subtitleVisible=!0,n.showSubtitle()},800)}toggleSubtitleVisible(){if(console.log("[DOMAIN]player/index - toggleSubtitleVisible",this._abstractNode,this._subtitleVisible),!!this._abstractNode){if(this._subtitleVisible){this._subtitleVisible=!1,this._abstractNode.hideSubtitle();return}this._subtitleVisible=!0,this._abstractNode.showSubtitle()}}requestFullScreen(){let e=this._abstractNode;if(e){if(this.$app.env.android){this.play(),e.requestFullscreen();return}this.pause(),e.enableFullscreen(),this.play()}}loadSource(e){this.metadata=e,this._canPlay=!1,this.errorMsg="",this.emit(2,e),this.emit(26,u({},this.state))}preloadSource(e){this.emit(11,{url:e})}canPlayType(e){return this._abstractNode?this._abstractNode.canPlayType(e):!1}load(e){if(console.log("[DOMAIN]player - load",this.unique_id,e,this._abstractNode),this._canPlay=!1,!this._abstractNode){this._pending_url=e;return}e&&e===this.url||(this.url=e,this._abstractNode.load(e))}startAdjustCurrentTime(){this.emit(4)}adjustProgressManually(e){let n=e*this._duration;this.virtualProgress=e,this.emit(5,n)}adjustCurrentTime(e){this.hasPlayed&&!this.playing&&this.play();let n=e;n<0&&(n=0),n>this._duration&&(n=this._duration),this.setCurrentTime(n),this.emit(6,{time:n})}screenshot(){return k(this,null,function*(){return R.Err("\u8BF7\u5B9E\u73B0 screenshot \u65B9\u6CD5")})}node(){return this._abstractNode?this._abstractNode.$node:null}handleTimeUpdate({currentTime:e,duration:n}){if(this.startLoad&&!this.updated&&(this.emit(21),this.updated=!0),this._currentTime===e)return;this._currentTime=e,typeof n=="number"&&!Number.isNaN(n)&&(this._duration=n);let r=Math.floor(e/this._duration*100);if(this._progress=r,this.emit(17,{currentTime:this._currentTime,duration:this._duration,progress:this._progress}),e+10>=this._duration){if(this._passPoint)return;this.emit(20),this._passPoint=!0;return}this._passPoint=!1}enableFullscreen(){let e=this._abstractNode;e&&(this.prepareFullscreen=!0,e.enableFullscreen(),this.emit(26,u({},this.state)))}disableFullscreen(){let e=this._abstractNode;e&&(this.prepareFullscreen=!1,e.disableFullscreen(),this.emit(26,u({},this.state)))}setMounted(){if(console.log("[DOMAIN]player/index - setMounted - before",this._mounted,this._pending_url),this._mounted=!0,this._pending_url&&this._abstractNode){let e=this._pending_url;this._pending_url="",this.load(e)}this.emit(1),this.emit(12)}setConnected(){if(console.log("[DOMAIN]player/index - setConnected - before",this._mounted,this._pending_url),this._mounted=!0,this._pending_url&&this._abstractNode){let e=this._pending_url;this._pending_url="",this.load(e)}this.emit(0)}setInvalid(e){this.errorMsg=e,this.emit(26,u({},this.state))}handleFullscreenChange(e){this.isFullscreen=e,e===!1&&this.emit(24)}handlePause({currentTime:e,duration:n}){this.emit(18,{currentTime:e,duration:n})}handleVolumeChange(e){this._curVolume=e,this.emit(8,{volume:e})}handleResize(e){}handleStartLoad(){this.startLoad=!0}handleEnded(){this.playing=!1,this._ended=!0,this.emit(22,{current_time:this._currentTime,duration:this._duration})}handleLoadedmetadata(e){let{width:n,height:r}=e;this.setSize({width:n,height:r}),this._duration=e.duration,this.emit(14)}handleLoad(){this.emit(13)}handleCanPlay(){this._canPlay||(this._canPlay=!0,this.emit(15),this.emit(26,u({},this.state)))}handlePlay(){}handlePlaying(){this.hasPlayed=!0}handleError(e){this.emit(25,new Error(e))}onReady(e){return this.on(12,e)}onBeforeStartLoad(e){return this.on(19,e)}onLoaded(e){return this.on(13,e)}onProgress(e){return this.on(17,e)}onCanPlay(e){return this.on(15,e)}onUrlChange(e){return this.on(2,e)}onExitFullscreen(e){return this.on(24,e)}onPreload(e){return this.on(11,e)}onBeforeEnded(e){return this.on(20,e)}onSizeChange(e){return this.on(10,e)}onVolumeChange(e){return this.on(8,e)}onRateChange(e){return this.on(9,e)}onPause(e){return this.on(18,e)}onResolutionChange(e){return this.on(7,e)}onCanSetCurrentTime(e){return this.on(21,e)}beforeAdjustCurrentTime(e){return this.on(4,e)}afterAdjustCurrentTime(e){return this.on(6,e)}onPlay(e){return this.on(16,e)}onSourceLoaded(e){return this.on(14,e)}onTargetTimeChange(e){return this.on(5,e)}onCurrentTimeChange(e){return this.on(3,e)}onEnd(e){return this.on(22,e)}onError(e){return this.on(25,e)}onStateChange(e){return this.on(26,e)}onMounted(e){return this.on(1,e)}onConnected(e){return this.on(0,e)}};o(jn,"Events",oo);})();
